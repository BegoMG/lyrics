var fd=Object.defineProperty;var Ya=e=>{throw TypeError(e)};var pd=(e,t,n)=>t in e?fd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var P=(e,t,n)=>pd(e,typeof t!="symbol"?t+"":t,n),ur=(e,t,n)=>t.has(e)||Ya("Cannot "+n);var D=(e,t,n)=>(ur(e,t,"read from private field"),n?n.call(e):t.get(e)),it=(e,t,n)=>t.has(e)?Ya("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Y=(e,t,n,i)=>(ur(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),Lt=(e,t,n)=>(ur(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const ou=!1;var la=Array.isArray,gd=Array.prototype.indexOf,ca=Array.from,Co=Object.defineProperty,as=Object.getOwnPropertyDescriptor,ru=Object.getOwnPropertyDescriptors,md=Object.prototype,vd=Array.prototype,ua=Object.getPrototypeOf,Ua=Object.isExtensible;const qn=()=>{};function bd(e){return e()}function Er(e){for(var t=0;t<e.length;t++)e[t]()}function au(){var e,t,n=new Promise((i,s)=>{e=i,t=s});return{promise:n,resolve:e,reject:t}}const Zt=2,ha=4,$o=8,ii=16,an=32,si=64,da=128,de=256,Eo=512,It=1024,ie=2048,ln=4096,ke=8192,zi=16384,fa=32768,Xo=65536,$a=1<<17,_d=1<<18,Ni=1<<19,lu=1<<20,Pr=1<<21,Go=1<<22,Yn=1<<23,gi=Symbol("$state"),xd=Symbol(""),ls=new class extends Error{constructor(){super(...arguments);P(this,"name","StaleReactionError");P(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function cu(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function yd(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function wd(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ad(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function kd(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Sd(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Md(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Cd(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ed(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Pd(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Zo=1,Ko=2,uu=4,Dd=8,Td=16,Id=1,Od=2,Tt=Symbol(),Rd="http://www.w3.org/1999/xhtml";function Ld(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Bd=!1;function hu(e){return e===this.v}function du(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function fu(e){return!du(e,this.v)}let Rs=!1,Fd=!1;function zd(){Rs=!0}let gt=null;function Mi(e){gt=e}function Ce(e,t=!1,n){gt={p:gt,c:null,e:null,s:e,x:null,l:Rs&&!t?{s:null,u:null,$:[]}:null}}function Ee(e){var t=gt,n=t.e;if(n!==null){t.e=null;for(var i of n)Mu(i)}return gt=t.p,{}}function Ls(){return!Rs||gt!==null&&gt.l===null}let fi=[];function Nd(){var e=fi;fi=[],Er(e)}function Zn(e){if(fi.length===0){var t=fi;queueMicrotask(()=>{t===fi&&Nd()})}fi.push(e)}const Wd=new WeakMap;function pu(e){var t=Z;if(t===null)return U.f|=Yn,e;if((t.f&fa)===0){if((t.f&da)===0)throw!t.parent&&e instanceof Error&&gu(e),e;t.b.error(e)}else Ci(e,t)}function Ci(e,t){for(;t!==null;){if((t.f&da)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&gu(e),e}function gu(e){const t=Wd.get(e);t&&(Co(e,"message",{value:t.message}),Co(e,"stack",{value:t.stack}))}const js=new Set;let Et=null,Dr=new Set,dn=[],pa=null,Tr=!1;var yi,wi,Nn,Ts,Ai,ki,Wn,Si,Is,Os,pe,Ir,ho,Or;const pi=class pi{constructor(){it(this,pe);P(this,"current",new Map);it(this,yi,new Map);it(this,wi,new Set);it(this,Nn,0);it(this,Ts,null);it(this,Ai,[]);it(this,ki,[]);it(this,Wn,[]);it(this,Si,[]);it(this,Is,[]);it(this,Os,[]);P(this,"skipped_effects",new Set)}process(t){var o;dn=[];var n=pi.apply(this);for(const r of t)Lt(this,pe,Ir).call(this,r);if(D(this,Nn)===0){Lt(this,pe,Or).call(this);var i=D(this,ki),s=D(this,Wn);Y(this,ki,[]),Y(this,Wn,[]),Y(this,Si,[]),Et=null,Xa(i),Xa(s),(o=D(this,Ts))==null||o.resolve()}else Lt(this,pe,ho).call(this,D(this,ki)),Lt(this,pe,ho).call(this,D(this,Wn)),Lt(this,pe,ho).call(this,D(this,Si));n();for(const r of D(this,Ai))Ti(r);Y(this,Ai,[])}capture(t,n){D(this,yi).has(t)||D(this,yi).set(t,n),this.current.set(t,t.v)}activate(){Et=this}deactivate(){Et=null}flush(){if(dn.length>0){if(this.activate(),Hd(),Et!==null&&Et!==this)return}else D(this,Nn)===0&&Lt(this,pe,Or).call(this);this.deactivate();for(const t of Dr)if(Dr.delete(t),t(),Et!==null)break}increment(){Y(this,Nn,D(this,Nn)+1)}decrement(){Y(this,Nn,D(this,Nn)-1);for(const t of D(this,Is))Nt(t,ie),Kn(t);for(const t of D(this,Os))Nt(t,ln),Kn(t);this.flush()}add_callback(t){D(this,wi).add(t)}settled(){return(D(this,Ts)??Y(this,Ts,au())).promise}static ensure(){if(Et===null){const t=Et=new pi;js.add(Et),pi.enqueue(()=>{Et===t&&t.flush()})}return Et}static enqueue(t){Zn(t)}static apply(t){return qn}};yi=new WeakMap,wi=new WeakMap,Nn=new WeakMap,Ts=new WeakMap,Ai=new WeakMap,ki=new WeakMap,Wn=new WeakMap,Si=new WeakMap,Is=new WeakMap,Os=new WeakMap,pe=new WeakSet,Ir=function(t){var c;t.f^=It;for(var n=t.first;n!==null;){var i=n.f,s=(i&(an|si))!==0,o=s&&(i&It)!==0,r=o||(i&ke)!==0||this.skipped_effects.has(n);if(!r&&n.fn!==null){s?n.f^=It:(i&ha)!==0?D(this,Wn).push(n):(i&It)===0&&((i&Go)!==0&&((c=n.b)!=null&&c.is_pending())?D(this,Ai).push(n):zs(n)&&((n.f&ii)!==0&&D(this,Si).push(n),Ti(n)));var a=n.first;if(a!==null){n=a;continue}}var l=n.parent;for(n=n.next;n===null&&l!==null;)n=l.next,l=l.parent}},ho=function(t){for(const n of t)((n.f&ie)!==0?D(this,Is):D(this,Os)).push(n),Nt(n,It);t.length=0},Or=function(){var t;for(const n of D(this,wi))n();if(D(this,wi).clear(),js.size>1){D(this,yi).clear();let n=!0;for(const i of js){if(i===this){n=!1;continue}for(const[s,o]of this.current){if(i.current.has(s))if(n)i.current.set(s,o);else continue;mu(s)}if(dn.length>0){Et=i;const s=pi.apply(i);for(const o of dn)Lt(t=i,pe,Ir).call(t,o);dn=[],s()}}Et=null}js.delete(this)};let en=pi;function Hd(){var e=vi;Tr=!0;try{var t=0;for(Ka(!0);dn.length>0;){var n=en.ensure();if(t++>1e3){var i,s;Vd()}n.process(dn),wn.clear()}}finally{Tr=!1,Ka(e),pa=null}}function Vd(){try{Sd()}catch(e){Ci(e,pa)}}let Qe=null;function Xa(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var i=e[n++];if((i.f&(zi|ke))===0&&zs(i)&&(Qe=[],Ti(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null&&i.ac===null?Pu(i):i.fn=null),(Qe==null?void 0:Qe.length)>0)){wn.clear();for(const s of Qe)Ti(s);Qe=[]}}Qe=null}}function mu(e){if(e.reactions!==null)for(const t of e.reactions){const n=t.f;(n&Zt)!==0?mu(t):(n&(Go|ii))!==0&&(Nt(t,ie),Kn(t))}}function Kn(e){for(var t=pa=e;t.parent!==null;){t=t.parent;var n=t.f;if(Tr&&t===Z&&(n&ii)!==0)return;if((n&(si|an))!==0){if((n&It)===0)return;t.f^=It}}dn.push(t)}function jd(e){let t=0,n=Jn(0),i;return()=>{sf()&&(m(n),Jo(()=>(t===0&&(i=V(()=>e(()=>cs(n)))),t+=1,()=>{Zn(()=>{t-=1,t===0&&(i==null||i(),i=void 0,cs(n))})})))}}var qd=Xo|Ni|da;function Yd(e,t,n){new Ud(e,t,n)}var _e,ae,aa,Le,Hn,Be,le,Ut,Fe,fn,Vn,pn,jn,gn,Yo,Uo,jt,$d,Xd,fo,po,Rr;class Ud{constructor(t,n,i){it(this,jt);P(this,"parent");it(this,_e,!1);it(this,ae);it(this,aa,null);it(this,Le);it(this,Hn);it(this,Be);it(this,le,null);it(this,Ut,null);it(this,Fe,null);it(this,fn,null);it(this,Vn,0);it(this,pn,0);it(this,jn,!1);it(this,gn,null);it(this,Yo,()=>{D(this,gn)&&Pi(D(this,gn),D(this,Vn))});it(this,Uo,jd(()=>(Y(this,gn,Jn(D(this,Vn))),()=>{Y(this,gn,null)})));Y(this,ae,t),Y(this,Le,n),Y(this,Hn,i),this.parent=Z.b,Y(this,_e,!!D(this,Le).pending),Y(this,Be,_a(()=>{Z.b=this;{try{Y(this,le,xe(()=>i(D(this,ae))))}catch(s){this.error(s)}D(this,pn)>0?Lt(this,jt,po).call(this):Y(this,_e,!1)}},qd))}is_pending(){return D(this,_e)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!D(this,Le).pending}update_pending_count(t){Lt(this,jt,Rr).call(this,t),Y(this,Vn,D(this,Vn)+t),Dr.add(D(this,Yo))}get_effect_pending(){return D(this,Uo).call(this),m(D(this,gn))}error(t){var n=D(this,Le).onerror;let i=D(this,Le).failed;if(D(this,jn)||!n&&!i)throw t;D(this,le)&&(fe(D(this,le)),Y(this,le,null)),D(this,Ut)&&(fe(D(this,Ut)),Y(this,Ut,null)),D(this,Fe)&&(fe(D(this,Fe)),Y(this,Fe,null));var s=!1,o=!1;const r=()=>{if(s){Ld();return}s=!0,o&&Pd(),en.ensure(),Y(this,Vn,0),D(this,Fe)!==null&&mi(D(this,Fe),()=>{Y(this,Fe,null)}),Y(this,_e,this.has_pending_snippet()),Y(this,le,Lt(this,jt,fo).call(this,()=>(Y(this,jn,!1),xe(()=>D(this,Hn).call(this,D(this,ae)))))),D(this,pn)>0?Lt(this,jt,po).call(this):Y(this,_e,!1)};var a=U;try{Xt(null),o=!0,n==null||n(t,r),o=!1}catch(l){Ci(l,D(this,Be)&&D(this,Be).parent)}finally{Xt(a)}i&&Zn(()=>{Y(this,Fe,Lt(this,jt,fo).call(this,()=>{Y(this,jn,!0);try{return xe(()=>{i(D(this,ae),()=>t,()=>r)})}catch(l){return Ci(l,D(this,Be).parent),null}finally{Y(this,jn,!1)}}))})}}_e=new WeakMap,ae=new WeakMap,aa=new WeakMap,Le=new WeakMap,Hn=new WeakMap,Be=new WeakMap,le=new WeakMap,Ut=new WeakMap,Fe=new WeakMap,fn=new WeakMap,Vn=new WeakMap,pn=new WeakMap,jn=new WeakMap,gn=new WeakMap,Yo=new WeakMap,Uo=new WeakMap,jt=new WeakSet,$d=function(){try{Y(this,le,xe(()=>D(this,Hn).call(this,D(this,ae))))}catch(t){this.error(t)}Y(this,_e,!1)},Xd=function(){const t=D(this,Le).pending;t&&(Y(this,Ut,xe(()=>t(D(this,ae)))),en.enqueue(()=>{Y(this,le,Lt(this,jt,fo).call(this,()=>(en.ensure(),xe(()=>D(this,Hn).call(this,D(this,ae)))))),D(this,pn)>0?Lt(this,jt,po).call(this):(mi(D(this,Ut),()=>{Y(this,Ut,null)}),Y(this,_e,!1))}))},fo=function(t){var n=Z,i=U,s=gt;je(D(this,Be)),Xt(D(this,Be)),Mi(D(this,Be).ctx);try{return t()}catch(o){return pu(o),null}finally{je(n),Xt(i),Mi(s)}},po=function(){const t=D(this,Le).pending;D(this,le)!==null&&(Y(this,fn,document.createDocumentFragment()),Gd(D(this,le),D(this,fn))),D(this,Ut)===null&&Y(this,Ut,xe(()=>t(D(this,ae))))},Rr=function(t){var n;if(!this.has_pending_snippet()){this.parent&&Lt(n=this.parent,jt,Rr).call(n,t);return}Y(this,pn,D(this,pn)+t),D(this,pn)===0&&(Y(this,_e,!1),D(this,Ut)&&mi(D(this,Ut),()=>{Y(this,Ut,null)}),D(this,fn)&&(D(this,ae).before(D(this,fn)),Y(this,fn,null)),Zn(()=>{en.ensure().flush()}))};function Gd(e,t){for(var n=e.nodes_start,i=e.nodes_end;n!==null;){var s=n===i?null:Fs(n);t.append(n),n=s}}function Zd(e,t,n){const i=Ls()?ga:Ei;if(t.length===0){n(e.map(i));return}var s=Et,o=Z,r=Kd();Promise.all(t.map(a=>Jd(a))).then(a=>{r();try{n([...e.map(i),...a])}catch(l){(o.f&zi)===0&&Ci(l,o)}s==null||s.deactivate(),vu()}).catch(a=>{Ci(a,o)})}function Kd(){var e=Z,t=U,n=gt,i=Et;return function(){je(e),Xt(t),Mi(n),i==null||i.activate()}}function vu(){je(null),Xt(null),Mi(null)}function ga(e){var t=Zt|ie,n=U!==null&&(U.f&Zt)!==0?U:null;return Z===null||n!==null&&(n.f&de)!==0?t|=de:Z.f|=Ni,{ctx:gt,deps:null,effects:null,equals:hu,f:t,fn:e,reactions:null,rv:0,v:Tt,wv:0,parent:n??Z,ac:null}}function Jd(e,t){let n=Z;n===null&&yd();var i=n.b,s=void 0,o=Jn(Tt),r=!U,a=new Map;return lf(()=>{var d;var l=au();s=l.promise;try{Promise.resolve(e()).then(l.resolve,l.reject)}catch(f){l.reject(f)}var c=Et,u=i.is_pending();r&&(i.update_pending_count(1),u||(c.increment(),(d=a.get(c))==null||d.reject(ls),a.set(c,l)));const h=(f,p=void 0)=>{u||c.activate(),p?p!==ls&&(o.f|=Yn,Pi(o,p)):((o.f&Yn)!==0&&(o.f^=Yn),Pi(o,f)),r&&(i.update_pending_count(-1),u||c.decrement()),vu()};l.promise.then(h,f=>h(null,f||"unknown"))}),ba(()=>{for(const l of a.values())l.reject(ls)}),new Promise(l=>{function c(u){function h(){u===s?l(o):c(s)}u.then(h,h)}c(s)})}function Ei(e){const t=ga(e);return t.equals=fu,t}function bu(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)fe(t[n])}}function Qd(e){for(var t=e.parent;t!==null;){if((t.f&Zt)===0)return t;t=t.parent}return null}function ma(e){var t,n=Z;je(Qd(e));try{bu(e),t=Lu(e)}finally{je(n)}return t}function _u(e){var t=ma(e);if(e.equals(t)||(e.v=t,e.wv=Ou()),!Hi){var n=(mn||(e.f&de)!==0)&&e.deps!==null?ln:It;Nt(e,n)}}const wn=new Map;function Jn(e,t){var n={f:0,v:e,reactions:null,equals:hu,rv:0,wv:0};return n}function un(e,t){const n=Jn(e);return hf(n),n}function H(e,t=!1,n=!0){var s;const i=Jn(e);return t||(i.equals=fu),Rs&&n&&gt!==null&&gt.l!==null&&((s=gt.l).s??(s.s=[])).push(i),i}function St(e,t){return L(e,V(()=>m(e))),t}function L(e,t,n=!1){U!==null&&(!ye||(U.f&$a)!==0)&&Ls()&&(U.f&(Zt|ii|Go|$a))!==0&&!(Vt!=null&&Vt.includes(e))&&Ed();let i=n?Zi(t):t;return Pi(e,i)}function Pi(e,t){if(!e.equals(t)){var n=e.v;Hi?wn.set(e,t):wn.set(e,n),e.v=t;var i=en.ensure();i.capture(e,n),(e.f&Zt)!==0&&((e.f&ie)!==0&&ma(e),Nt(e,(e.f&de)===0?It:ln)),e.wv=Ou(),xu(e,ie),Ls()&&Z!==null&&(Z.f&It)!==0&&(Z.f&(an|si))===0&&(re===null?df([e]):re.push(e))}return t}function Ga(e,t=1){var n=m(e),i=t===1?n++:n--;return L(e,n),i}function cs(e){L(e,e.v+1)}function xu(e,t){var n=e.reactions;if(n!==null)for(var i=Ls(),s=n.length,o=0;o<s;o++){var r=n[o],a=r.f;if(!(!i&&r===Z)){var l=(a&ie)===0;l&&Nt(r,t),(a&Zt)!==0?xu(r,ln):l&&((a&ii)!==0&&Qe!==null&&Qe.push(r),Kn(r))}}}function Zi(e){if(typeof e!="object"||e===null||gi in e)return e;const t=ua(e);if(t!==md&&t!==vd)return e;var n=new Map,i=la(e),s=un(0),o=Un,r=a=>{if(Un===o)return a();var l=U,c=Un;Xt(null),Qa(o);var u=a();return Xt(l),Qa(c),u};return i&&n.set("length",un(e.length)),new Proxy(e,{defineProperty(a,l,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&Md();var u=n.get(l);return u===void 0?u=r(()=>{var h=un(c.value);return n.set(l,h),h}):L(u,c.value,!0),!0},deleteProperty(a,l){var c=n.get(l);if(c===void 0){if(l in a){const u=r(()=>un(Tt));n.set(l,u),cs(s)}}else L(c,Tt),cs(s);return!0},get(a,l,c){var f;if(l===gi)return e;var u=n.get(l),h=l in a;if(u===void 0&&(!h||(f=as(a,l))!=null&&f.writable)&&(u=r(()=>{var p=Zi(h?a[l]:Tt),g=un(p);return g}),n.set(l,u)),u!==void 0){var d=m(u);return d===Tt?void 0:d}return Reflect.get(a,l,c)},getOwnPropertyDescriptor(a,l){var c=Reflect.getOwnPropertyDescriptor(a,l);if(c&&"value"in c){var u=n.get(l);u&&(c.value=m(u))}else if(c===void 0){var h=n.get(l),d=h==null?void 0:h.v;if(h!==void 0&&d!==Tt)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return c},has(a,l){var d;if(l===gi)return!0;var c=n.get(l),u=c!==void 0&&c.v!==Tt||Reflect.has(a,l);if(c!==void 0||Z!==null&&(!u||(d=as(a,l))!=null&&d.writable)){c===void 0&&(c=r(()=>{var f=u?Zi(a[l]):Tt,p=un(f);return p}),n.set(l,c));var h=m(c);if(h===Tt)return!1}return u},set(a,l,c,u){var x;var h=n.get(l),d=l in a;if(i&&l==="length")for(var f=c;f<h.v;f+=1){var p=n.get(f+"");p!==void 0?L(p,Tt):f in a&&(p=r(()=>un(Tt)),n.set(f+"",p))}if(h===void 0)(!d||(x=as(a,l))!=null&&x.writable)&&(h=r(()=>un(void 0)),L(h,Zi(c)),n.set(l,h));else{d=h.v!==Tt;var g=r(()=>Zi(c));L(h,g)}var v=Reflect.getOwnPropertyDescriptor(a,l);if(v!=null&&v.set&&v.set.call(u,c),!d){if(i&&typeof l=="string"){var b=n.get("length"),_=Number(l);Number.isInteger(_)&&_>=b.v&&L(b,_+1)}cs(s)}return!0},ownKeys(a){m(s);var l=Reflect.ownKeys(a).filter(h=>{var d=n.get(h);return d===void 0||d.v!==Tt});for(var[c,u]of n)u.v!==Tt&&!(c in a)&&l.push(c);return l},setPrototypeOf(){Cd()}})}var Za,yu,wu,Au;function tf(){if(Za===void 0){Za=window,yu=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;wu=as(t,"firstChild").get,Au=as(t,"nextSibling").get,Ua(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ua(n)&&(n.__t=void 0)}}function Bs(e=""){return document.createTextNode(e)}function Di(e){return wu.call(e)}function Fs(e){return Au.call(e)}function E(e,t){return Di(e)}function We(e,t=!1){{var n=Di(e);return n instanceof Comment&&n.data===""?Fs(n):n}}function O(e,t=1,n=!1){let i=e;for(;t--;)i=Fs(i);return i}function ef(e){e.textContent=""}function ku(){return!1}function va(e){var t=U,n=Z;Xt(null),je(null);try{return e()}finally{Xt(t),je(n)}}function Su(e){Z===null&&U===null&&kd(),U!==null&&(U.f&de)!==0&&Z===null&&Ad(),Hi&&wd()}function nf(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function qe(e,t,n,i=!0){var s=Z;s!==null&&(s.f&ke)!==0&&(e|=ke);var o={ctx:gt,deps:null,nodes_start:null,nodes_end:null,f:e|ie,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Ti(o),o.f|=fa}catch(l){throw fe(o),l}else t!==null&&Kn(o);if(i){var r=o;if(n&&r.deps===null&&r.teardown===null&&r.nodes_start===null&&r.first===r.last&&(r.f&Ni)===0&&(r=r.first),r!==null&&(r.parent=s,s!==null&&nf(r,s),U!==null&&(U.f&Zt)!==0&&(e&si)===0)){var a=U;(a.effects??(a.effects=[])).push(r)}}return o}function sf(){return U!==null&&!ye}function ba(e){const t=qe($o,null,!1);return Nt(t,It),t.teardown=e,t}function Lr(e){Su();var t=Z.f,n=!U&&(t&an)!==0&&(t&fa)===0;if(n){var i=gt;(i.e??(i.e=[])).push(e)}else return Mu(e)}function Mu(e){return qe(ha|lu,e,!1)}function of(e){return Su(),qe($o|lu,e,!0)}function rf(e){en.ensure();const t=qe(si|Ni,e,!0);return(n={})=>new Promise(i=>{n.outro?mi(t,()=>{fe(t),i(void 0)}):(fe(t),i(void 0))})}function af(e){return qe(ha,e,!1)}function yt(e,t){var n=gt,i={effect:null,ran:!1,deps:e};n.l.$.push(i),i.effect=Jo(()=>{e(),!i.ran&&(i.ran=!0,V(t))})}function Wi(){var e=gt;Jo(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&It)!==0&&Nt(n,ln),zs(n)&&Ti(n),t.ran=!1}})}function lf(e){return qe(Go|Ni,e,!0)}function Jo(e,t=0){return qe($o|t,e,!0)}function bt(e,t=[],n=[]){Zd(t,n,i=>{qe($o,()=>e(...i.map(m)),!0)})}function _a(e,t=0){var n=qe(ii|t,e,!0);return n}function xe(e,t=!0){return qe(an|Ni,e,!0,t)}function Cu(e){var t=e.teardown;if(t!==null){const n=Hi,i=U;Ja(!0),Xt(null);try{t.call(null)}finally{Ja(n),Xt(i)}}}function Eu(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const s=n.ac;s!==null&&va(()=>{s.abort(ls)});var i=n.next;(n.f&si)!==0?n.parent=null:fe(n,t),n=i}}function cf(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&an)===0&&fe(t),t=n}}function fe(e,t=!0){var n=!1;(t||(e.f&_d)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(uf(e.nodes_start,e.nodes_end),n=!0),Eu(e,t&&!n),Po(e,0),Nt(e,zi);var i=e.transitions;if(i!==null)for(const o of i)o.stop();Cu(e);var s=e.parent;s!==null&&s.first!==null&&Pu(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function uf(e,t){for(;e!==null;){var n=e===t?null:Fs(e);e.remove(),e=n}}function Pu(e){var t=e.parent,n=e.prev,i=e.next;n!==null&&(n.next=i),i!==null&&(i.prev=n),t!==null&&(t.first===e&&(t.first=i),t.last===e&&(t.last=n))}function mi(e,t){var n=[];xa(e,n,!0),Du(n,()=>{fe(e),t&&t()})}function Du(e,t){var n=e.length;if(n>0){var i=()=>--n||t();for(var s of e)s.out(i)}else t()}function xa(e,t,n){if((e.f&ke)===0){if(e.f^=ke,e.transitions!==null)for(const r of e.transitions)(r.is_global||n)&&t.push(r);for(var i=e.first;i!==null;){var s=i.next,o=(i.f&Xo)!==0||(i.f&an)!==0;xa(i,t,o?n:!1),i=s}}}function ya(e){Tu(e,!0)}function Tu(e,t){if((e.f&ke)!==0){e.f^=ke,(e.f&It)===0&&(Nt(e,ie),Kn(e));for(var n=e.first;n!==null;){var i=n.next,s=(n.f&Xo)!==0||(n.f&an)!==0;Tu(n,s?t:!1),n=i}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let vi=!1;function Ka(e){vi=e}let Hi=!1;function Ja(e){Hi=e}let U=null,ye=!1;function Xt(e){U=e}let Z=null;function je(e){Z=e}let Vt=null;function hf(e){U!==null&&(Vt===null?Vt=[e]:Vt.push(e))}let Ht=null,Qt=0,re=null;function df(e){re=e}let Iu=1,gs=0,Un=gs;function Qa(e){Un=e}let mn=!1;function Ou(){return++Iu}function zs(e){var h;var t=e.f;if((t&ie)!==0)return!0;if((t&ln)!==0){var n=e.deps,i=(t&de)!==0;if(n!==null){var s,o,r=(t&Eo)!==0,a=i&&Z!==null&&!mn,l=n.length;if((r||a)&&(Z===null||(Z.f&zi)===0)){var c=e,u=c.parent;for(s=0;s<l;s++)o=n[s],(r||!((h=o==null?void 0:o.reactions)!=null&&h.includes(c)))&&(o.reactions??(o.reactions=[])).push(c);r&&(c.f^=Eo),a&&u!==null&&(u.f&de)===0&&(c.f^=de)}for(s=0;s<l;s++)if(o=n[s],zs(o)&&_u(o),o.wv>e.wv)return!0}(!i||Z!==null&&!mn)&&Nt(e,It)}return!1}function Ru(e,t,n=!0){var i=e.reactions;if(i!==null&&!(Vt!=null&&Vt.includes(e)))for(var s=0;s<i.length;s++){var o=i[s];(o.f&Zt)!==0?Ru(o,t,!1):t===o&&(n?Nt(o,ie):(o.f&It)!==0&&Nt(o,ln),Kn(o))}}function Lu(e){var g;var t=Ht,n=Qt,i=re,s=U,o=mn,r=Vt,a=gt,l=ye,c=Un,u=e.f;Ht=null,Qt=0,re=null,mn=(u&de)!==0&&(ye||!vi||U===null),U=(u&(an|si))===0?e:null,Vt=null,Mi(e.ctx),ye=!1,Un=++gs,e.ac!==null&&(va(()=>{e.ac.abort(ls)}),e.ac=null);try{e.f|=Pr;var h=e.fn,d=h(),f=e.deps;if(Ht!==null){var p;if(Po(e,Qt),f!==null&&Qt>0)for(f.length=Qt+Ht.length,p=0;p<Ht.length;p++)f[Qt+p]=Ht[p];else e.deps=f=Ht;if(!mn||(u&Zt)!==0&&e.reactions!==null)for(p=Qt;p<f.length;p++)((g=f[p]).reactions??(g.reactions=[])).push(e)}else f!==null&&Qt<f.length&&(Po(e,Qt),f.length=Qt);if(Ls()&&re!==null&&!ye&&f!==null&&(e.f&(Zt|ln|ie))===0)for(p=0;p<re.length;p++)Ru(re[p],e);return s!==null&&s!==e&&(gs++,re!==null&&(i===null?i=re:i.push(...re))),(e.f&Yn)!==0&&(e.f^=Yn),d}catch(v){return pu(v)}finally{e.f^=Pr,Ht=t,Qt=n,re=i,U=s,mn=o,Vt=r,Mi(a),ye=l,Un=c}}function ff(e,t){let n=t.reactions;if(n!==null){var i=gd.call(n,e);if(i!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[i]=n[s],n.pop())}}n===null&&(t.f&Zt)!==0&&(Ht===null||!Ht.includes(t))&&(Nt(t,ln),(t.f&(de|Eo))===0&&(t.f^=Eo),bu(t),Po(t,0))}function Po(e,t){var n=e.deps;if(n!==null)for(var i=t;i<n.length;i++)ff(e,n[i])}function Ti(e){var t=e.f;if((t&zi)===0){Nt(e,It);var n=Z,i=vi;Z=e,vi=!0;try{(t&ii)!==0?cf(e):Eu(e),Cu(e);var s=Lu(e);e.teardown=typeof s=="function"?s:null,e.wv=Iu;var o;ou&&Fd&&(e.f&ie)!==0&&e.deps}finally{vi=i,Z=n}}}function m(e){var t=e.f,n=(t&Zt)!==0;if(U!==null&&!ye){var i=Z!==null&&(Z.f&zi)!==0;if(!i&&!(Vt!=null&&Vt.includes(e))){var s=U.deps;if((U.f&Pr)!==0)e.rv<gs&&(e.rv=gs,Ht===null&&s!==null&&s[Qt]===e?Qt++:Ht===null?Ht=[e]:(!mn||!Ht.includes(e))&&Ht.push(e));else{(U.deps??(U.deps=[])).push(e);var o=e.reactions;o===null?e.reactions=[U]:o.includes(U)||o.push(U)}}}else if(n&&e.deps===null&&e.effects===null){var r=e,a=r.parent;a!==null&&(a.f&de)===0&&(r.f^=de)}if(Hi){if(wn.has(e))return wn.get(e);if(n){r=e;var l=r.v;return((r.f&It)===0&&r.reactions!==null||Bu(r))&&(l=ma(r)),wn.set(r,l),l}}else n&&(r=e,zs(r)&&_u(r));if((e.f&Yn)!==0)throw e.v;return e.v}function Bu(e){if(e.v===Tt)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(wn.has(t)||(t.f&Zt)!==0&&Bu(t))return!0;return!1}function V(e){var t=ye;try{return ye=!0,e()}finally{ye=t}}const pf=-7169;function Nt(e,t){e.f=e.f&pf|t}function ms(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(gi in e)Br(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&gi in n&&Br(n)}}}function Br(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let i in e)try{Br(e[i],t)}catch{}const n=ua(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const i=ru(n);for(let s in i){const o=i[s].get;if(o)try{o.call(e)}catch{}}}}}const gf=["touchstart","touchmove"];function mf(e){return gf.includes(e)}const vf=new Set,tl=new Set;function bf(e,t,n,i={}){function s(o){if(i.capture||Ki.call(t,o),!o.cancelBubble)return va(()=>n==null?void 0:n.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Zn(()=>{t.addEventListener(e,s,i)}):t.addEventListener(e,s,i),s}function Ot(e,t,n,i,s){var o={capture:i,passive:s},r=bf(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ba(()=>{t.removeEventListener(e,r,o)})}let el=null;function Ki(e){var _;var t=this,n=t.ownerDocument,i=e.type,s=((_=e.composedPath)==null?void 0:_.call(e))||[],o=s[0]||e.target;el=e;var r=0,a=el===e&&e.__root;if(a){var l=s.indexOf(a);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var c=s.indexOf(t);if(c===-1)return;l<=c&&(r=l)}if(o=s[r]||e.target,o!==t){Co(e,"currentTarget",{configurable:!0,get(){return o||n}});var u=U,h=Z;Xt(null),je(null);try{for(var d,f=[];o!==null;){var p=o.assignedSlot||o.parentNode||o.host||null;try{var g=o["__"+i];if(g!=null&&(!o.disabled||e.target===o))if(la(g)){var[v,...b]=g;v.apply(o,[e,...b])}else g.call(o,e)}catch(x){d?f.push(x):d=x}if(e.cancelBubble||p===t||p===null)break;o=p}if(d){for(let x of f)queueMicrotask(()=>{throw x});throw d}}finally{e.__root=t,delete e.currentTarget,Xt(u),je(h)}}}function Fu(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Do(e,t){var n=Z;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function ut(e,t){var n=(t&Id)!==0,i=(t&Od)!==0,s,o=!e.startsWith("<!>");return()=>{s===void 0&&(s=Fu(o?e:"<!>"+e),n||(s=Di(s)));var r=i||yu?document.importNode(s,!0):s.cloneNode(!0);if(n){var a=Di(r),l=r.lastChild;Do(a,l)}else Do(r,r);return r}}function _f(e,t,n="svg"){var i=!e.startsWith("<!>"),s=`<${n}>${i?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var r=Fu(s),a=Di(r);o=Di(a)}var l=o.cloneNode(!0);return Do(l,l),l}}function Qo(e,t){return _f(e,t,"svg")}function xf(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Bs();return e.append(t,n),Do(t,n),e}function nt(e,t){e!==null&&e.before(t)}function Mt(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function yf(e,t){return wf(e,t)}const ci=new Map;function wf(e,{target:t,anchor:n,props:i={},events:s,context:o,intro:r=!0}){tf();var a=new Set,l=h=>{for(var d=0;d<h.length;d++){var f=h[d];if(!a.has(f)){a.add(f);var p=mf(f);t.addEventListener(f,Ki,{passive:p});var g=ci.get(f);g===void 0?(document.addEventListener(f,Ki,{passive:p}),ci.set(f,1)):ci.set(f,g+1)}}};l(ca(vf)),tl.add(l);var c=void 0,u=rf(()=>{var h=n??t.appendChild(Bs());return Yd(h,{pending:()=>{}},d=>{if(o){Ce({});var f=gt;f.c=o}s&&(i.$$events=s),c=e(d,i)||{},o&&Ee()}),()=>{var p;for(var d of a){t.removeEventListener(d,Ki);var f=ci.get(d);--f===0?(document.removeEventListener(d,Ki),ci.delete(d)):ci.set(d,f)}tl.delete(l),h!==n&&((p=h.parentNode)==null||p.removeChild(h))}});return Af.set(c,u),c}let Af=new WeakMap;function bi(e,t,n=!1){var i=e,s=null,o=null,r=Tt,a=n?Xo:0,l=!1;const c=(f,p=!0)=>{l=!0,d(p,f)};var u=null;function h(){u!==null&&(u.lastChild.remove(),i.before(u),u=null);var f=r?s:o,p=r?o:s;f&&ya(f),p&&mi(p,()=>{r?o=null:s=null})}const d=(f,p)=>{if(r!==(r=f)){var g=ku(),v=i;if(g&&(u=document.createDocumentFragment(),u.append(v=Bs())),r?s??(s=p&&xe(()=>p(v))):o??(o=p&&xe(()=>p(v))),g){var b=Et,_=r?s:o,x=r?o:s;_&&b.skipped_effects.delete(_),x&&b.skipped_effects.add(x),b.add_callback(h)}else h()}};_a(()=>{l=!1,t(c),l||d(null,null)},a)}function ce(e,t){return t}function kf(e,t,n){for(var i=e.items,s=[],o=t.length,r=0;r<o;r++)xa(t[r].e,s,!0);var a=o>0&&s.length===0&&n!==null;if(a){var l=n.parentNode;ef(l),l.append(n),i.clear(),Oe(e,t[0].prev,t[o-1].next)}Du(s,()=>{for(var c=0;c<o;c++){var u=t[c];a||(i.delete(u.k),Oe(e,u.prev,u.next)),fe(u.e,!a)}})}function ue(e,t,n,i,s,o=null){var r=e,a={flags:t,items:new Map,first:null},l=(t&uu)!==0;if(l){var c=e;r=c.appendChild(Bs())}var u=null,h=!1,d=new Map,f=Ei(()=>{var b=n();return la(b)?b:b==null?[]:ca(b)}),p,g;function v(){Sf(g,p,a,d,r,s,t,i,n),o!==null&&(p.length===0?u?ya(u):u=xe(()=>o(r)):u!==null&&mi(u,()=>{u=null}))}_a(()=>{g??(g=Z),p=m(f);var b=p.length;if(!(h&&b===0)){h=b===0;var _,x,w,y;if(ku()){var A=new Set,k=Et;for(x=0;x<b;x+=1){w=p[x],y=i(w,x);var C=a.items.get(y)??d.get(y);C?(t&(Zo|Ko))!==0&&zu(C,w,x,t):(_=Nu(null,a,null,null,w,y,x,s,t,n,!0),d.set(y,_)),A.add(y)}for(const[T,B]of a.items)A.has(T)||k.skipped_effects.add(B.e);k.add_callback(v)}else v();m(f)}})}function Sf(e,t,n,i,s,o,r,a,l){var I,N,K,et;var c=(r&Dd)!==0,u=(r&(Zo|Ko))!==0,h=t.length,d=n.items,f=n.first,p=f,g,v=null,b,_=[],x=[],w,y,A,k;if(c)for(k=0;k<h;k+=1)w=t[k],y=a(w,k),A=d.get(y),A!==void 0&&((I=A.a)==null||I.measure(),(b??(b=new Set)).add(A));for(k=0;k<h;k+=1){if(w=t[k],y=a(w,k),A=d.get(y),A===void 0){var C=i.get(y);if(C!==void 0){i.delete(y),d.set(y,C);var T=v?v.next:p;Oe(n,v,C),Oe(n,C,T),hr(C,T,s),v=C}else{var B=p?p.e.nodes_start:s;v=Nu(B,n,v,v===null?n.first:v.next,w,y,k,o,r,l)}d.set(y,v),_=[],x=[],p=v.next;continue}if(u&&zu(A,w,k,r),(A.e.f&ke)!==0&&(ya(A.e),c&&((N=A.a)==null||N.unfix(),(b??(b=new Set)).delete(A))),A!==p){if(g!==void 0&&g.has(A)){if(_.length<x.length){var F=x[0],z;v=F.prev;var J=_[0],ot=_[_.length-1];for(z=0;z<_.length;z+=1)hr(_[z],F,s);for(z=0;z<x.length;z+=1)g.delete(x[z]);Oe(n,J.prev,ot.next),Oe(n,v,J),Oe(n,ot,F),p=F,v=ot,k-=1,_=[],x=[]}else g.delete(A),hr(A,p,s),Oe(n,A.prev,A.next),Oe(n,A,v===null?n.first:v.next),Oe(n,v,A),v=A;continue}for(_=[],x=[];p!==null&&p.k!==y;)(p.e.f&ke)===0&&(g??(g=new Set)).add(p),x.push(p),p=p.next;if(p===null)continue;A=p}_.push(A),v=A,p=A.next}if(p!==null||g!==void 0){for(var W=g===void 0?[]:ca(g);p!==null;)(p.e.f&ke)===0&&W.push(p),p=p.next;var S=W.length;if(S>0){var M=(r&uu)!==0&&h===0?s:null;if(c){for(k=0;k<S;k+=1)(K=W[k].a)==null||K.measure();for(k=0;k<S;k+=1)(et=W[k].a)==null||et.fix()}kf(n,W,M)}}c&&Zn(()=>{var xt;if(b!==void 0)for(A of b)(xt=A.a)==null||xt.apply()}),e.first=n.first&&n.first.e,e.last=v&&v.e;for(var R of i.values())fe(R.e);i.clear()}function zu(e,t,n,i){(i&Zo)!==0&&Pi(e.v,t),(i&Ko)!==0?Pi(e.i,n):e.i=n}function Nu(e,t,n,i,s,o,r,a,l,c,u){var h=(l&Zo)!==0,d=(l&Td)===0,f=h?d?H(s,!1,!1):Jn(s):s,p=(l&Ko)===0?r:Jn(r),g={i:p,v:f,k:o,a:null,e:null,prev:n,next:i};try{if(e===null){var v=document.createDocumentFragment();v.append(e=Bs())}return g.e=xe(()=>a(e,f,p,c),Bd),g.e.prev=n&&n.e,g.e.next=i&&i.e,n===null?u||(t.first=g):(n.next=g,n.e.next=g.e),i!==null&&(i.prev=g,i.e.prev=g.e),g}finally{}}function hr(e,t,n){for(var i=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==null&&o!==i;){var r=Fs(o);s.before(o),o=r}}function Oe(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}const nl=[...` 	
\r\fÂ \v\uFEFF`];function Mf(e,t,n){var i=e==null?"":""+e;if(t&&(i=i?i+" "+t:t),n){for(var s in n)if(n[s])i=i?i+" "+s:s;else if(i.length)for(var o=s.length,r=0;(r=i.indexOf(s,r))>=0;){var a=r+o;(r===0||nl.includes(i[r-1]))&&(a===i.length||nl.includes(i[a]))?i=(r===0?"":i.substring(0,r))+i.substring(a+1):r=a}}return i===""?null:i}function Cf(e,t){return e==null?null:String(e)}function he(e,t,n,i,s,o){var r=e.__className;if(r!==n||r===void 0){var a=Mf(n,i,o);a==null?e.removeAttribute("class"):e.className=a,e.__className=n}else if(o&&s!==o)for(var l in o){var c=!!o[l];(s==null||c!==!!s[l])&&e.classList.toggle(l,c)}return o}function Ii(e,t,n,i){var s=e.__style;if(s!==t){var o=Cf(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return i}const Ef=Symbol("is custom element"),Pf=Symbol("is html");function lt(e,t,n,i){var s=Df(e);s[t]!==(s[t]=n)&&(t==="loading"&&(e[xd]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Tf(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Df(e){return e.__attributes??(e.__attributes={[Ef]:e.nodeName.includes("-"),[Pf]:e.namespaceURI===Rd})}var il=new Map;function Tf(e){var t=e.getAttribute("is")||e.nodeName,n=il.get(t);if(n)return n;il.set(t,n=[]);for(var i,s=e,o=Element.prototype;o!==s;){i=ru(s);for(var r in i)i[r].set&&n.push(r);s=ua(s)}return n}function sl(e,t){return e===t||(e==null?void 0:e[gi])===t}function ge(e={},t,n,i){return af(()=>{var s,o;return Jo(()=>{s=o,o=(i==null?void 0:i())||[],V(()=>{e!==n(...o)&&(t(e,...o),s&&sl(n(...s),e)&&t(null,...s))})}),()=>{Zn(()=>{o&&sl(n(...o),e)&&t(null,...o)})}}),e}function Ye(e=!1){const t=gt,n=t.l.u;if(!n)return;let i=()=>ms(t.s);if(e){let s=0,o={};const r=ga(()=>{let a=!1;const l=t.s;for(const c in l)l[c]!==o[c]&&(o[c]=l[c],a=!0);return a&&s++,s});i=()=>m(r)}n.b.length&&of(()=>{ol(t,i),Er(n.b)}),Lr(()=>{const s=V(()=>n.m.map(bd));return()=>{for(const o of s)typeof o=="function"&&o()}}),n.a.length&&Lr(()=>{ol(t,i),Er(n.a)})}function ol(e,t){if(e.l.s)for(const n of e.l.s)m(n);t()}function Wu(e,t,n){if(e==null)return t(void 0),qn;const i=V(()=>e.subscribe(t,n));return i.unsubscribe?()=>i.unsubscribe():i}const ui=[];function Hu(e,t=qn){let n=null;const i=new Set;function s(a){if(du(e,a)&&(e=a,n)){const l=!ui.length;for(const c of i)c[1](),ui.push(c,e);if(l){for(let c=0;c<ui.length;c+=2)ui[c][0](ui[c+1]);ui.length=0}}}function o(a){s(a(e))}function r(a,l=qn){const c=[a,l];return i.add(c),i.size===1&&(n=t(s,o)||qn),a(e),()=>{i.delete(c),i.size===0&&n&&(n(),n=null)}}return{set:s,update:o,subscribe:r}}function If(e){let t;return Wu(e,n=>t=n)(),t}let Fr=Symbol();function Qn(e,t,n){const i=n[t]??(n[t]={store:null,source:H(void 0),unsubscribe:qn});if(i.store!==e&&!(Fr in n))if(i.unsubscribe(),i.store=e??null,e==null)i.source.v=void 0,i.unsubscribe=qn;else{var s=!0;i.unsubscribe=Wu(e,o=>{s?i.source.v=o:L(i.source,o)}),s=!1}return e&&Fr in n?If(e):m(i.source)}function Vi(){const e={};function t(){ba(()=>{for(var n in e)e[n].unsubscribe();Co(e,Fr,{enumerable:!1,value:!0})})}return[e,t]}function Pe(e){gt===null&&cu(),Rs&&gt.l!==null?Of(gt).m.push(e):Lr(()=>{const t=V(e);if(typeof t=="function")return t})}function wa(e){gt===null&&cu(),Pe(()=>()=>V(e))}function Of(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Rf="5";var su;typeof window<"u"&&((su=window.__svelte??(window.__svelte={})).v??(su.v=new Set)).add(Rf);zd();const ne=Hu(!1),Ne=Hu(!1);let Jt=null;function vs(){return Jt}async function Lf(){try{if(!Jt){console.log("ðŸŽµ Inicializando audio desde botÃ³n global..."),Jt=new(window.AudioContext||window.webkitAudioContext),Jt.state==="suspended"&&await Jt.resume(),ne.set(!0),Ne.set(!1),console.log("âœ… Audio ACTIVADO desde botÃ³n global. Estado:",Jt.state);return}if(!ne._value&&Jt.state==="suspended"){await Jt.resume(),ne.set(!0),Ne.set(!1),console.log("âœ… Audio ACTIVADO desde botÃ³n global. Estado:",Jt.state);return}if(Jt.state==="running"){await Jt.suspend(),Ne.set(!0),console.log("ðŸ”‡ Audio MUTEADO globalmente");return}if(Jt.state==="suspended"){await Jt.resume(),Ne.set(!1),console.log("ðŸ”Š Audio DESMUTEADO globalmente");return}}catch(e){console.error("âŒ Error al cambiar estado del audio:",e)}}ne.subscribe(e=>{});ne._value=!1;ne.subscribe(e=>{ne._value=e});const Bf="/lyrics/assets/lv_volumeON-BXNLOLRM.png",rl="/lyrics/assets/lv_volumeOFF-Ckl0CvpP.png",Ff="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAoCAYAAACIC2hQAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUGVYSWZNTQAqAAAACAACARIAAwAAAAEAAQAAh2kABAAAAAEAAAAmAAAAAAADoAEAAwAAAAEAAQAAoAIABAAAAAEAAAAqoAMABAAAAAEAAAAoAAAAALwH2HUAAAIwaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA2LjAuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj40MDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj40MjwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+MTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KyfcoQgAAA0VJREFUWAntmE1oE0EUx/PVJFJqgtRDiqUevIgo9eMS8eJRqBbRg4riwVYUamkPXhQkNAoeRMUerFRBD6IUwYu3HlT04tF6Er0IJeIHTZOQ0Hz7e7KBJM5u03S2rNCBx+y+nffml//sm92Ny7Xe/lMFyuXyxaWlpfPt4vvaDWw1rlqthiuVypTH4+n0+/2BUqmU9/l8T1qNr43z1A7s6GdmZrzkvQPkZvpzbrd7FutpZy7bFBUlAZrG3NgRALP4ShxvwFbcbFF0YWEhxHJPQBPALgnkismaArQrimqS8zkmy35UB6Qwa1XUKJzb5BUFz+qCFFBtihqFM03hbCLv33tSJtDVLEFRqLNQKPSxrWxcZkIPY8cYI4Wjbbnr5zQFzWQy29mkHwLZTUChPkh1zDJ/x3+aPq26bosvkUj0UbVzqDQqqjKJKLWcLctCrnF+/LXaQM67sVvJZHJrzWfWK4spEokcR5lP2D1MCqPagpnNYepPpVJlnlS+cDj8EuAR04FcUC49wT085r5YBeq4BmCSPGP5fH4Xt9gD1C57vd77qtxKRalc1VjbfIFAYC6dTp9h3guINKCaaG2JVASGLxQKfaUuHqPoZVxSDw3NMaBCFY/HJ+nCqLu/gZITR4HGYrESqs4Gg8E9jgY14L5xr/Y7HpTCZ0d0Bx0PSjH1AvnR0aDyYoOaUe7TD44GHRwcPAaku6Oj410zqPLJ1DxoLc5zuVwvgKMoOsV8leY5HbE9CSRb0jMK6S2gT5sh5dxM0V8swQ5VgE6fvD3xyBziveIk871A0bhZfqWi/LI37GVRkhwm8J/HmVmylfp5vSuiYD/zjFDt163iTSGKxeJBfukjgn9gi1ZJjGvzTDpsNQ4Fx1GuC6gJq3Gqa2ZL72IZXmez2QMk3cnbTZcquN4HxBh2A9ir9X7HHQMpf928p5dVUDauNbzhKweZOJX3qMlYSzdKLmInGNQD0F1MPmG0NW2gQgToPJ8Xp4Dcx+lNbZQk0goqYPJ5YSi7DeBJXcpqBxVYUZZuGMjd9FfEt9pmC6hACSw2AOxeTP6LWlWzDVSoAJUCGwJ0CybP8Cj953aIbQU1YEXZQ2xdP7Hf7Muv2gFdj9GtwB+k2EobHha+kwAAAABJRU5ErkJggg==",al="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAA8CAYAAAA+CQlPAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUGVYSWZNTQAqAAAACAACARIAAwAAAAEAAQAAh2kABAAAAAEAAAAmAAAAAAADoAEAAwAAAAEAAQAAoAIABAAAAAEAAAA+oAMABAAAAAEAAAA8AAAAAE0+V4UAAAIwaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA2LjAuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj42MDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj42MjwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+MTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KscWJCAAABxhJREFUaAXlmn1sU1UUwGm7Mrfug8HQWY3MhQXkQxPFaAAR/MMYSIxOMTIUAzGA/mNiUOTDMBwKEmMAlTiMEP5QhClKEEgY8TMMOobbWIiJho0JzABjDJZtsK6tv1NeSVdeu9utr6+zLzl9r/ede+/5vXPu53tDhiTZ4fP5nEmGfAP35MmTQ4HPS0p4wHOSErwXNE/B0tXVld8rMRn+9PT0vAh8NfCPJQIvttilPRpuS2tr6z1UdgA5jjxueIVhKqDuFORlpBpxud3u6WFUY5dMRU5kP/JHZ2fn5NiVrFZSdXW1HdCl1H/C4/F8093dXUEk7lu4cKFdrYQBaHV0dDi9Xq94vgYjpg6gqKiySlgDu1ygqfd9Mtu4XokcQ3KjKqy/ylevXh1BZeL5WuSp/pajmk+DXkNdAr2KfH4P818exPGLFy/eqVrWgPWoMAfP7+Nce+3atacHXGCYAhobG28Ddh31SHivRM0aUCUt/uBSeVtbW460MQw4wrkoYFCszmfOnEm7fv36WoGmifWCljpMA5fK8cgwDPgecQH/EkkWSR/o0dzcnI6nNwg08Mso76anA2WbCi5GXL58WeC/0+DnBQzr77murs5Bj71JoOlPllPOLdBStungYoTm+XKMqUJekbT+HCUlJSm05U8Fmk7rXcqwhSsnIcDFOAzJQnYgxwj7ueEMDpdeVlZmJ99m8ounl6IXFlrKQM+czk0PAGOy8NhXAk+4Koe9TE6ALhPoCxcu6Lbp0PqMBE8JrSzSf6a12UBPZZirtlqtY+x2+xKMKyBPC+LT8krnJ+LV0uRa2vAUZBxNZntBQcFGruW+aYcyON6aabPZ3sHSYZyDDVYe5mjTW4DeTGZTocV4JXC8+gS6awntBjy9nBXcn5mZme7Tp0+n5+fnb+DeuEuXLu2l3W5i7Pc6HA5fS0uLNTc31w/IeG0bNWqUt7CwMDgypP7EPYC2yNwd6INc3xFqqYzHhP9W7kmHJaHfKxxC9aP5T1mGdW6642eIcWMtFstdwO/hfD7k3hCn09kJ8JvAu4iCeYz5MYUPrS9W/1XAb5fK8HhzuEpzcnLaaPcCf5jruUw/30ZXpexwRRqermKcf4oKWKDX1jWKaGinXS8hMn6jjc9pb29fkcjwKuC6oHqJeXl5HXR+bzEC7M3IyJitt/DQy2dGmlKvHo1heL6LTqkE+KHp6enPE/5WouU9yjB9CAvmiDm4FA68G/hlhL2HCCjC8x7CX3ZVEgbeEHANvgf4FXjei+dn43kfnl8j9xLhMAxc4PC8R+A1z7/AtYM0maebfsS0c9OjAdRXWloq+2g/ILOAX6enF+80w8EFiDW4tO1VhP1uzjMJ+49kiSr3zDoMDfVgKPE8/1dLW6fDe27BggUCvmTRokXuYL14XcfF40EwEvaleP7blJSUGfPnz/98165dxr8mCjJA+ZI2OR2RXdBnlDP1rWhlo1FeFpzgIWzjrAtPuqmLlL4xotfwFhcXyzJ3J0PcQ4T/RiBToy+m/zniHeo3LS0vL/ekpqau42XF18BP0eDTbyoYfGEauMblSUtLW8+CRuAnA/8Fns80mNlfvNngYoQ3KyvrQ3Z1tgM/kba/Bfgso+FVwDvECIYjI8ddH9Paj+lAv2QDczye/+TKlSvDjYTvE7yhoeEvDHDTHh810hDK9rGU3cTrpDI8/yBRIHt5hns+IhOhtxo5hkdeQ9G/MRExwwBv4vHF1FePnEAMeU2sBHHq1Klsdkm34olCmP7WJNoZl4Udms9Gjhz5r8JzsfCQFxP+r6PbTc9fRCfYpJBPWUUJXErj7UcGRj/LZTEi+3DKedGVw4Ynz9fW1r46adKkf24kRfy10NF9wAxvFlp1bGi+kZ2d3Roxh8E3LYRff2Qa+aqYqVU0NTUVqNiIp2XHVsK9DtkR1y8jVAxU1Tl37twUAFyszw/y4qFPeA38OJEiD0C+hdmJ3LK3r1q/qXp8TfUIxh9FKngZcV8kYwLg4mn05yACX15TUzMsUr6EvYfxUwl5+bzkEFEwJpyhweCig758hOhCdssLzHD5Ejod4ycjlYT9T7xbG61nbCg4OhbgZ2vwe+grBufHuADcjxwW4ZgQCq8D7lcBfiZ5jvLQ9p89e3ZEaL5B8Z8FyngAfgeksr6+vlebDwcuYNx7UvIgPxo9vTXsQWL8WORX5EhlZeXEQEWRwEWHcX4GeQR+H+P84PQ8xo9GfkGOulyuBwSsL3DRQV/mB9Jc9jPbi98XkFJ5rA6ML0B+RqqYKU5j/N5Ae5Zm4IhUB56XjtIPz9kZSTdh72H4vcghRGZs8vHfehVj0ZX5gcAfYK5wt0qehNPBeIc2Zs+RNYKqgezhPazBy5I2uQ4iZAIdXXw+806uRzuIaWkOaX1uPQ1iPl3Tgbaznab7AkM3w/8lEfDhAv8f5ro/FN3fJZQAAAAASUVORK5CYII=";var zf=ut('<button class="audioButton compact svelte-sw9wdp"><img alt="" class="speakerIcon svelte-sw9wdp"/></button>'),Nf=ut('<button class="audioButton extended svelte-sw9wdp"><img alt="" class="speakerIcon svelte-sw9wdp"/> <span class="buttonText svelte-sw9wdp"> </span></button> <!>',1);function Wf(e,t){Ce(t,!1);const n=()=>Qn(ne,"$audioEnabled",s),i=()=>Qn(Ne,"$audioMuted",s),[s,o]=Vi(),r=H(),a=H(),l=H(),c=H();let u=H(!1),h=H(),d=H(!1);Pe(()=>{if(!m(h))return;const y=new IntersectionObserver(A=>{A.forEach(k=>{k.isIntersecting?(L(d,!0),L(u,!1)):m(d)&&L(u,!0)})},{threshold:0,rootMargin:"0px"});return y.observe(m(h)),()=>{m(h)&&y.unobserve(m(h))}});function f(){Lf()}yt(()=>(n(),i()),()=>{L(r,n()&&!i())}),yt(()=>m(r),()=>{L(a,m(r)?"DESACTIVAR SONIDO":"ACTIVA EL SONIDO")}),yt(()=>(m(r),rl),()=>{L(l,m(r)?Bf:rl)}),yt(()=>(m(r),al),()=>{L(c,m(r)?Ff:al)}),Wi(),Ye();var p=Nf(),g=We(p),v=E(g),b=O(v,2),_=E(b);ge(g,y=>L(h,y),()=>m(h));var x=O(g,2);{var w=y=>{var A=zf(),k=E(A);bt(()=>{lt(A,"aria-label",m(a)),lt(A,"title",m(a)),lt(k,"src",m(l))}),Ot("click",A,f),nt(y,A)};bi(x,y=>{m(u)&&m(d)&&y(w)})}bt(()=>{lt(g,"aria-label",m(a)),lt(g,"title",m(a)),lt(v,"src",m(c)),Mt(_,m(a))}),Ot("click",g,f),nt(e,p),Ee(),o()}const Hf="/lyrics/assets/intro_webm-byyfcgTJ.webm",Vf="/lyrics/assets/intro_mov-CWs2PRxm.mov";var jf=ut('<section class="lv_intro svelte-1s851m5"><div class="lv_introWrapper svelte-1s851m5"><div class="lv_videoContainer svelte-1s851m5"><video class="lv_video svelte-1s851m5" autoplay loop playsinline="" preload="auto"><source class="svelte-1s851m5"/></video></div> <div class="lv_introTitle svelte-1s851m5"><h3 class="svelte-1s851m5">Â¿CÃ³mo ha cambiado la mÃºsica que escuchamos?</h3></div>  <div class="lv_buttonAnchor svelte-1s851m5" id="audioButtonAnchor"></div> <!> <div class="lv_arrowContainer svelte-1s851m5"><svg class="lv_arrow svelte-1s851m5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="64" height="64" aria-hidden="true" focusable="false"><path d="M6 9l6 6 6-6" fill="none" stroke="#ffffff" stroke-width=".75" class="svelte-1s851m5"></path></svg></div></div></section>',2);function qf(e,t){Ce(t,!1);let n=H(),i=H("");function s(){if(typeof navigator>"u")return!1;const h=navigator.userAgent||"",d=/Safari/i.test(h),f=/Chrome|Chromium|CriOS/i.test(h),p=/Firefox|FxiOS/i.test(h),g=/Edg/i.test(h),v=/OPR/i.test(h);return d&&!f&&!p&&!g&&!v}Pe(async()=>{s()?L(i,Vf):L(i,Hf);try{const d=m(n).play();d&&typeof d.then=="function"&&await d}catch{}}),Ye();var o=jf(),r=E(o),a=E(r),l=E(a);l.muted=!0;var c=E(l);ge(l,h=>L(n,h),()=>m(n));var u=O(a,6);Wf(u,{anchorId:"audioButtonAnchor"}),bt(()=>lt(c,"src",m(i))),nt(e,o),Ee()}const bs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAABECAYAAAA4E5OyAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUGVYSWZNTQAqAAAACAACARIAAwAAAAEAAQAAh2kABAAAAAEAAAAmAAAAAAADoAEAAwAAAAEAAQAAoAIABAAAAAEAAABEoAMABAAAAAEAAABEAAAAANIE7aEAAAIwaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA2LjAuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj42ODwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj42ODwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+MTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KlJj/SQAACbpJREFUeAHdXHtQVNcZ/527aBUZg7UGq53JRsUHowHsjIqg7A6p2mwxUqWZaZtU+09iTYppOya2cYB2dJA4xVpt+0cmA00nHVszgJg4eZjdDQIzbVWcGi2iuIoQwEeIPNVwb79zL3vZJ2F3zwWW8wd853F/3zm/e873ndddhlEK9pN1ZjyULRJYsgKYoSgpg6rNPlVwUbwTjHUyoF5mcEKKcVltK+p9yhkSJZ3GBHv5uXiYejeRgkxq/CaAxUeoyQUGB5HpxEBshTUntTNCvICPCyfEXlVnkRTlaUWRtwogIWClAYX3oArFNOkPonuOMEI4EUxR8qk3WIK0wphkxhwKY4XW7DSHCAURE2Ivr0lhJlYy6kT4tp73mAH2sjUnzeWbFUo8bEK4jZBi+vMUWS4IRaHRZZkkFWRmpxWGqycsQuzldWYmyeWkNCVcxQY/51JkyRpOb5FCrZjzRN1PmDRwbhyTwZvEX9g5+/HanaG2LyRCnFU1+cqAXGqc9wi1+sOWjycjX+KsqssftpRP5oiHjEqGjAKf56MiGopdGREh0UyG+42NlJSvJGQikBEKKcMS4qyqJbeqHHQDToT/zCRtzfxeWlmwtgQlRHOt3JtEvAYJpnus0jvJJacGc8lBvQy5LfsEJIO/hHg+h7KX2+MDvZGAhHC7QYXNgR6YIGkpkCYHnKP4EcKHijIK7vXWnQ788PkfIOv7FjhqqTOOciBbkc/XYb5q/QhhJrnEt5AR8aYbTWjraKc1oYIDh4vx3ql3jVAzLKa6KPUp4UWIvaraAgWbfMoYEl2ZuhJr0tao2L19vThwpBgnR5sU2qqgEWHxbKAXIUxhIU1zPYFClxkKdv0Oy5OXa48qUEkZ7eHDTLSH4xF0t6vua0jgizZDA7UbV12NcJy240brDVy51oi2tjZdZ2xsLHa99ArWrrLoaUYLgytjB9cT41bGTMij4WJYkMlS22s/Runbb6KltSWont7eXuwr2Yu1RzOpjP6+gpYXkiHJ3Ew4OJaqkftkJk2+RvF4nig6tN9uw+uH9+Ps+bMBoPlb8G64bZ0Nv9y+K0BZw5JosvbgcWuOtXOwh0zmDBlCRv2n55C/fw+6urr01kyfPh2ZqzOxekUGav9TgxMnj5O30bI3b9yMHdt+rpcdJYFOCFQOSlVCaLjQUYF41TX/rsaefa/pwHFxcbB9x4bnntmKKV+LRcV773iRsT5r/ViQodaPQcokQSOEyLDotRYkXGj4L/YfKtLRliUtw8vbfwXzt8xq2tXrV3D4jUN6z9iQtQG7Xtytlx91QVHtyLaYwdmaVktBtei89zmKDu5Fd3e3ipg4fyH2/qYIcbFxuob7Dx+QzG2HgvVjTYZWq3h+uhiDmAEzZJNeURHC2+/8Da1tn6lQc785F0V7ir3I4BlJC5JQ+Opv0X6rHZttuSLURo5BR60xRIYlcqQhhNuf38Kx48fUBMYYXsl7FTMemTFUwEPKWLHWIzYORAUpEmNKssiqVJws1+HWWddh6aIn9HgUCGaJhrAwd3v/YT8+cn442G4FtnXZUcDBUBXJoiXTWkbcjlhj02V00AqWB/Njj1PvWDqkLUokvrgzi6rrxYaLBMU9B/BEEh8qmqwmRMcfGjICQ0+v5mY55DdmzhKI7A/F5zGH3ihBw9VL/pkRpOiLuwgw9Edb2lp1eeqUqbosWlDI8B34UzEaLjfglPMUjpVVYJIkpilCe4gsD+htHxiQddkIobmlWYXt7unCgwf3hanghLhEoc2ZPVeH6usbGj56oiCBbyX09/WraCZTDGKnxApChktoD5k2dZpesdZ2baaqJwgULjZ8CndvXDBvvkBkdNKlQNSLQpz32DyC0pbNZ8+fQV9/nyhoL5xLl4e8WcKs2dQEQd6Mbj7S/Thc99IWQWTp4mWYEf91FeHO3bu4cr0xArTAj3K63/3whJ65lvZVRAU6ATgvQRbXQ6bRajZ9VYZev7eOlumyKOFfZ+vQfFMzqAmPJmDl8jRR0IDEHGRDJIc4ROBHW35MNyY1RL5lWPl+hTD4L7q+wJE3D+t4fNtAoEEFvoxxSYOHvp26lgiFhJmzseHJp1QUWZbx1j/+Cj6JijTwofLn0iO42XJThZpNveO7WbZIYT2eZy5rzop61csoYJUeORGLzz/3AubOmaPi3L17B6/t+zWu33SFjauR8Ud88PH7GgZ1wbwXfoGEmQlhY/o9yBQHT9PcrqxF/AqFmTA97hEU5/8ecdO0HbJ2WvC9tHsHTtMeK29cKKH9djv2FO3GsUptj4U/+2zus1iZuioUmK8sS/Vy8kLqaDfqGOJS40UUvp6PjlsdeoUyyOhuyc7FsqTkoO6Sk9bVfQ8fffIByv5eSvLQjv2Wjbn42bYXdTxBgn4MMWj+AHtlzUGK5AlSoMM03biqkuL2DDyDG93FC5fQijgZifMTMWvmozwVvf09aLp2BY10mnem/ozX0QWf32z/6Q7kZj+jYwsTGEotG9O3cbwhQsqrLXQxzS5MiQcQP8z+S9kR2Kvt6Ont8chxi54DSa+SOxOJ8xZgJ+3YL1mwRE8TKSjyJLpRpH1+4qXdcZwOXBVmEanME6v5s2b8s/IoPql14l7XPc8sP1mSGBYtXIynnrTBlmXgzht9PGDZuNrqroAXIXYDe4lbIf/P900a6cD7Eq1JLvzvAvr7+9V7InxTeg7t0i9OXITUpd8Gn5abJJPno8Jlz4NuDu5FCE8wupdwHYEC3+MQtiYJpCBQGn1BQb0jxzPLb1eFf2LBPK5F8KX2aAVOiuggUWOCBd5W3zy/HsIL2CurC+isM9+38ESK03sutOakF/i2KTB98pcHqaCwbQFfpWMf59N0fzJ4vQISwu9JkLHhY0vYGmfsSdBrQG1julfRUweFgITwPL7oo27lN8Z8AaItTlfVaagE/wwtKCEaKeml9AlZYbQ1Olh9NbuRwc1B0BDQqPqWpvlJAc1io9rIBjOivm0dESH8oWgmZaRk8HaOmJBoJSUUMkImRCPl9E4mqRd843l8HAfyJqDveNNLQ6ljSD3EDax9S6PYaUludqeNr/+snlxrznDeJFh9wyLEDTYe7YrmFeMOhvtjCRERwolRewv/gmKUPhpwvwy///w3AAYUPkQimmFHTIi7YurWgYlsi4H7KW5dXv9VIgZosrXG4ZUeZkQYIW796jVPSdlJS/mnKc0ow9upAGV0wEu/IyKGCHf9hRPiBlZ/UAW9myApFu2WcMQGmH4zBPQLEHx3PIp+UMVNiO9/7YIw3YmVTBb15qOi3m3jPcjsU9alxukQXj13Vo9aJUc4HsMHd0TR/wNRXlLfv5zoxgAAAABJRU5ErkJggg==";var Yf=ut("<span> </span> ",1),Uf=ut("<span> </span> ",1),$f=ut('<div class="lv_sctContainer svelte-1afxk23"><div class="ve_timeline svelte-1afxk23"><div class="ve_timelineWrapper svelte-1afxk23"><div class="ve_timelineTrack svelte-1afxk23"><div class="ve_timelineDot svelte-1afxk23"></div></div> <div class="ve_timelineYears svelte-1afxk23"><span class="ve_year ve_yearLeft svelte-1afxk23"></span> <span class="ve_year ve_yearRight svelte-1afxk23"></span></div></div></div> <div class="lv_sctWrapper svelte-1afxk23"><div class="scrollyBackground svelte-1afxk23" id="scrollyBackground"></div> <article class="lv_art scrollyForeground svelte-1afxk23"><section class="lv_step svelte-1afxk23"><div class="lv_stepContent svelte-1afxk23"><div class="lv_cardWrapper svelte-1afxk23"><div class="ve_lyrics ve_lyrics1 svelte-1afxk23" id="step-scrolly1" data-scene="1"></div> <div class="ve_songTransl svelte-1afxk23"><p></p></div> <div class="ve_songData svelte-1afxk23"><div class="ve_songTitle svelte-1afxk23"></div> <div class="ve_songArtist svelte-1afxk23"></div> <div class="ve_songButtons svelte-1afxk23"><button class="ve_replayBtn svelte-1afxk23" aria-label="Replay canciÃ³n 1"><img class="ve_btnIcon svelte-1afxk23" alt=""/></button></div></div></div></div></section> <section class="lv_step svelte-1afxk23" id="step-scrolly2" data-scene="2"><div class="lv_stepContent svelte-1afxk23"><div class="lv_cardWrapper svelte-1afxk23"><div class="ve_lyrics ve_lyrics2 svelte-1afxk23"></div> <div class="ve_songData ve_songData2 svelte-1afxk23"><div class="ve_songTitle svelte-1afxk23"></div> <div class="ve_songArtist svelte-1afxk23"></div> <div class="ve_songButtons svelte-1afxk23"><button class="ve_replayBtn svelte-1afxk23" aria-label="Replay canciÃ³n 2"><img class="ve_btnIcon svelte-1afxk23" alt=""/></button></div></div></div></div></section> <section class="lv_step lv_step--sentinel svelte-1afxk23" id="step-scrolly3" data-scene="3"></section></article></div></div> <audio preload="metadata" class="svelte-1afxk23"></audio> <audio preload="metadata" class="svelte-1afxk23"></audio>',1);function Xf(e,t){Ce(t,!1);const n=()=>Qn(Ne,"$audioMuted",i),[i,s]=Vi(),o="https://begomg.github.io/letras/assets/elvis.mp4",r=[{w:'"If',t:1.7},{w:"I",t:2.02},{w:"can't",t:3.78},{w:"help",t:5.5},{w:"falling",t:7.52},{w:"in",t:8.58},{w:"love",t:9.1},{w:"with",t:11.02},{w:'you"',t:12.38}],a="https://begomg.github.io/letras/assets/dando.mp4",l=[{w:'"Porque',t:.2},{w:"la noche",t:.5},{w:"de anoche",t:1.1},{w:"fue",t:2.1},{w:"algo",t:3.5},{w:"que",t:3.7},{w:"yo no",t:4},{w:"puedo",t:4.2},{w:"explicar.",t:4.7},{w:"Eso era",t:6},{w:"dando y",t:6.4},{w:"dÃ¡ndole",t:6.8},{w:"sin",t:7.1},{w:"parar,",t:7.6},{w:"tÃº encima",t:8.5},{w:"de",t:8.8},{w:"mÃ­,",t:9.5},{w:"yo encima",t:10.2},{w:"de",t:10.6},{w:'ti"',t:10.9}];let c=null,u=H(),h=H(),d=H(0),f=H(0),p=H(0),g=!1;function v(){const G=new IntersectionObserver(vt=>{vt.forEach(dt=>{if(dt.isIntersecting){const kt=+dt.target.getAttribute("data-scene");console.log("Escena activa:",kt),kt!==c&&(c=kt,kt===1?(b(),g||(g=!0,k())):kt===2&&_())}})},{rootMargin:"0px 0px -30% 0px",threshold:.5}),ht=new IntersectionObserver(vt=>{vt.forEach(dt=>{dt.isIntersecting&&(console.log("Centinela alcanzado (top), pausando canciones"),m(u)&&!m(u).paused&&m(u).pause(),m(h)&&!m(h).paused&&m(h).pause())})},{rootMargin:"0px 0px -99% 0px",threshold:0}),q=document.getElementById("step-scrolly1"),Q=document.getElementById("step-scrolly2");q&&G.observe(q),Q&&G.observe(Q);const rt=document.getElementById("step-scrolly3");rt&&ht.observe(rt)}async function b(){if(console.log("Activando canciÃ³n 1"),m(h)&&!m(h).paused&&m(h).pause(),!!m(u))try{const G=vs();let ht=!1;if(ne.subscribe(q=>{ht=q})(),!ht){console.log("Audio no habilitado, no se reproduce");return}if(G&&G.state==="suspended"){console.log("Audio estÃ¡ muteado globalmente, no se reproduce");return}St(u,m(u).currentTime=0),await m(u).play(),console.log("CanciÃ³n 1 reproduciendo")}catch(G){console.log("Error al reproducir canciÃ³n 1:",G)}}async function _(){if(console.log("Activando canciÃ³n 2"),m(u)&&!m(u).paused&&m(u).pause(),!!m(h))try{const G=vs();let ht=!1;if(ne.subscribe(q=>{ht=q})(),!ht){console.log("Audio no habilitado, no se reproduce");return}if(G&&G.state==="suspended"){console.log("Audio estÃ¡ muteado globalmente, no se reproduce");return}St(h,m(h).currentTime=0),await m(h).play(),console.log("CanciÃ³n 2 reproduciendo")}catch(G){console.log("Error al reproducir canciÃ³n 2:",G)}}function x(){L(d,m(u).currentTime)}function w(){L(f,m(h).currentTime)}function y(){m(u)&&(St(u,m(u).currentTime=0),m(u).play())}function A(){m(h)&&(St(h,m(h).currentTime=0),m(h).play())}function k(){if(!g){L(p,0);return}const G=document.getElementById("step-scrolly1"),ht=document.getElementById("step-scrolly2");if(!G||!ht)return;const q=G.getBoundingClientRect(),Q=ht.getBoundingClientRect(),rt=window.innerHeight,vt=q.top+q.height/2,dt=Q.top+Q.height/2,kt=rt/2,se=rt;if(vt>=kt)L(p,0);else if(dt<=kt)L(p,1);else{const be=kt-vt;L(p,Math.min(1,Math.max(0,be/se)))}}Pe(()=>{v();const G=()=>{g&&k()};return window.addEventListener("scroll",G,{passive:!0}),window.addEventListener("resize",G),()=>{window.removeEventListener("scroll",G),window.removeEventListener("resize",G)}}),yt(()=>(m(u),n()),()=>{m(u)&&St(u,m(u).muted=n())}),yt(()=>(m(h),n()),()=>{m(h)&&St(h,m(h).muted=n())}),Wi(),Ye();var C=$f(),T=We(C),B=E(T),F=E(B),z=E(F),J=E(z),ot=O(z,2),W=E(ot);W.textContent="1961";var S=O(W,2);S.textContent="2020";var M=O(B,2),R=O(E(M),2),I=E(R),N=E(I),K=E(N),et=E(K);ue(et,5,()=>r,ce,(G,ht,q)=>{var Q=Yf(),rt=We(Q),vt=E(rt),dt=O(rt,1,!0);bt(()=>{he(rt,1,`ve_word ${m(d),m(ht),V(()=>m(d)>=m(ht).t?"ve_on":"ve_off")??""}`,"svelte-1afxk23"),Mt(vt,(m(ht),V(()=>m(ht).w))),Mt(dt,V(()=>q<r.length-1?" ":""))}),nt(G,Q)});var xt=O(et,2),Dt=E(xt);Dt.textContent="No puedo evitar enamorarme de ti";var Rt=O(xt,2),At=E(Rt);At.textContent="Can't help falling in love with you";var Kt=O(At,2);Kt.textContent="Elvis Presley";var $e=O(Kt,2),me=E($e),Te=E(me),mt=O(I,2),qt=E(mt),ji=E(qt),Cn=E(ji);ue(Cn,5,()=>l,ce,(G,ht,q)=>{var Q=Uf(),rt=We(Q),vt=E(rt),dt=O(rt,1,!0);bt(()=>{he(rt,1,`ve_word ${m(f),m(ht),V(()=>m(f)>=m(ht).t?"ve_on":"ve_off")??""}`,"svelte-1afxk23"),Mt(vt,(m(ht),V(()=>m(ht).w))),Mt(dt,V(()=>q<l.length-1?" ":""))}),nt(G,Q)});var En=O(Cn,2),ri=E(En);ri.textContent="La noche de anoche";var ai=O(ri,2);ai.textContent="Bad Bunny y RosalÃ­a";var Xe=O(ai,2),Pn=E(Xe),li=E(Pn),ve=O(T,2);lt(ve,"src",o),ge(ve,G=>L(u,G),()=>m(u));var Dn=O(ve,2);lt(Dn,"src",a),ge(Dn,G=>L(h,G),()=>m(h)),bt(()=>{Ii(J,`left: ${m(p)*100}%`),lt(Te,"src",bs),lt(li,"src",bs)}),Ot("click",me,y),Ot("click",Pn,A),Ot("timeupdate",ve,x),Ot("timeupdate",Dn,w),nt(e,C),Ee(),s()}var Gf={value:()=>{}};function Vu(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new go(n)}function go(e){this._=e}function Zf(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",s=n.indexOf(".");if(s>=0&&(i=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}go.prototype=Vu.prototype={constructor:go,on:function(e,t){var n=this._,i=Zf(e+"",n),s,o=-1,r=i.length;if(arguments.length<2){for(;++o<r;)if((s=(e=i[o]).type)&&(s=Kf(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<r;)if(s=(e=i[o]).type)n[s]=ll(n[s],e.name,t);else if(t==null)for(s in n)n[s]=ll(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new go(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),i=0,s,o;i<s;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],i=0,s=o.length;i<s;++i)o[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],s=0,o=i.length;s<o;++s)i[s].value.apply(t,n)}};function Kf(e,t){for(var n=0,i=e.length,s;n<i;++n)if((s=e[n]).name===t)return s.value}function ll(e,t,n){for(var i=0,s=e.length;i<s;++i)if(e[i].name===t){e[i]=Gf,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var zr="http://www.w3.org/1999/xhtml";const cl={svg:"http://www.w3.org/2000/svg",xhtml:zr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tr(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),cl.hasOwnProperty(t)?{space:cl[t],local:e}:e}function Jf(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===zr&&t.documentElement.namespaceURI===zr?t.createElement(e):t.createElementNS(n,e)}}function Qf(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ju(e){var t=tr(e);return(t.local?Qf:Jf)(t)}function tp(){}function Aa(e){return e==null?tp:function(){return this.querySelector(e)}}function ep(e){typeof e!="function"&&(e=Aa(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var o=t[s],r=o.length,a=i[s]=new Array(r),l,c,u=0;u<r;++u)(l=o[u])&&(c=e.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new Me(i,this._parents)}function np(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function ip(){return[]}function qu(e){return e==null?ip:function(){return this.querySelectorAll(e)}}function sp(e){return function(){return np(e.apply(this,arguments))}}function op(e){typeof e=="function"?e=sp(e):e=qu(e);for(var t=this._groups,n=t.length,i=[],s=[],o=0;o<n;++o)for(var r=t[o],a=r.length,l,c=0;c<a;++c)(l=r[c])&&(i.push(e.call(l,l.__data__,c,r)),s.push(l));return new Me(i,s)}function Yu(e){return function(){return this.matches(e)}}function Uu(e){return function(t){return t.matches(e)}}var rp=Array.prototype.find;function ap(e){return function(){return rp.call(this.children,e)}}function lp(){return this.firstElementChild}function cp(e){return this.select(e==null?lp:ap(typeof e=="function"?e:Uu(e)))}var up=Array.prototype.filter;function hp(){return Array.from(this.children)}function dp(e){return function(){return up.call(this.children,e)}}function fp(e){return this.selectAll(e==null?hp:dp(typeof e=="function"?e:Uu(e)))}function pp(e){typeof e!="function"&&(e=Yu(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var o=t[s],r=o.length,a=i[s]=[],l,c=0;c<r;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new Me(i,this._parents)}function $u(e){return new Array(e.length)}function gp(){return new Me(this._enter||this._groups.map($u),this._parents)}function To(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}To.prototype={constructor:To,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function mp(e){return function(){return e}}function vp(e,t,n,i,s,o){for(var r=0,a,l=t.length,c=o.length;r<c;++r)(a=t[r])?(a.__data__=o[r],i[r]=a):n[r]=new To(e,o[r]);for(;r<l;++r)(a=t[r])&&(s[r]=a)}function bp(e,t,n,i,s,o,r){var a,l,c=new Map,u=t.length,h=o.length,d=new Array(u),f;for(a=0;a<u;++a)(l=t[a])&&(d[a]=f=r.call(l,l.__data__,a,t)+"",c.has(f)?s[a]=l:c.set(f,l));for(a=0;a<h;++a)f=r.call(e,o[a],a,o)+"",(l=c.get(f))?(i[a]=l,l.__data__=o[a],c.delete(f)):n[a]=new To(e,o[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(d[a])===l&&(s[a]=l)}function _p(e){return e.__data__}function xp(e,t){if(!arguments.length)return Array.from(this,_p);var n=t?bp:vp,i=this._parents,s=this._groups;typeof e!="function"&&(e=mp(e));for(var o=s.length,r=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=i[c],h=s[c],d=h.length,f=yp(e.call(u,u&&u.__data__,c,i)),p=f.length,g=a[c]=new Array(p),v=r[c]=new Array(p),b=l[c]=new Array(d);n(u,h,g,v,b,f,t);for(var _=0,x=0,w,y;_<p;++_)if(w=g[_]){for(_>=x&&(x=_+1);!(y=v[x])&&++x<p;);w._next=y||null}}return r=new Me(r,i),r._enter=a,r._exit=l,r}function yp(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function wp(){return new Me(this._exit||this._groups.map($u),this._parents)}function Ap(e,t,n){var i=this.enter(),s=this,o=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?o.remove():n(o),i&&s?i.merge(s).order():s}function kp(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,s=n.length,o=i.length,r=Math.min(s,o),a=new Array(s),l=0;l<r;++l)for(var c=n[l],u=i[l],h=c.length,d=a[l]=new Array(h),f,p=0;p<h;++p)(f=c[p]||u[p])&&(d[p]=f);for(;l<s;++l)a[l]=n[l];return new Me(a,this._parents)}function Sp(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],s=i.length-1,o=i[s],r;--s>=0;)(r=i[s])&&(o&&r.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(r,o),o=r);return this}function Mp(e){e||(e=Cp);function t(h,d){return h&&d?e(h.__data__,d.__data__):!h-!d}for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o){for(var r=n[o],a=r.length,l=s[o]=new Array(a),c,u=0;u<a;++u)(c=r[u])&&(l[u]=c);l.sort(t)}return new Me(s,this._parents).order()}function Cp(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ep(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Pp(){return Array.from(this)}function Dp(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],s=0,o=i.length;s<o;++s){var r=i[s];if(r)return r}return null}function Tp(){let e=0;for(const t of this)++e;return e}function Ip(){return!this.node()}function Op(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var s=t[n],o=0,r=s.length,a;o<r;++o)(a=s[o])&&e.call(a,a.__data__,o,s);return this}function Rp(e){return function(){this.removeAttribute(e)}}function Lp(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Bp(e,t){return function(){this.setAttribute(e,t)}}function Fp(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function zp(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Np(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Wp(e,t){var n=tr(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?Lp:Rp:typeof t=="function"?n.local?Np:zp:n.local?Fp:Bp)(n,t))}function Xu(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Hp(e){return function(){this.style.removeProperty(e)}}function Vp(e,t,n){return function(){this.style.setProperty(e,t,n)}}function jp(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function qp(e,t,n){return arguments.length>1?this.each((t==null?Hp:typeof t=="function"?jp:Vp)(e,t,n??"")):Oi(this.node(),e)}function Oi(e,t){return e.style.getPropertyValue(t)||Xu(e).getComputedStyle(e,null).getPropertyValue(t)}function Yp(e){return function(){delete this[e]}}function Up(e,t){return function(){this[e]=t}}function $p(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Xp(e,t){return arguments.length>1?this.each((t==null?Yp:typeof t=="function"?$p:Up)(e,t)):this.node()[e]}function Gu(e){return e.trim().split(/^|\s+/)}function ka(e){return e.classList||new Zu(e)}function Zu(e){this._node=e,this._names=Gu(e.getAttribute("class")||"")}Zu.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ku(e,t){for(var n=ka(e),i=-1,s=t.length;++i<s;)n.add(t[i])}function Ju(e,t){for(var n=ka(e),i=-1,s=t.length;++i<s;)n.remove(t[i])}function Gp(e){return function(){Ku(this,e)}}function Zp(e){return function(){Ju(this,e)}}function Kp(e,t){return function(){(t.apply(this,arguments)?Ku:Ju)(this,e)}}function Jp(e,t){var n=Gu(e+"");if(arguments.length<2){for(var i=ka(this.node()),s=-1,o=n.length;++s<o;)if(!i.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?Kp:t?Gp:Zp)(n,t))}function Qp(){this.textContent=""}function tg(e){return function(){this.textContent=e}}function eg(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function ng(e){return arguments.length?this.each(e==null?Qp:(typeof e=="function"?eg:tg)(e)):this.node().textContent}function ig(){this.innerHTML=""}function sg(e){return function(){this.innerHTML=e}}function og(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function rg(e){return arguments.length?this.each(e==null?ig:(typeof e=="function"?og:sg)(e)):this.node().innerHTML}function ag(){this.nextSibling&&this.parentNode.appendChild(this)}function lg(){return this.each(ag)}function cg(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ug(){return this.each(cg)}function hg(e){var t=typeof e=="function"?e:ju(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function dg(){return null}function fg(e,t){var n=typeof e=="function"?e:ju(e),i=t==null?dg:typeof t=="function"?t:Aa(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function pg(){var e=this.parentNode;e&&e.removeChild(this)}function gg(){return this.each(pg)}function mg(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function vg(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function bg(e){return this.select(e?vg:mg)}function _g(e){return arguments.length?this.property("__data__",e):this.node().__data__}function xg(e){return function(t){e.call(this,t,this.__data__)}}function yg(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function wg(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,s=t.length,o;n<s;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++i]=o;++i?t.length=i:delete this.__on}}}function Ag(e,t,n){return function(){var i=this.__on,s,o=xg(t);if(i){for(var r=0,a=i.length;r<a;++r)if((s=i[r]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=o,s.options=n),s.value=t;return}}this.addEventListener(e.type,o,n),s={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(s):this.__on=[s]}}function kg(e,t,n){var i=yg(e+""),s,o=i.length,r;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(s=0,u=a[l];s<o;++s)if((r=i[s]).type===u.type&&r.name===u.name)return u.value}return}for(a=t?Ag:wg,s=0;s<o;++s)this.each(a(i[s],t,n));return this}function Qu(e,t,n){var i=Xu(e),s=i.CustomEvent;typeof s=="function"?s=new s(t,n):(s=i.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function Sg(e,t){return function(){return Qu(this,e,t)}}function Mg(e,t){return function(){return Qu(this,e,t.apply(this,arguments))}}function Cg(e,t){return this.each((typeof t=="function"?Mg:Sg)(e,t))}function*Eg(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],s=0,o=i.length,r;s<o;++s)(r=i[s])&&(yield r)}var Pg=[null];function Me(e,t){this._groups=e,this._parents=t}function Ns(){return new Me([[document.documentElement]],Pg)}function Dg(){return this}Me.prototype=Ns.prototype={constructor:Me,select:ep,selectAll:op,selectChild:cp,selectChildren:fp,filter:pp,data:xp,enter:gp,exit:wp,join:Ap,merge:kp,selection:Dg,order:Sp,sort:Mp,call:Ep,nodes:Pp,node:Dp,size:Tp,empty:Ip,each:Op,attr:Wp,style:qp,property:Xp,classed:Jp,text:ng,html:rg,raise:lg,lower:ug,append:hg,insert:fg,remove:gg,clone:bg,datum:_g,on:kg,dispatch:Cg,[Symbol.iterator]:Eg};function Sa(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function th(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Ws(){}var _s=.7,Io=1/_s,_i="\\s*([+-]?\\d+)\\s*",xs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",He="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tg=/^#([0-9a-f]{3,8})$/,Ig=new RegExp(`^rgb\\(${_i},${_i},${_i}\\)$`),Og=new RegExp(`^rgb\\(${He},${He},${He}\\)$`),Rg=new RegExp(`^rgba\\(${_i},${_i},${_i},${xs}\\)$`),Lg=new RegExp(`^rgba\\(${He},${He},${He},${xs}\\)$`),Bg=new RegExp(`^hsl\\(${xs},${He},${He}\\)$`),Fg=new RegExp(`^hsla\\(${xs},${He},${He},${xs}\\)$`),ul={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sa(Ws,ys,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:hl,formatHex:hl,formatHex8:zg,formatHsl:Ng,formatRgb:dl,toString:dl});function hl(){return this.rgb().formatHex()}function zg(){return this.rgb().formatHex8()}function Ng(){return eh(this).formatHsl()}function dl(){return this.rgb().formatRgb()}function ys(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Tg.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?fl(t):n===3?new Gt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?qs(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?qs(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ig.exec(e))?new Gt(t[1],t[2],t[3],1):(t=Og.exec(e))?new Gt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Rg.exec(e))?qs(t[1],t[2],t[3],t[4]):(t=Lg.exec(e))?qs(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Bg.exec(e))?ml(t[1],t[2]/100,t[3]/100,1):(t=Fg.exec(e))?ml(t[1],t[2]/100,t[3]/100,t[4]):ul.hasOwnProperty(e)?fl(ul[e]):e==="transparent"?new Gt(NaN,NaN,NaN,0):null}function fl(e){return new Gt(e>>16&255,e>>8&255,e&255,1)}function qs(e,t,n,i){return i<=0&&(e=t=n=NaN),new Gt(e,t,n,i)}function Wg(e){return e instanceof Ws||(e=ys(e)),e?(e=e.rgb(),new Gt(e.r,e.g,e.b,e.opacity)):new Gt}function Nr(e,t,n,i){return arguments.length===1?Wg(e):new Gt(e,t,n,i??1)}function Gt(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Sa(Gt,Nr,th(Ws,{brighter(e){return e=e==null?Io:Math.pow(Io,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?_s:Math.pow(_s,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gt($n(this.r),$n(this.g),$n(this.b),Oo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pl,formatHex:pl,formatHex8:Hg,formatRgb:gl,toString:gl}));function pl(){return`#${Fn(this.r)}${Fn(this.g)}${Fn(this.b)}`}function Hg(){return`#${Fn(this.r)}${Fn(this.g)}${Fn(this.b)}${Fn((isNaN(this.opacity)?1:this.opacity)*255)}`}function gl(){const e=Oo(this.opacity);return`${e===1?"rgb(":"rgba("}${$n(this.r)}, ${$n(this.g)}, ${$n(this.b)}${e===1?")":`, ${e})`}`}function Oo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $n(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Fn(e){return e=$n(e),(e<16?"0":"")+e.toString(16)}function ml(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new we(e,t,n,i)}function eh(e){if(e instanceof we)return new we(e.h,e.s,e.l,e.opacity);if(e instanceof Ws||(e=ys(e)),!e)return new we;if(e instanceof we)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,s=Math.min(t,n,i),o=Math.max(t,n,i),r=NaN,a=o-s,l=(o+s)/2;return a?(t===o?r=(n-i)/a+(n<i)*6:n===o?r=(i-t)/a+2:r=(t-n)/a+4,a/=l<.5?o+s:2-o-s,r*=60):a=l>0&&l<1?0:r,new we(r,a,l,e.opacity)}function Vg(e,t,n,i){return arguments.length===1?eh(e):new we(e,t,n,i??1)}function we(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Sa(we,Vg,th(Ws,{brighter(e){return e=e==null?Io:Math.pow(Io,e),new we(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_s:Math.pow(_s,e),new we(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,s=2*n-i;return new Gt(dr(e>=240?e-240:e+120,s,i),dr(e,s,i),dr(e<120?e+240:e-120,s,i),this.opacity)},clamp(){return new we(vl(this.h),Ys(this.s),Ys(this.l),Oo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Oo(this.opacity);return`${e===1?"hsl(":"hsla("}${vl(this.h)}, ${Ys(this.s)*100}%, ${Ys(this.l)*100}%${e===1?")":`, ${e})`}`}}));function vl(e){return e=(e||0)%360,e<0?e+360:e}function Ys(e){return Math.max(0,Math.min(1,e||0))}function dr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const nh=e=>()=>e;function jg(e,t){return function(n){return e+n*t}}function qg(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function Yg(e){return(e=+e)==1?ih:function(t,n){return n-t?qg(t,n,e):nh(isNaN(t)?n:t)}}function ih(e,t){var n=t-e;return n?jg(e,n):nh(isNaN(e)?t:e)}const bl=(function e(t){var n=Yg(t);function i(s,o){var r=n((s=Nr(s)).r,(o=Nr(o)).r),a=n(s.g,o.g),l=n(s.b,o.b),c=ih(s.opacity,o.opacity);return function(u){return s.r=r(u),s.g=a(u),s.b=l(u),s.opacity=c(u),s+""}}return i.gamma=e,i})(1);function hn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Wr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fr=new RegExp(Wr.source,"g");function Ug(e){return function(){return e}}function $g(e){return function(t){return e(t)+""}}function Xg(e,t){var n=Wr.lastIndex=fr.lastIndex=0,i,s,o,r=-1,a=[],l=[];for(e=e+"",t=t+"";(i=Wr.exec(e))&&(s=fr.exec(t));)(o=s.index)>n&&(o=t.slice(n,o),a[r]?a[r]+=o:a[++r]=o),(i=i[0])===(s=s[0])?a[r]?a[r]+=s:a[++r]=s:(a[++r]=null,l.push({i:r,x:hn(i,s)})),n=fr.lastIndex;return n<t.length&&(o=t.slice(n),a[r]?a[r]+=o:a[++r]=o),a.length<2?l[0]?$g(l[0].x):Ug(t):(t=l.length,function(c){for(var u=0,h;u<t;++u)a[(h=l[u]).i]=h.x(c);return a.join("")})}var _l=180/Math.PI,Hr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function sh(e,t,n,i,s,o){var r,a,l;return(r=Math.sqrt(e*e+t*t))&&(e/=r,t/=r),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),e*i<t*n&&(e=-e,t=-t,l=-l,r=-r),{translateX:s,translateY:o,rotate:Math.atan2(t,e)*_l,skewX:Math.atan(l)*_l,scaleX:r,scaleY:a}}var Us;function Gg(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Hr:sh(t.a,t.b,t.c,t.d,t.e,t.f)}function Zg(e){return e==null||(Us||(Us=document.createElementNS("http://www.w3.org/2000/svg","g")),Us.setAttribute("transform",e),!(e=Us.transform.baseVal.consolidate()))?Hr:(e=e.matrix,sh(e.a,e.b,e.c,e.d,e.e,e.f))}function oh(e,t,n,i){function s(c){return c.length?c.pop()+" ":""}function o(c,u,h,d,f,p){if(c!==h||u!==d){var g=f.push("translate(",null,t,null,n);p.push({i:g-4,x:hn(c,h)},{i:g-2,x:hn(u,d)})}else(h||d)&&f.push("translate("+h+t+d+n)}function r(c,u,h,d){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),d.push({i:h.push(s(h)+"rotate(",null,i)-2,x:hn(c,u)})):u&&h.push(s(h)+"rotate("+u+i)}function a(c,u,h,d){c!==u?d.push({i:h.push(s(h)+"skewX(",null,i)-2,x:hn(c,u)}):u&&h.push(s(h)+"skewX("+u+i)}function l(c,u,h,d,f,p){if(c!==h||u!==d){var g=f.push(s(f)+"scale(",null,",",null,")");p.push({i:g-4,x:hn(c,h)},{i:g-2,x:hn(u,d)})}else(h!==1||d!==1)&&f.push(s(f)+"scale("+h+","+d+")")}return function(c,u){var h=[],d=[];return c=e(c),u=e(u),o(c.translateX,c.translateY,u.translateX,u.translateY,h,d),r(c.rotate,u.rotate,h,d),a(c.skewX,u.skewX,h,d),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,h,d),c=u=null,function(f){for(var p=-1,g=d.length,v;++p<g;)h[(v=d[p]).i]=v.x(f);return h.join("")}}}var Kg=oh(Gg,"px, ","px)","deg)"),Jg=oh(Zg,", ",")",")"),Ri=0,Ji=0,qi=0,rh=1e3,Ro,Qi,Lo=0,ti=0,er=0,ws=typeof performance=="object"&&performance.now?performance:Date,ah=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ma(){return ti||(ah(Qg),ti=ws.now()+er)}function Qg(){ti=0}function Bo(){this._call=this._time=this._next=null}Bo.prototype=lh.prototype={constructor:Bo,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ma():+n)+(t==null?0:+t),!this._next&&Qi!==this&&(Qi?Qi._next=this:Ro=this,Qi=this),this._call=e,this._time=n,Vr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vr())}};function lh(e,t,n){var i=new Bo;return i.restart(e,t,n),i}function t0(){Ma(),++Ri;for(var e=Ro,t;e;)(t=ti-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ri}function xl(){ti=(Lo=ws.now())+er,Ri=Ji=0;try{t0()}finally{Ri=0,n0(),ti=0}}function e0(){var e=ws.now(),t=e-Lo;t>rh&&(er-=t,Lo=e)}function n0(){for(var e,t=Ro,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ro=n);Qi=e,Vr(i)}function Vr(e){if(!Ri){Ji&&(Ji=clearTimeout(Ji));var t=e-ti;t>24?(e<1/0&&(Ji=setTimeout(xl,e-ws.now()-er)),qi&&(qi=clearInterval(qi))):(qi||(Lo=ws.now(),qi=setInterval(e0,rh)),Ri=1,ah(xl))}}function yl(e,t,n){var i=new Bo;return t=t==null?0:+t,i.restart(s=>{i.stop(),e(s+t)},t,n),i}var i0=Vu("start","end","cancel","interrupt"),s0=[],ch=0,wl=1,jr=2,mo=3,Al=4,qr=5,vo=6;function nr(e,t,n,i,s,o){var r=e.__transition;if(!r)e.__transition={};else if(n in r)return;o0(e,n,{name:t,index:i,group:s,on:i0,tween:s0,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ch})}function Ca(e,t){var n=De(e,t);if(n.state>ch)throw new Error("too late; already scheduled");return n}function Ue(e,t){var n=De(e,t);if(n.state>mo)throw new Error("too late; already running");return n}function De(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function o0(e,t,n){var i=e.__transition,s;i[t]=n,n.timer=lh(o,0,n.time);function o(c){n.state=wl,n.timer.restart(r,n.delay,n.time),n.delay<=c&&r(c-n.delay)}function r(c){var u,h,d,f;if(n.state!==wl)return l();for(u in i)if(f=i[u],f.name===n.name){if(f.state===mo)return yl(r);f.state===Al?(f.state=vo,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete i[u]):+u<t&&(f.state=vo,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete i[u])}if(yl(function(){n.state===mo&&(n.state=Al,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=jr,n.on.call("start",e,e.__data__,n.index,n.group),n.state===jr){for(n.state=mo,s=new Array(d=n.tween.length),u=0,h=-1;u<d;++u)(f=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(s[++h]=f);s.length=h+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=qr,1),h=-1,d=s.length;++h<d;)s[h].call(e,u);n.state===qr&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=vo,n.timer.stop(),delete i[t];for(var c in i)return;delete e.__transition}}function r0(e,t){var n=e.__transition,i,s,o=!0,r;if(n){t=t==null?null:t+"";for(r in n){if((i=n[r]).name!==t){o=!1;continue}s=i.state>jr&&i.state<qr,i.state=vo,i.timer.stop(),i.on.call(s?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[r]}o&&delete e.__transition}}function a0(e){return this.each(function(){r0(this,e)})}function l0(e,t){var n,i;return function(){var s=Ue(this,e),o=s.tween;if(o!==n){i=n=o;for(var r=0,a=i.length;r<a;++r)if(i[r].name===t){i=i.slice(),i.splice(r,1);break}}s.tween=i}}function c0(e,t,n){var i,s;if(typeof n!="function")throw new Error;return function(){var o=Ue(this,e),r=o.tween;if(r!==i){s=(i=r).slice();for(var a={name:t,value:n},l=0,c=s.length;l<c;++l)if(s[l].name===t){s[l]=a;break}l===c&&s.push(a)}o.tween=s}}function u0(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=De(this.node(),n).tween,s=0,o=i.length,r;s<o;++s)if((r=i[s]).name===e)return r.value;return null}return this.each((t==null?l0:c0)(n,e,t))}function Ea(e,t,n){var i=e._id;return e.each(function(){var s=Ue(this,i);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return De(s,i).value[t]}}function uh(e,t){var n;return(typeof t=="number"?hn:t instanceof ys?bl:(n=ys(t))?(t=n,bl):Xg)(e,t)}function h0(e){return function(){this.removeAttribute(e)}}function d0(e){return function(){this.removeAttributeNS(e.space,e.local)}}function f0(e,t,n){var i,s=n+"",o;return function(){var r=this.getAttribute(e);return r===s?null:r===i?o:o=t(i=r,n)}}function p0(e,t,n){var i,s=n+"",o;return function(){var r=this.getAttributeNS(e.space,e.local);return r===s?null:r===i?o:o=t(i=r,n)}}function g0(e,t,n){var i,s,o;return function(){var r,a=n(this),l;return a==null?void this.removeAttribute(e):(r=this.getAttribute(e),l=a+"",r===l?null:r===i&&l===s?o:(s=l,o=t(i=r,a)))}}function m0(e,t,n){var i,s,o;return function(){var r,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(r=this.getAttributeNS(e.space,e.local),l=a+"",r===l?null:r===i&&l===s?o:(s=l,o=t(i=r,a)))}}function v0(e,t){var n=tr(e),i=n==="transform"?Jg:uh;return this.attrTween(e,typeof t=="function"?(n.local?m0:g0)(n,i,Ea(this,"attr."+e,t)):t==null?(n.local?d0:h0)(n):(n.local?p0:f0)(n,i,t))}function b0(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function _0(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function x0(e,t){var n,i;function s(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&_0(e,o)),n}return s._value=t,s}function y0(e,t){var n,i;function s(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&b0(e,o)),n}return s._value=t,s}function w0(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=tr(e);return this.tween(n,(i.local?x0:y0)(i,t))}function A0(e,t){return function(){Ca(this,e).delay=+t.apply(this,arguments)}}function k0(e,t){return t=+t,function(){Ca(this,e).delay=t}}function S0(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?A0:k0)(t,e)):De(this.node(),t).delay}function M0(e,t){return function(){Ue(this,e).duration=+t.apply(this,arguments)}}function C0(e,t){return t=+t,function(){Ue(this,e).duration=t}}function E0(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?M0:C0)(t,e)):De(this.node(),t).duration}function P0(e,t){if(typeof t!="function")throw new Error;return function(){Ue(this,e).ease=t}}function D0(e){var t=this._id;return arguments.length?this.each(P0(t,e)):De(this.node(),t).ease}function T0(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ue(this,e).ease=n}}function I0(e){if(typeof e!="function")throw new Error;return this.each(T0(this._id,e))}function O0(e){typeof e!="function"&&(e=Yu(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var o=t[s],r=o.length,a=i[s]=[],l,c=0;c<r;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new rn(i,this._parents,this._name,this._id)}function R0(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,s=n.length,o=Math.min(i,s),r=new Array(i),a=0;a<o;++a)for(var l=t[a],c=n[a],u=l.length,h=r[a]=new Array(u),d,f=0;f<u;++f)(d=l[f]||c[f])&&(h[f]=d);for(;a<i;++a)r[a]=t[a];return new rn(r,this._parents,this._name,this._id)}function L0(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function B0(e,t,n){var i,s,o=L0(t)?Ca:Ue;return function(){var r=o(this,e),a=r.on;a!==i&&(s=(i=a).copy()).on(t,n),r.on=s}}function F0(e,t){var n=this._id;return arguments.length<2?De(this.node(),n).on.on(e):this.each(B0(n,e,t))}function z0(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function N0(){return this.on("end.remove",z0(this._id))}function W0(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Aa(e));for(var i=this._groups,s=i.length,o=new Array(s),r=0;r<s;++r)for(var a=i[r],l=a.length,c=o[r]=new Array(l),u,h,d=0;d<l;++d)(u=a[d])&&(h=e.call(u,u.__data__,d,a))&&("__data__"in u&&(h.__data__=u.__data__),c[d]=h,nr(c[d],t,n,d,c,De(u,n)));return new rn(o,this._parents,t,n)}function H0(e){var t=this._name,n=this._id;typeof e!="function"&&(e=qu(e));for(var i=this._groups,s=i.length,o=[],r=[],a=0;a<s;++a)for(var l=i[a],c=l.length,u,h=0;h<c;++h)if(u=l[h]){for(var d=e.call(u,u.__data__,h,l),f,p=De(u,n),g=0,v=d.length;g<v;++g)(f=d[g])&&nr(f,t,n,g,d,p);o.push(d),r.push(u)}return new rn(o,r,t,n)}var V0=Ns.prototype.constructor;function j0(){return new V0(this._groups,this._parents)}function q0(e,t){var n,i,s;return function(){var o=Oi(this,e),r=(this.style.removeProperty(e),Oi(this,e));return o===r?null:o===n&&r===i?s:s=t(n=o,i=r)}}function hh(e){return function(){this.style.removeProperty(e)}}function Y0(e,t,n){var i,s=n+"",o;return function(){var r=Oi(this,e);return r===s?null:r===i?o:o=t(i=r,n)}}function U0(e,t,n){var i,s,o;return function(){var r=Oi(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Oi(this,e))),r===l?null:r===i&&l===s?o:(s=l,o=t(i=r,a))}}function $0(e,t){var n,i,s,o="style."+t,r="end."+o,a;return function(){var l=Ue(this,e),c=l.on,u=l.value[o]==null?a||(a=hh(t)):void 0;(c!==n||s!==u)&&(i=(n=c).copy()).on(r,s=u),l.on=i}}function X0(e,t,n){var i=(e+="")=="transform"?Kg:uh;return t==null?this.styleTween(e,q0(e,i)).on("end.style."+e,hh(e)):typeof t=="function"?this.styleTween(e,U0(e,i,Ea(this,"style."+e,t))).each($0(this._id,e)):this.styleTween(e,Y0(e,i,t),n).on("end.style."+e,null)}function G0(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function Z0(e,t,n){var i,s;function o(){var r=t.apply(this,arguments);return r!==s&&(i=(s=r)&&G0(e,r,n)),i}return o._value=t,o}function K0(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,Z0(e,t,n??""))}function J0(e){return function(){this.textContent=e}}function Q0(e){return function(){var t=e(this);this.textContent=t??""}}function tm(e){return this.tween("text",typeof e=="function"?Q0(Ea(this,"text",e)):J0(e==null?"":e+""))}function em(e){return function(t){this.textContent=e.call(this,t)}}function nm(e){var t,n;function i(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&em(s)),t}return i._value=e,i}function im(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,nm(e))}function sm(){for(var e=this._name,t=this._id,n=dh(),i=this._groups,s=i.length,o=0;o<s;++o)for(var r=i[o],a=r.length,l,c=0;c<a;++c)if(l=r[c]){var u=De(l,t);nr(l,e,n,c,r,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new rn(i,this._parents,e,n)}function om(){var e,t,n=this,i=n._id,s=n.size();return new Promise(function(o,r){var a={value:r},l={value:function(){--s===0&&o()}};n.each(function(){var c=Ue(this,i),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),s===0&&o()})}var rm=0;function rn(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function dh(){return++rm}var Ge=Ns.prototype;rn.prototype={constructor:rn,select:W0,selectAll:H0,selectChild:Ge.selectChild,selectChildren:Ge.selectChildren,filter:O0,merge:R0,selection:j0,transition:sm,call:Ge.call,nodes:Ge.nodes,node:Ge.node,size:Ge.size,empty:Ge.empty,each:Ge.each,on:F0,attr:v0,attrTween:w0,style:X0,styleTween:K0,text:tm,textTween:im,remove:N0,tween:u0,delay:S0,duration:E0,ease:D0,easeVarying:I0,end:om,[Symbol.iterator]:Ge[Symbol.iterator]};function am(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var lm={time:null,delay:0,duration:250,ease:am};function cm(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function um(e){var t,n;e instanceof rn?(t=e._id,e=e._name):(t=dh(),(n=lm).time=Ma(),e=e==null?null:e+"");for(var i=this._groups,s=i.length,o=0;o<s;++o)for(var r=i[o],a=r.length,l,c=0;c<a;++c)(l=r[c])&&nr(l,e,t,c,r,n||cm(l,t));return new rn(i,this._parents,e,t)}Ns.prototype.interrupt=a0;Ns.prototype.transition=um;function ts(e,t,n){this.k=e,this.x=t,this.y=n}ts.prototype={constructor:ts,scale:function(e){return e===1?this:new ts(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ts(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ts.prototype;const ee="/lyrics/assets/song1-B0iF0azy.mp3",fh="/lyrics/assets/song2-C40JFhcv.mp3",hm="/lyrics/assets/MobileBase-BrUrMSm-.png",kl="/lyrics/assets/MobileAmor-Dln0rLp_.png",$s="/lyrics/assets/MobileExplicit-C7wgnPQ7.png",dm="/lyrics/assets/TabletBase-cdJMuvcT.png",Sl="/lyrics/assets/TabletAmor-n5YDtRwe.png",Xs="/lyrics/assets/TabletExplicit-Cbu7zNcX.png",fm="/lyrics/assets/DesktopBase-CglYSYI5.png",Ml="/lyrics/assets/DesktopAmor-C1hBzGQo.png",Gs="/lyrics/assets/DesktopExplicit-C9V-SnwH.png",pm="/lyrics/assets/BigBase-Dvr7mj6m.png",Cl="/lyrics/assets/BigAmor-B_fseYHh.png",Zs="/lyrics/assets/BigExplicit-CdvnBKCf.png";var gm=Qo('<svg width="10" height="12" viewBox="0 0 10 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-wl36lr"><rect x="0" y="0" width="3" height="12" fill="currentColor"></rect><rect x="7" y="0" width="3" height="12" fill="currentColor"></rect></svg>'),mm=Qo('<svg width="10" height="12" viewBox="0 0 10 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-wl36lr"><path d="M0 0L10 6L0 12V0Z" fill="currentColor"></path></svg>'),vm=ut('<div><button class="lv_playButton svelte-wl36lr" type="button"><!></button> <div class="lv_songInfo svelte-wl36lr"><p class="lv_songTitle svelte-wl36lr"> </p> <p class="lv_songMeta svelte-wl36lr"> </p></div></div>'),bm=ut('<div class="lv_scrolly svelte-wl36lr"><div><div class="lv_imageContainer svelte-wl36lr"><img alt="VisualizaciÃ³n beeswarm" class="lv_backgroundImage svelte-wl36lr"/> <!></div> <audio class="lv_audioHidden svelte-wl36lr"></audio></div> <div class="lv_steps svelte-wl36lr"><section class="lv_step svelte-wl36lr" data-step="1"><div class="lv_bocadillo svelte-wl36lr"><h2 class="lv_bocadilloTitle svelte-wl36lr"></h2> <p class="lv_bocadilloText svelte-wl36lr">Estas son las 6.500 canciones que han estado en el top 100 anual entre 1958 y 2022. Cada cÃ­rculo es una canciÃ³n y estÃ¡n ordenados por el aÃ±o de lanzamiento.</p></div></section> <section class="lv_step svelte-wl36lr" data-step="2"><div class="lv_bocadillo svelte-wl36lr"><h2 class="lv_bocadilloTitle svelte-wl36lr"></h2> <p class="lv_bocadilloText svelte-wl36lr">La mitad de las canciones mÃ¡s populares tienen un fuerte componente <span class="lv_destaColor svelte-wl36lr" style="background-color: #FF8296;">romÃ¡ntico</span>. El amor ha sido el gran eje vertebrador de la mÃºsica pop.</p></div></section> <section class="lv_step lv_stepEmpty svelte-wl36lr" data-step="3"><div class="lv_bocadillo lv_bocadilloEmpty svelte-wl36lr"></div></section> <section class="lv_step svelte-wl36lr" data-step="4"><div class="lv_bocadillo svelte-wl36lr"><h2 class="lv_bocadilloTitle svelte-wl36lr"></h2> <p class="lv_bocadilloText svelte-wl36lr">Pero a finales de los 90 y especialmente con la entrada al nuevo siglo, proliferan canciones con contenido <span class="lv_destaColor svelte-wl36lr" style="background-color: #8D3184; color: #fff;">explÃ­cito</span> como el sexo.</p></div></section> <section class="lv_step lv_stepEmpty svelte-wl36lr" data-step="5"><div class="lv_bocadillo lv_bocadilloEmpty svelte-wl36lr"></div></section> <section class="lv_step svelte-wl36lr" data-step="6"><div class="lv_bocadillo svelte-wl36lr"><h2 class="lv_bocadilloTitle svelte-wl36lr"></h2> <p class="lv_bocadilloText svelte-wl36lr">Este contenido explÃ­cito, que tambiÃ©n incluye insultos y referencias a la violencia y las drogas, representa en 2022 un tercio de la lista Billboard.</p></div></section> <section class="lv_step lv_stepEmpty svelte-wl36lr" data-step="7"><div class="lv_bocadillo lv_bocadilloEmpty svelte-wl36lr"></div></section></div></div>');function _m(e,t){Ce(t,!1);const n=()=>Qn(Ne,"$audioMuted",i),[i,s]=Vi(),o=H(),r=H(),a=H(),l=H(),c=H(),u={step1:hm,step2:kl,step3:kl,step4:$s,step5:$s,step6:$s,step7:$s},h={step1:dm,step2:Sl,step3:Sl,step4:Xs,step5:Xs,step6:Xs,step7:Xs},d={step1:fm,step2:Ml,step3:Ml,step4:Gs,step5:Gs,step6:Gs,step7:Gs},f={step1:pm,step2:Cl,step3:Cl,step4:Zs,step5:Zs,step6:Zs,step7:Zs};let p=H(1),g;const v=[3,5,7];let b=H("mobile");function _(){const S=window.innerWidth;S>1200?L(b,"big"):S>=950?L(b,"desktop"):S>=550?L(b,"tablet"):L(b,"mobile")}let x=H(),w=H(null);const y={loveSet1:[{title:"I'll Never Fall In Love Again",artist:"Tom Jones",year:1967,audio:ee,topMob:20,leftMob:31,topTab:19,leftTab:31,topDesk:40,leftDesk:18,topBig:52,leftBig:17},{title:"(Everything I Do) I Do It For You",artist:"Bryan Adams",year:1991,audio:fh,topMob:51,leftMob:22,topTab:51,leftTab:29,topDesk:48,leftDesk:52,topBig:42,leftBig:51},{title:"Someone Like You",artist:"Adele",year:2011,audio:ee,topMob:78,leftMob:35,topTab:79,leftTab:38,topDesk:37,leftDesk:80,topBig:49,leftBig:80}],explicitSet1:[{title:"I Touch Myself",artist:"Divinyls",year:1991,audio:ee,topMob:51,leftMob:30,topTab:52,leftTab:32,topDesk:44,leftDesk:53,topBig:43,leftBig:52},{title:"Toxic",artist:"Britney Spears",year:2004,audio:ee,topMob:66,leftMob:40,topTab:68,leftTab:43,topDesk:54,leftDesk:69,topBig:55,leftBig:68},{title:"DÃ¡kiti",artist:"Bad Bunny & Jhay Cortez",year:2020,audio:ee,topMob:88,leftMob:33,topTab:91,leftTab:40,topDesk:39,leftDesk:74,topBig:43,leftBig:73,reverse:!0}],explicitSet2:[{title:"Black Dog",artist:"Led Zeppelin",year:1971,audio:ee,topMob:25,leftMob:45,topTab:25,leftTab:43,topDesk:43,leftDesk:23,topBig:44,leftBig:23},{title:"Love The Way You Lie",artist:"Eminem Featuring Rihanna",year:2010,audio:ee,topMob:73,leftMob:20,topTab:79,leftTab:32,topDesk:53,leftDesk:59,topBig:54,leftBig:59,reverse:!0},{title:"Stay",artist:"The Kid LAROI & Justin Bieber",year:2021,audio:ee,topMob:88,leftMob:30,topTab:92,leftTab:40,topDesk:45,leftDesk:73,topBig:46,leftBig:73,reverse:!0}]};function A(S){switch(S){case 1:return{highlightKey:null};case 2:return{highlightKey:null};case 3:return{highlightKey:"loveSet1"};case 4:return{highlightKey:null};case 5:return{highlightKey:"explicitSet1"};case 6:return{highlightKey:null};case 7:return{highlightKey:"explicitSet2"};default:return{highlightKey:null}}}function k(S){const M=m(b)==="big"?"Big":m(b)==="desktop"?"Desk":m(b)==="tablet"?"Tab":"Mob";return{top:S[`top${M}`],left:S[`left${M}`]}}function C(S){if(!(!m(x)||!S.audio)){if(m(w)===S){m(x).pause(),L(w,null);return}St(x,m(x).src=S.audio),St(x,m(x).currentTime=0),m(x).play(),L(w,S)}}Pe(()=>{_(),window.addEventListener("resize",_);const S={threshold:.5};g=new IntersectionObserver(R=>{R.forEach(I=>{if(I.isIntersecting){const N=Number(I.target.dataset.step);L(p,N)}})},S),document.querySelectorAll(".lv_step").forEach(R=>{g.observe(R)})}),wa(()=>{g&&g.disconnect(),window.removeEventListener("resize",_)}),yt(()=>m(p),()=>{L(o,v.includes(m(p)))}),yt(()=>m(b),()=>{L(r,m(b)==="big"?f:m(b)==="desktop"?d:m(b)==="tablet"?h:u)}),yt(()=>(m(r),m(p)),()=>{L(a,m(r)[`step${m(p)}`]||m(r).step1)}),yt(()=>(m(x),n()),()=>{m(x)&&St(x,m(x).muted=n())}),yt(()=>m(p),()=>{L(l,A(m(p)))}),yt(()=>m(l),()=>{L(c,m(l).highlightKey?y[m(l).highlightKey]:[])}),Wi(),Ye();var T=bm(),B=E(T);let F;var z=E(B),J=E(z),ot=O(J,2);ue(ot,1,()=>m(c),ce,(S,M)=>{const R=Ei(()=>(m(M),V(()=>k(m(M))))),I=Ei(()=>(m(M),m(b),V(()=>m(M).reverse&&(m(b)==="desktop"||m(b)==="big"))));var N=vm();let K;var et=E(N),xt=E(et);{var Dt=mt=>{var qt=gm();nt(mt,qt)},Rt=mt=>{var qt=mm();nt(mt,qt)};bi(xt,mt=>{m(M)===m(w)?mt(Dt):mt(Rt,!1)})}var At=O(et,2),Kt=E(At),$e=E(Kt),me=O(Kt,2),Te=E(me);bt(mt=>{K=he(N,1,"lv_songOverlay svelte-wl36lr",null,K,mt),Ii(N,(ms(m(R)),ms(m(I)),V(()=>`left:${m(R).left}%; top:${m(R).top}%; ${m(I)?"flex-direction: row-reverse;":""}`))),lt(et,"aria-label",m(M)===m(w)?"Pausar":"Reproducir"),Mt($e,(m(M),V(()=>m(M).title))),Mt(Te,`${m(M),V(()=>m(M).artist)??""} Â· ${m(M),V(()=>m(M).year)??""}`)},[()=>({lv_rowReverse:m(I)})]),Ot("click",et,()=>C(m(M))),nt(S,N)});var W=O(z,2);ge(W,S=>L(x,S),()=>m(x)),bt(S=>{F=he(B,1,"lv_stickyBackground svelte-wl36lr",null,F,S),lt(J,"src",m(a))},[()=>({lv_superZ:m(o)})]),nt(e,T),Ee(),s()}const El="/lyrics/assets/MobileSocial-DpYzGDEE.png",Pl="/lyrics/assets/MobileAngry-IcliCg-A.png",Dl="/lyrics/assets/TabletSocial-To3-baj7.png",Tl="/lyrics/assets/TabletAngry-DLlSa5nE.png",Il="/lyrics/assets/DesktopSocial-CbWtV3wI.png",Ol="/lyrics/assets/DesktopAngry-DfRuH8wu.png",Rl="/lyrics/assets/BigSocial-BXlKQ8z-.png",Ll="/lyrics/assets/BigAngry-CgoSXlQp.png";var xm=Qo('<svg width="10" height="12" viewBox="0 0 10 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-6v9d9k"><rect x="0" y="0" width="3" height="12" fill="currentColor"></rect><rect x="7" y="0" width="3" height="12" fill="currentColor"></rect></svg>'),ym=Qo('<svg width="10" height="12" viewBox="0 0 10 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-6v9d9k"><path d="M0 0L10 6L0 12V0Z" fill="currentColor"></path></svg>'),wm=ut('<div><button class="sb_playButton svelte-6v9d9k" type="button"><!></button> <div class="sb_songInfo svelte-6v9d9k"><p class="sb_songTitle svelte-6v9d9k"> </p> <p class="sb_songMeta svelte-6v9d9k"> </p></div></div>'),Am=ut('<div class="sb_scrolly svelte-6v9d9k"><div><div class="sb_imageContainer svelte-6v9d9k"><img alt="VisualizaciÃ³n beeswarm" class="sb_backgroundImage svelte-6v9d9k"/> <!></div> <audio class="sb_audioHidden svelte-6v9d9k"></audio></div> <div class="sb_steps svelte-6v9d9k"><section class="sb_step svelte-6v9d9k" data-step="1"><div class="sb_bocadillo svelte-6v9d9k"><h2 class="sb_bocadilloTitle svelte-6v9d9k"></h2> <p class="sb_bocadilloText svelte-6v9d9k">Durante los aÃ±os 70 y 80 las canciones <span class="sb_destaColor svelte-6v9d9k" style="background-color: #F6A63E;">reivindicativas</span> son recurrentes en la lista Billboard. Con la entrada al nuevo siglo, entran en declive.</p></div></section> <section class="sb_step sb_stepEmpty svelte-6v9d9k" data-step="2"><div class="sb_bocadillo sb_bocadilloEmpty svelte-6v9d9k"></div></section> <section class="sb_step svelte-6v9d9k" data-step="3"><div class="sb_bocadillo svelte-6v9d9k"><p class="sb_bocadilloText svelte-6v9d9k">Ocurre a la inversa con las canciones marcadas por la <span class="sb_destaColor svelte-6v9d9k" style="background-color: #6487f4; color: #fff;">ira y la rabia:</span> se popularizan a partir de la dÃ©cada de los 2000.</p></div></section> <section class="sb_step sb_stepEmpty svelte-6v9d9k" data-step="4"><div class="sb_bocadillo sb_bocadilloEmpty svelte-6v9d9k"></div></section></div></div>');function km(e,t){Ce(t,!1);const n=()=>Qn(Ne,"$audioMuted",i),[i,s]=Vi(),o=H(),r=H(),a=H(),l=H(),c=H(),u={step1:El,step2:El,step3:Pl,step4:Pl},h={step1:Dl,step2:Dl,step3:Tl,step4:Tl},d={step1:Il,step2:Il,step3:Ol,step4:Ol},f={step1:Rl,step2:Rl,step3:Ll,step4:Ll};let p=H(1),g;const v=[2,4];let b=H("mobile");function _(){const S=window.innerWidth;S>1200?L(b,"big"):S>=950?L(b,"desktop"):S>=550?L(b,"tablet"):L(b,"mobile")}let x=H(),w=H(null);const y={socialSet1:[{title:"People Got to Be Free",artist:"The Rascals",year:1969,audio:fh,topMob:20,leftMob:38,topTab:19,leftTab:38,topDesk:45,leftDesk:18,topBig:42,leftBig:18},{title:"Talkin' 'bout a Revolution",artist:"Tracy Chapman",year:1988,audio:ee,topMob:45,leftMob:25,topTab:45,leftTab:33,topDesk:56,leftDesk:45,topBig:52,leftBig:45},{title:"Where is the love",artist:"Black Eyed Peas",year:2003,audio:ee,topMob:66,leftMob:40,topTab:67,leftTab:42,topDesk:37,leftDesk:68,topBig:37,leftBig:68}],angrySet1:[{title:"Smells Like Teen Spirit",artist:"Nirvana",year:1991,audio:ee,topMob:51,leftMob:20,topTab:51,leftTab:30,topDesk:35,leftDesk:51,topBig:36,leftBig:51},{title:"Lose yourself",artist:"Eminem",year:2002,audio:ee,topMob:65,leftMob:40,topTab:66,leftTab:50,topDesk:57,leftDesk:59,topBig:58,leftBig:58,reverse:!0},{title:"When the party is over",artist:"Billie Eilish",year:2018,audio:ee,topMob:83,leftMob:30,topTab:86,leftTab:40,topDesk:46,leftDesk:74,topBig:45,leftBig:72,reverse:!0}]};function A(S){switch(S){case 1:return{highlightKey:null};case 2:return{highlightKey:"socialSet1"};case 3:return{highlightKey:null};case 4:return{highlightKey:"angrySet1"};default:return{highlightKey:null}}}function k(S){const M=m(b)==="big"?"Big":m(b)==="desktop"?"Desk":m(b)==="tablet"?"Tab":"Mob";return{top:S[`top${M}`],left:S[`left${M}`]}}function C(S){if(!(!m(x)||!S.audio)){if(m(w)===S){m(x).pause(),L(w,null);return}St(x,m(x).src=S.audio),St(x,m(x).currentTime=0),m(x).play(),L(w,S)}}Pe(()=>{_(),window.addEventListener("resize",_);const S={threshold:.5};g=new IntersectionObserver(R=>{R.forEach(I=>{if(I.isIntersecting){const N=Number(I.target.dataset.step);L(p,N)}})},S),document.querySelectorAll(".sb_step").forEach(R=>{g.observe(R)})}),wa(()=>{g&&g.disconnect(),window.removeEventListener("resize",_)}),yt(()=>m(p),()=>{L(o,v.includes(m(p)))}),yt(()=>m(b),()=>{L(r,m(b)==="big"?f:m(b)==="desktop"?d:m(b)==="tablet"?h:u)}),yt(()=>(m(r),m(p)),()=>{L(a,m(r)[`step${m(p)}`]||m(r).step1)}),yt(()=>(m(x),n()),()=>{m(x)&&St(x,m(x).muted=n())}),yt(()=>m(p),()=>{L(l,A(m(p)))}),yt(()=>m(l),()=>{L(c,m(l).highlightKey?y[m(l).highlightKey]:[])}),Wi(),Ye();var T=Am(),B=E(T);let F;var z=E(B),J=E(z),ot=O(J,2);ue(ot,1,()=>m(c),ce,(S,M)=>{const R=Ei(()=>(m(M),V(()=>k(m(M))))),I=Ei(()=>(m(M),m(b),V(()=>m(M).reverse&&(m(b)==="desktop"||m(b)==="big"))));var N=wm();let K;var et=E(N),xt=E(et);{var Dt=mt=>{var qt=xm();nt(mt,qt)},Rt=mt=>{var qt=ym();nt(mt,qt)};bi(xt,mt=>{m(M)===m(w)?mt(Dt):mt(Rt,!1)})}var At=O(et,2),Kt=E(At),$e=E(Kt),me=O(Kt,2),Te=E(me);bt(mt=>{K=he(N,1,"sb_songOverlay svelte-6v9d9k",null,K,mt),Ii(N,(ms(m(R)),ms(m(I)),V(()=>`left:${m(R).left}%; top:${m(R).top}%; ${m(I)?"flex-direction: row-reverse;":""}`))),lt(et,"aria-label",m(M)===m(w)?"Pausar":"Reproducir"),Mt($e,(m(M),V(()=>m(M).title))),Mt(Te,`${m(M),V(()=>m(M).artist)??""} Â· ${m(M),V(()=>m(M).year)??""}`)},[()=>({sb_rowReverse:m(I)})]),Ot("click",et,()=>C(m(M))),nt(S,N)});var W=O(z,2);ge(W,S=>L(x,S),()=>m(x)),bt(S=>{F=he(B,1,"sb_stickyBackground svelte-6v9d9k",null,F,S),lt(J,"src",m(a))},[()=>({sb_superZ:m(o)})]),nt(e,T),Ee(),s()}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Hs(e){return e+.5|0}const vn=(e,t,n)=>Math.max(Math.min(e,n),t);function es(e){return vn(Hs(e*2.55),0,255)}function An(e){return vn(Hs(e*255),0,255)}function tn(e){return vn(Hs(e/2.55)/100,0,1)}function Bl(e){return vn(Hs(e*100),0,100)}const oe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Yr=[..."0123456789ABCDEF"],Sm=e=>Yr[e&15],Mm=e=>Yr[(e&240)>>4]+Yr[e&15],Ks=e=>(e&240)>>4===(e&15),Cm=e=>Ks(e.r)&&Ks(e.g)&&Ks(e.b)&&Ks(e.a);function Em(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&oe[e[1]]*17,g:255&oe[e[2]]*17,b:255&oe[e[3]]*17,a:t===5?oe[e[4]]*17:255}:(t===7||t===9)&&(n={r:oe[e[1]]<<4|oe[e[2]],g:oe[e[3]]<<4|oe[e[4]],b:oe[e[5]]<<4|oe[e[6]],a:t===9?oe[e[7]]<<4|oe[e[8]]:255})),n}const Pm=(e,t)=>e<255?t(e):"";function Dm(e){var t=Cm(e)?Sm:Mm;return e?"#"+t(e.r)+t(e.g)+t(e.b)+Pm(e.a,t):void 0}const Tm=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ph(e,t,n){const i=t*Math.min(n,1-n),s=(o,r=(o+e/30)%12)=>n-i*Math.max(Math.min(r-3,9-r,1),-1);return[s(0),s(8),s(4)]}function Im(e,t,n){const i=(s,o=(s+e/60)%6)=>n-n*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function Om(e,t,n){const i=ph(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function Rm(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function Pa(e){const n=e.r/255,i=e.g/255,s=e.b/255,o=Math.max(n,i,s),r=Math.min(n,i,s),a=(o+r)/2;let l,c,u;return o!==r&&(u=o-r,c=a>.5?u/(2-o-r):u/(o+r),l=Rm(n,i,s,u,o),l=l*60+.5),[l|0,c||0,a]}function Da(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(An)}function Ta(e,t,n){return Da(ph,e,t,n)}function Lm(e,t,n){return Da(Om,e,t,n)}function Bm(e,t,n){return Da(Im,e,t,n)}function gh(e){return(e%360+360)%360}function Fm(e){const t=Tm.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?es(+t[5]):An(+t[5]));const s=gh(+t[2]),o=+t[3]/100,r=+t[4]/100;return t[1]==="hwb"?i=Lm(s,o,r):t[1]==="hsv"?i=Bm(s,o,r):i=Ta(s,o,r),{r:i[0],g:i[1],b:i[2],a:n}}function zm(e,t){var n=Pa(e);n[0]=gh(n[0]+t),n=Ta(n),e.r=n[0],e.g=n[1],e.b=n[2]}function Nm(e){if(!e)return;const t=Pa(e),n=t[0],i=Bl(t[1]),s=Bl(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${tn(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const Fl={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},zl={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Wm(){const e={},t=Object.keys(zl),n=Object.keys(Fl);let i,s,o,r,a;for(i=0;i<t.length;i++){for(r=a=t[i],s=0;s<n.length;s++)o=n[s],a=a.replace(o,Fl[o]);o=parseInt(zl[r],16),e[a]=[o>>16&255,o>>8&255,o&255]}return e}let Js;function Hm(e){Js||(Js=Wm(),Js.transparent=[0,0,0,0]);const t=Js[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Vm=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function jm(e){const t=Vm.exec(e);let n=255,i,s,o;if(t){if(t[7]!==i){const r=+t[7];n=t[8]?es(r):vn(r*255,0,255)}return i=+t[1],s=+t[3],o=+t[5],i=255&(t[2]?es(i):vn(i,0,255)),s=255&(t[4]?es(s):vn(s,0,255)),o=255&(t[6]?es(o):vn(o,0,255)),{r:i,g:s,b:o,a:n}}}function qm(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${tn(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const pr=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,hi=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Ym(e,t,n){const i=hi(tn(e.r)),s=hi(tn(e.g)),o=hi(tn(e.b));return{r:An(pr(i+n*(hi(tn(t.r))-i))),g:An(pr(s+n*(hi(tn(t.g))-s))),b:An(pr(o+n*(hi(tn(t.b))-o))),a:e.a+n*(t.a-e.a)}}function Qs(e,t,n){if(e){let i=Pa(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=Ta(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function mh(e,t){return e&&Object.assign(t||{},e)}function Nl(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=An(e[3]))):(t=mh(e,{r:0,g:0,b:0,a:1}),t.a=An(t.a)),t}function Um(e){return e.charAt(0)==="r"?jm(e):Fm(e)}class As{constructor(t){if(t instanceof As)return t;const n=typeof t;let i;n==="object"?i=Nl(t):n==="string"&&(i=Em(t)||Hm(t)||Um(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=mh(this._rgb);return t&&(t.a=tn(t.a)),t}set rgb(t){this._rgb=Nl(t)}rgbString(){return this._valid?qm(this._rgb):void 0}hexString(){return this._valid?Dm(this._rgb):void 0}hslString(){return this._valid?Nm(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let o;const r=n===o?.5:n,a=2*r-1,l=i.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,i.r=255&c*i.r+o*s.r+.5,i.g=255&c*i.g+o*s.g+.5,i.b=255&c*i.b+o*s.b+.5,i.a=r*i.a+(1-r)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=Ym(this._rgb,t._rgb,n)),this}clone(){return new As(this.rgb)}alpha(t){return this._rgb.a=An(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Hs(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Qs(this._rgb,2,t),this}darken(t){return Qs(this._rgb,2,-t),this}saturate(t){return Qs(this._rgb,1,t),this}desaturate(t){return Qs(this._rgb,1,-t),this}rotate(t){return zm(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ze(){}const $m=(()=>{let e=0;return()=>e++})();function $(e){return e==null}function ft(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function X(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function _t(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function te(e,t){return _t(e)?e:t}function j(e,t){return typeof e>"u"?t:e}const Xm=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,vh=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function at(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function st(e,t,n,i){let s,o,r;if(ft(e))for(o=e.length,s=0;s<o;s++)t.call(n,e[s],s);else if(X(e))for(r=Object.keys(e),o=r.length,s=0;s<o;s++)t.call(n,e[r[s]],r[s])}function Fo(e,t){let n,i,s,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],o=t[n],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function zo(e){if(ft(e))return e.map(zo);if(X(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=zo(e[n[s]]);return t}return e}function bh(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Gm(e,t,n,i){if(!bh(e))return;const s=t[e],o=n[e];X(s)&&X(o)?ks(s,o,i):t[e]=zo(o)}function ks(e,t,n){const i=ft(t)?t:[t],s=i.length;if(!X(e))return e;n=n||{};const o=n.merger||Gm;let r;for(let a=0;a<s;++a){if(r=i[a],!X(r))continue;const l=Object.keys(r);for(let c=0,u=l.length;c<u;++c)o(l[c],e,r,n)}return e}function us(e,t){return ks(e,t,{merger:Zm})}function Zm(e,t,n){if(!bh(e))return;const i=t[e],s=n[e];X(i)&&X(s)?us(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=zo(s))}const Wl={"":e=>e,x:e=>e.x,y:e=>e.y};function Km(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function Jm(e){const t=Km(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function kn(e,t){return(Wl[t]||(Wl[t]=Jm(t)))(e)}function Ia(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Ss=e=>typeof e<"u",Sn=e=>typeof e=="function",Hl=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function Qm(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const tt=Math.PI,ct=2*tt,tv=ct+tt,No=Number.POSITIVE_INFINITY,ev=tt/180,wt=tt/2,Tn=tt/4,Vl=tt*2/3,bn=Math.log10,Ve=Math.sign;function hs(e,t,n){return Math.abs(e-t)<n}function jl(e){const t=Math.round(e);e=hs(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(bn(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function nv(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,o)=>s-o).pop(),t}function iv(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Li(e){return!iv(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function sv(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function _h(e,t,n){let i,s,o;for(i=0,s=e.length;i<s;i++)o=e[i][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ae(e){return e*(tt/180)}function Oa(e){return e*(180/tt)}function ql(e){if(!_t(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function xh(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let o=Math.atan2(i,n);return o<-.5*tt&&(o+=ct),{angle:o,distance:s}}function Ur(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ov(e,t){return(e-t+tv)%ct-tt}function Ft(e){return(e%ct+ct)%ct}function Ms(e,t,n,i){const s=Ft(e),o=Ft(t),r=Ft(n),a=Ft(o-s),l=Ft(r-s),c=Ft(s-o),u=Ft(s-r);return s===o||s===r||i&&o===r||a>l&&c<u}function Pt(e,t,n){return Math.max(t,Math.min(n,e))}function rv(e){return Pt(e,-32768,32767)}function nn(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function Ra(e,t,n){n=n||(r=>e[r]<t);let i=e.length-1,s=0,o;for(;i-s>1;)o=s+i>>1,n(o)?s=o:i=o;return{lo:s,hi:i}}const sn=(e,t,n,i)=>Ra(e,n,i?s=>{const o=e[s][t];return o<n||o===n&&e[s+1][t]===n}:s=>e[s][t]<n),av=(e,t,n)=>Ra(e,n,i=>e[i][t]>=n);function lv(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const yh=["push","pop","shift","splice","unshift"];function cv(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),yh.forEach(n=>{const i="_onData"+Ia(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...o){const r=s.apply(this,o);return e._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...o)}),r}})})}function Yl(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(yh.forEach(o=>{delete e[o]}),delete e._chartjs)}function wh(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Ah=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function kh(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,Ah.call(window,()=>{i=!1,e.apply(t,n)}))}}function uv(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const La=e=>e==="start"?"left":e==="end"?"right":"center",Bt=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,hv=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function Sh(e,t,n){const i=t.length;let s=0,o=i;if(e._sorted){const{iScale:r,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=r.axis,{min:h,max:d,minDefined:f,maxDefined:p}=r.getUserBounds();if(f){if(s=Math.min(sn(l,u,h).lo,n?i:sn(t,u,r.getPixelForValue(h)).lo),c){const g=l.slice(0,s+1).reverse().findIndex(v=>!$(v[a.axis]));s-=Math.max(0,g)}s=Pt(s,0,i-1)}if(p){let g=Math.max(sn(l,r.axis,d,!0).hi+1,n?0:sn(t,u,r.getPixelForValue(d),!0).hi+1);if(c){const v=l.slice(g-1).findIndex(b=>!$(b[a.axis]));g+=Math.max(0,v)}o=Pt(g,s,i)-s}else o=i-s}return{start:s,count:o}}function Mh(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),o}const to=e=>e===0||e===1,Ul=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*ct/n)),$l=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*ct/n)+1,ds={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*wt)+1,easeOutSine:e=>Math.sin(e*wt),easeInOutSine:e=>-.5*(Math.cos(tt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>to(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>to(e)?e:Ul(e,.075,.3),easeOutElastic:e=>to(e)?e:$l(e,.075,.3),easeInOutElastic(e){return to(e)?e:e<.5?.5*Ul(e*2,.1125,.45):.5+.5*$l(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-ds.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?ds.easeInBounce(e*2)*.5:ds.easeOutBounce(e*2-1)*.5+.5};function Ba(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Xl(e){return Ba(e)?e:new As(e)}function gr(e){return Ba(e)?e:new As(e).saturate(.5).darken(.1).hexString()}const dv=["x","y","borderWidth","radius","tension"],fv=["color","borderColor","backgroundColor"];function pv(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:fv},numbers:{type:"number",properties:dv}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function gv(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Gl=new Map;function mv(e,t){t=t||{};const n=e+JSON.stringify(t);let i=Gl.get(n);return i||(i=new Intl.NumberFormat(e,t),Gl.set(n,i)),i}function Vs(e,t,n){return mv(t,n).format(e)}const Ch={values(e){return ft(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,o=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),o=vv(e,n)}const r=bn(Math.abs(o)),a=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Vs(e,i,l)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(bn(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?Ch.numeric.call(this,e,t,n):""}};function vv(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var ir={formatters:Ch};function bv(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ir.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ei=Object.create(null),$r=Object.create(null);function fs(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const o=n[i];e=e[o]||(e[o]=Object.create(null))}return e}function mr(e,t,n){return typeof t=="string"?ks(fs(e,t),n):ks(fs(e,""),t)}class _v{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>gr(s.backgroundColor),this.hoverBorderColor=(i,s)=>gr(s.borderColor),this.hoverColor=(i,s)=>gr(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return mr(this,t,n)}get(t){return fs(this,t)}describe(t,n){return mr($r,t,n)}override(t,n){return mr(ei,t,n)}route(t,n,i,s){const o=fs(this,t),r=fs(this,i),a="_"+n;Object.defineProperties(o,{[a]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=r[s];return X(l)?Object.assign({},c,l):j(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var pt=new _v({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[pv,gv,bv]);function xv(e){return!e||$(e.size)||$(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Wo(e,t,n,i,s){let o=t[s];return o||(o=t[s]=e.measureText(s).width,n.push(s)),o>i&&(i=o),i}function yv(e,t,n,i){i=i||{};let s=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},o=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let r=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],h!=null&&!ft(h))r=Wo(e,s,o,r,h);else if(ft(h))for(c=0,u=h.length;c<u;c++)d=h[c],d!=null&&!ft(d)&&(r=Wo(e,s,o,r,d));e.restore();const f=o.length/2;if(f>n.length){for(l=0;l<f;l++)delete s[o[l]];o.splice(0,f)}return r}function In(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function Zl(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Xr(e,t,n,i){Eh(e,t,n,i,null)}function Eh(e,t,n,i,s){let o,r,a,l,c,u,h,d;const f=t.pointStyle,p=t.rotation,g=t.radius;let v=(p||0)*ev;if(f&&typeof f=="object"&&(o=f.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(v),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),f){default:s?e.ellipse(n,i,s/2,g,0,0,ct):e.arc(n,i,g,0,ct),e.closePath();break;case"triangle":u=s?s/2:g,e.moveTo(n+Math.sin(v)*u,i-Math.cos(v)*g),v+=Vl,e.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*g),v+=Vl,e.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*g),e.closePath();break;case"rectRounded":c=g*.516,l=g-c,r=Math.cos(v+Tn)*l,h=Math.cos(v+Tn)*(s?s/2-c:l),a=Math.sin(v+Tn)*l,d=Math.sin(v+Tn)*(s?s/2-c:l),e.arc(n-h,i-a,c,v-tt,v-wt),e.arc(n+d,i-r,c,v-wt,v),e.arc(n+h,i+a,c,v,v+wt),e.arc(n-d,i+r,c,v+wt,v+tt),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=s?s/2:l,e.rect(n-u,i-l,2*u,2*l);break}v+=Tn;case"rectRot":h=Math.cos(v)*(s?s/2:g),r=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+d,i-r),e.lineTo(n+h,i+a),e.lineTo(n-d,i+r),e.closePath();break;case"crossRot":v+=Tn;case"cross":h=Math.cos(v)*(s?s/2:g),r=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+d,i-r),e.lineTo(n-d,i+r);break;case"star":h=Math.cos(v)*(s?s/2:g),r=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+d,i-r),e.lineTo(n-d,i+r),v+=Tn,h=Math.cos(v)*(s?s/2:g),r=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+d,i-r),e.lineTo(n-d,i+r);break;case"line":r=s?s/2:Math.cos(v)*g,a=Math.sin(v)*g,e.moveTo(n-r,i-a),e.lineTo(n+r,i+a);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(v)*(s?s/2:g),i+Math.sin(v)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function on(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function sr(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function or(e){e.restore()}function wv(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const o=(t.x+n.x)/2;e.lineTo(o,t.y),e.lineTo(o,n.y)}else s==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Av(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function kv(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),$(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function Sv(e,t,n,i,s){if(s.strikethrough||s.underline){const o=e.measureText(i),r=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,c=n+o.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(r,u),e.lineTo(a,u),e.stroke()}}function Mv(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function ni(e,t,n,i,s,o={}){const r=ft(t)?t:[t],a=o.strokeWidth>0&&o.strokeColor!=="";let l,c;for(e.save(),e.font=s.string,kv(e,o),l=0;l<r.length;++l)c=r[l],o.backdrop&&Mv(e,o.backdrop),a&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),$(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(c,n,i,o.maxWidth)),e.fillText(c,n,i,o.maxWidth),Sv(e,n,i,c,o),i+=Number(s.lineHeight);e.restore()}function Cs(e,t){const{x:n,y:i,w:s,h:o,radius:r}=t;e.arc(n+r.topLeft,i+r.topLeft,r.topLeft,1.5*tt,tt,!0),e.lineTo(n,i+o-r.bottomLeft),e.arc(n+r.bottomLeft,i+o-r.bottomLeft,r.bottomLeft,tt,wt,!0),e.lineTo(n+s-r.bottomRight,i+o),e.arc(n+s-r.bottomRight,i+o-r.bottomRight,r.bottomRight,wt,0,!0),e.lineTo(n+s,i+r.topRight),e.arc(n+s-r.topRight,i+r.topRight,r.topRight,0,-wt,!0),e.lineTo(n+r.topLeft,i)}const Cv=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ev=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Pv(e,t){const n=(""+e).match(Cv);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const Dv=e=>+e||0;function Fa(e,t){const n={},i=X(t),s=i?Object.keys(t):t,o=X(e)?i?r=>j(e[r],e[t[r]]):r=>e[r]:()=>e;for(const r of s)n[r]=Dv(o(r));return n}function Ph(e){return Fa(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Xn(e){return Fa(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Wt(e){const t=Ph(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ct(e,t){e=e||{},t=t||pt.font;let n=j(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=j(e.style,t.style);i&&!(""+i).match(Ev)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:j(e.family,t.family),lineHeight:Pv(j(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:j(e.weight,t.weight),string:""};return s.string=xv(s),s}function ns(e,t,n,i){let s,o,r;for(s=0,o=e.length;s<o;++s)if(r=e[s],r!==void 0&&r!==void 0)return r}function Tv(e,t,n){const{min:i,max:s}=e,o=vh(t,(s-i)/2),r=(a,l)=>n&&a===0?0:a+l;return{min:r(i,-Math.abs(o)),max:r(s,o)}}function Mn(e,t){return Object.assign(Object.create(e),t)}function za(e,t=[""],n,i,s=()=>e[0]){const o=n||e;typeof i>"u"&&(i=Oh("_fallback",e));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:i,_getTarget:s,override:a=>za([a,...e],t,o,i)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return Th(a,l,()=>Nv(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return Jl(a).includes(l)},ownKeys(a){return Jl(a)},set(a,l,c){const u=a._storage||(a._storage=s());return a[l]=u[l]=c,delete a._keys,!0}})}function Bi(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Dh(e,i),setContext:o=>Bi(e,o,n,i),override:o=>Bi(e.override(o),t,n,i)};return new Proxy(s,{deleteProperty(o,r){return delete o[r],delete e[r],!0},get(o,r,a){return Th(o,r,()=>Ov(o,r,a))},getOwnPropertyDescriptor(o,r){return o._descriptors.allKeys?Reflect.has(e,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,r)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,r){return Reflect.has(e,r)},ownKeys(){return Reflect.ownKeys(e)},set(o,r,a){return e[r]=a,delete o[r],!0}})}function Dh(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Sn(n)?n:()=>n,isIndexable:Sn(i)?i:()=>i}}const Iv=(e,t)=>e?e+Ia(t):t,Na=(e,t)=>X(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Th(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function Ov(e,t,n){const{_proxy:i,_context:s,_subProxy:o,_descriptors:r}=e;let a=i[t];return Sn(a)&&r.isScriptable(t)&&(a=Rv(t,a,e,n)),ft(a)&&a.length&&(a=Lv(t,a,e,r.isIndexable)),Na(t,a)&&(a=Bi(a,s,o&&o[t],r)),a}function Rv(e,t,n,i){const{_proxy:s,_context:o,_subProxy:r,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(o,r||i);return a.delete(e),Na(e,l)&&(l=Wa(s._scopes,s,e,l)),l}function Lv(e,t,n,i){const{_proxy:s,_context:o,_subProxy:r,_descriptors:a}=n;if(typeof o.index<"u"&&i(e))return t[o.index%t.length];if(X(t[0])){const l=t,c=s._scopes.filter(u=>u!==l);t=[];for(const u of l){const h=Wa(c,s,e,u);t.push(Bi(h,o,r&&r[e],a))}}return t}function Ih(e,t,n){return Sn(e)?e(t,n):e}const Bv=(e,t)=>e===!0?t:typeof e=="string"?kn(t,e):void 0;function Fv(e,t,n,i,s){for(const o of t){const r=Bv(n,o);if(r){e.add(r);const a=Ih(r._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(r===!1&&typeof i<"u"&&n!==i)return null}return!1}function Wa(e,t,n,i){const s=t._rootScopes,o=Ih(t._fallback,n,i),r=[...e,...s],a=new Set;a.add(i);let l=Kl(a,r,n,o||n,i);return l===null||typeof o<"u"&&o!==n&&(l=Kl(a,r,o,l,i),l===null)?!1:za(Array.from(a),[""],s,o,()=>zv(t,n,i))}function Kl(e,t,n,i,s){for(;n;)n=Fv(e,t,n,i,s);return n}function zv(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return ft(s)&&X(n)?n:s||{}}function Nv(e,t,n,i){let s;for(const o of t)if(s=Oh(Iv(o,e),n),typeof s<"u")return Na(e,s)?Wa(n,i,e,s):s}function Oh(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function Jl(e){let t=e._keys;return t||(t=e._keys=Wv(e._scopes)),t}function Wv(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function Rh(e,t,n,i){const{iScale:s}=e,{key:o="r"}=this._parsing,r=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=t[c],r[a]={r:s.parse(kn(u,o),c)};return r}const Hv=Number.EPSILON||1e-14,Fi=(e,t)=>t<e.length&&!e[t].skip&&e[t],Lh=e=>e==="x"?"y":"x";function Vv(e,t,n,i){const s=e.skip?t:e,o=t,r=n.skip?t:n,a=Ur(o,s),l=Ur(r,o);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:o.x-h*(r.x-s.x),y:o.y-h*(r.y-s.y)},next:{x:o.x+d*(r.x-s.x),y:o.y+d*(r.y-s.y)}}}function jv(e,t,n){const i=e.length;let s,o,r,a,l,c=Fi(e,0);for(let u=0;u<i-1;++u)if(l=c,c=Fi(e,u+1),!(!l||!c)){if(hs(t[u],0,Hv)){n[u]=n[u+1]=0;continue}s=n[u]/t[u],o=n[u+1]/t[u],a=Math.pow(s,2)+Math.pow(o,2),!(a<=9)&&(r=3/Math.sqrt(a),n[u]=s*r*t[u],n[u+1]=o*r*t[u])}}function qv(e,t,n="x"){const i=Lh(n),s=e.length;let o,r,a,l=Fi(e,0);for(let c=0;c<s;++c){if(r=a,a=l,l=Fi(e,c+1),!a)continue;const u=a[n],h=a[i];r&&(o=(u-r[n])/3,a[`cp1${n}`]=u-o,a[`cp1${i}`]=h-o*t[c]),l&&(o=(l[n]-u)/3,a[`cp2${n}`]=u+o,a[`cp2${i}`]=h+o*t[c])}}function Yv(e,t="x"){const n=Lh(t),i=e.length,s=Array(i).fill(0),o=Array(i);let r,a,l,c=Fi(e,0);for(r=0;r<i;++r)if(a=l,l=c,c=Fi(e,r+1),!!l){if(c){const u=c[t]-l[t];s[r]=u!==0?(c[n]-l[n])/u:0}o[r]=a?c?Ve(s[r-1])!==Ve(s[r])?0:(s[r-1]+s[r])/2:s[r-1]:s[r]}jv(e,s,o),qv(e,o,t)}function eo(e,t,n){return Math.max(Math.min(e,n),t)}function Uv(e,t){let n,i,s,o,r,a=on(e[0],t);for(n=0,i=e.length;n<i;++n)r=o,o=a,a=n<i-1&&on(e[n+1],t),o&&(s=e[n],r&&(s.cp1x=eo(s.cp1x,t.left,t.right),s.cp1y=eo(s.cp1y,t.top,t.bottom)),a&&(s.cp2x=eo(s.cp2x,t.left,t.right),s.cp2y=eo(s.cp2y,t.top,t.bottom)))}function $v(e,t,n,i,s){let o,r,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")Yv(e,s);else{let c=i?e[e.length-1]:e[0];for(o=0,r=e.length;o<r;++o)a=e[o],l=Vv(c,a,e[Math.min(o+1,r-(i?0:1))%r],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&Uv(e,n)}function Ha(){return typeof window<"u"&&typeof document<"u"}function Va(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ho(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const rr=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Xv(e,t){return rr(e).getPropertyValue(t)}const Gv=["top","right","bottom","left"];function Gn(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const o=Gv[s];i[o]=parseFloat(e[t+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Zv=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function Kv(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:o}=i;let r=!1,a,l;if(Zv(s,o,e.target))a=s,l=o;else{const c=t.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,r=!0}return{x:a,y:l,box:r}}function Ln(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=rr(n),o=s.boxSizing==="border-box",r=Gn(s,"padding"),a=Gn(s,"border","width"),{x:l,y:c,box:u}=Kv(e,n),h=r.left+(u&&a.left),d=r.top+(u&&a.top);let{width:f,height:p}=t;return o&&(f-=r.width+a.width,p-=r.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((c-d)/p*n.height/i)}}function Jv(e,t,n){let i,s;if(t===void 0||n===void 0){const o=e&&Va(e);if(!o)t=e.clientWidth,n=e.clientHeight;else{const r=o.getBoundingClientRect(),a=rr(o),l=Gn(a,"border","width"),c=Gn(a,"padding");t=r.width-c.width-l.width,n=r.height-c.height-l.height,i=Ho(a.maxWidth,o,"clientWidth"),s=Ho(a.maxHeight,o,"clientHeight")}}return{width:t,height:n,maxWidth:i||No,maxHeight:s||No}}const _n=e=>Math.round(e*10)/10;function Qv(e,t,n,i){const s=rr(e),o=Gn(s,"margin"),r=Ho(s.maxWidth,e,"clientWidth")||No,a=Ho(s.maxHeight,e,"clientHeight")||No,l=Jv(e,t,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const d=Gn(s,"border","width"),f=Gn(s,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-o.width),u=Math.max(0,i?c/i:u-o.height),c=_n(Math.min(c,r,l.maxWidth)),u=_n(Math.min(u,a,l.maxHeight)),c&&!u&&(u=_n(c/2)),(t!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=_n(Math.floor(u*i))),{width:c,height:u}}function Ql(e,t,n){const i=t||1,s=_n(e.height*i),o=_n(e.width*i);e.height=_n(e.height),e.width=_n(e.width);const r=e.canvas;return r.style&&(n||!r.style.height&&!r.style.width)&&(r.style.height=`${e.height}px`,r.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||r.height!==s||r.width!==o?(e.currentDevicePixelRatio=i,r.height=s,r.width=o,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const tb=(function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Ha()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e})();function tc(e,t){const n=Xv(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Bn(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function eb(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function nb(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},r=Bn(e,s,n),a=Bn(s,o,n),l=Bn(o,t,n),c=Bn(r,a,n),u=Bn(a,l,n);return Bn(c,u,n)}const ib=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},sb=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function xi(e,t,n){return e?ib(t,n):sb()}function Bh(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function Fh(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function zh(e){return e==="angle"?{between:Ms,compare:ov,normalize:Ft}:{between:nn,compare:(t,n)=>t-n,normalize:t=>t}}function ec({start:e,end:t,count:n,loop:i,style:s}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:s}}function ob(e,t,n){const{property:i,start:s,end:o}=n,{between:r,normalize:a}=zh(i),l=t.length;let{start:c,end:u,loop:h}=e,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&r(a(t[c%l][i]),s,o);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:e.style}}function Nh(e,t,n){if(!n)return[e];const{property:i,start:s,end:o}=n,r=t.length,{compare:a,between:l,normalize:c}=zh(i),{start:u,end:h,loop:d,style:f}=ob(e,t,n),p=[];let g=!1,v=null,b,_,x;const w=()=>l(s,x,b)&&a(s,x)!==0,y=()=>a(o,b)===0||l(o,x,b),A=()=>g||w(),k=()=>!g||y();for(let C=u,T=u;C<=h;++C)_=t[C%r],!_.skip&&(b=c(_[i]),b!==x&&(g=l(b,s,o),v===null&&A()&&(v=a(b,s)===0?C:T),v!==null&&k()&&(p.push(ec({start:v,end:C,loop:d,count:r,style:f})),v=null),T=C,x=b));return v!==null&&p.push(ec({start:v,end:h,loop:d,count:r,style:f})),p}function Wh(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const o=Nh(i[s],e.points,t);o.length&&n.push(...o)}return n}function rb(e,t,n,i){let s=0,o=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(o+=s);o>s&&e[o%t].skip;)o--;return o%=t,{start:s,end:o}}function ab(e,t,n,i){const s=e.length,o=[];let r=t,a=e[t],l;for(l=t+1;l<=n;++l){const c=e[l%s];c.skip||c.stop?a.skip||(i=!1,o.push({start:t%s,end:(l-1)%s,loop:i}),t=r=c.stop?l:null):(r=l,a.skip&&(t=l)),a=c}return r!==null&&o.push({start:t%s,end:r%s,loop:i}),o}function lb(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const o=!!e._loop,{start:r,end:a}=rb(n,s,o,i);if(i===!0)return nc(e,[{start:r,end:a,loop:o}],n,t);const l=a<r?a+s:a,c=!!e._fullLoop&&r===0&&a===s-1;return nc(e,ab(n,r,l,c),n,t)}function nc(e,t,n,i){return!i||!i.setContext||!n?t:cb(e,t,n,i)}function cb(e,t,n,i){const s=e._chart.getContext(),o=ic(e.options),{_datasetIndex:r,options:{spanGaps:a}}=e,l=n.length,c=[];let u=o,h=t[0].start,d=h;function f(p,g,v,b){const _=a?-1:1;if(p!==g){for(p+=l;n[p%l].skip;)p-=_;for(;n[g%l].skip;)g+=_;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:v,style:b}),u=b,h=g%l)}}for(const p of t){h=a?h:p.start;let g=n[h%l],v;for(d=h+1;d<=p.end;d++){const b=n[d%l];v=ic(i.setContext(Mn(s,{type:"segment",p0:g,p1:b,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:r}))),ub(v,u)&&f(h,d-1,p.loop,u),g=b,u=v}h<d-1&&f(h,d-1,p.loop,u)}return c}function ic(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function ub(e,t){if(!t)return!1;const n=[],i=function(s,o){return Ba(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(e,i)!==JSON.stringify(t,i)}function no(e,t,n){return e.options.clip?e[n]:t[n]}function hb(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:no(n,t,"left"),right:no(n,t,"right"),top:no(i,t,"top"),bottom:no(i,t,"bottom")}:t}function Hh(e,t){const n=t._clip;if(n.disabled)return!1;const i=hb(t,e.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class db{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const o=n.listeners[s],r=n.duration;o.forEach(a=>a({chart:t,initial:n.initial,numSteps:r,currentStep:Math.min(i-n.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=Ah.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const o=i.items;let r=o.length-1,a=!1,l;for(;r>=0;--r)l=o[r],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(o[r]=o[o.length-1],o.pop());a&&(s.draw(),this._notify(s,i,t,"progress")),o.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=o.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ke=new db;const sc="transparent",fb={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=Xl(e||sc),s=i.valid&&Xl(t||sc);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class pb{constructor(t,n,i,s){const o=n[i];s=ns([t.to,s,o,t.from]);const r=ns([t.from,o,s]);this._active=!0,this._fn=t.fn||fb[t.type||typeof r],this._easing=ds[t.easing]||ds.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=r,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],o=i-this._start,r=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=ns([t.to,n,s,t.from]),this._from=ns([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,o=this._from,r=this._loop,a=this._to;let l;if(this._active=o!==a&&(r||n<i),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=o;return}l=n/i%2,l=r&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(o,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class Vh{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!X(t))return;const n=Object.keys(pt.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const o=t[s];if(!X(o))return;const r={};for(const a of n)r[a]=o[a];(ft(o.properties)&&o.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,r)})})}_animateOptions(t,n){const i=n.options,s=mb(t,i);if(!s)return[];const o=this._createAnimations(s,i);return i.$shared&&gb(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,n){const i=this._properties,s=[],o=t.$animations||(t.$animations={}),r=Object.keys(n),a=Date.now();let l;for(l=r.length-1;l>=0;--l){const c=r[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(t,n));continue}const u=n[c];let h=o[c];const d=i.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){t[c]=u;continue}o[c]=h=new pb(d,t,c,u),s.push(h)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return Ke.add(this._chart,i),!0}}function gb(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const o=e[i[s]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function mb(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function oc(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,o=n.max===void 0?t:0;return{start:i?o:s,end:i?s:o}}function vb(e,t,n){if(n===!1)return!1;const i=oc(e,n),s=oc(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function bb(e){let t,n,i,s;return X(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function jh(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,o;for(s=0,o=i.length;s<o;++s)n.push(i[s].index);return n}function rc(e,t,n,i={}){const s=e.keys,o=i.mode==="single";let r,a,l,c;if(t===null)return;let u=!1;for(r=0,a=s.length;r<a;++r){if(l=+s[r],l===n){if(u=!0,i.all)continue;break}c=e.values[l],_t(c)&&(o||t===0||Ve(t)===Ve(c))&&(t+=c)}return!u&&!i.all?0:t}function _b(e,t){const{iScale:n,vScale:i}=t,s=n.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",r=Object.keys(e),a=new Array(r.length);let l,c,u;for(l=0,c=r.length;l<c;++l)u=r[l],a[l]={[s]:u,[o]:e[u]};return a}function vr(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function xb(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function yb(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function wb(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function ac(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const o=e[s.index];if(n&&o>0||!n&&o<0)return s.index}return null}function lc(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:o,vScale:r,index:a}=i,l=o.axis,c=r.axis,u=xb(o,r,i),h=t.length;let d;for(let f=0;f<h;++f){const p=t[f],{[l]:g,[c]:v}=p,b=p._stacks||(p._stacks={});d=b[c]=wb(s,u,g),d[a]=v,d._top=ac(d,r,!0,i.type),d._bottom=ac(d,r,!1,i.type);const _=d._visualValues||(d._visualValues={});_[a]=v}}function br(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function Ab(e,t){return Mn(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function kb(e,t,n){return Mn(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Yi(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const o=s._stacks;if(!o||o[i]===void 0||o[i][n]===void 0)return;delete o[i][n],o[i]._visualValues!==void 0&&o[i]._visualValues[n]!==void 0&&delete o[i]._visualValues[n]}}}const _r=e=>e==="reset"||e==="none",cc=(e,t)=>t?e:Object.assign({},e),Sb=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:jh(n,!0),values:null};class Se{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=vr(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Yi(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(h,d,f,p)=>h==="x"?d:h==="r"?p:f,o=n.xAxisID=j(i.xAxisID,br(t,"x")),r=n.yAxisID=j(i.yAxisID,br(t,"y")),a=n.rAxisID=j(i.rAxisID,br(t,"r")),l=n.indexAxis,c=n.iAxisID=s(l,o,r,a),u=n.vAxisID=s(l,r,o,a);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(r),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Yl(this._data,this),t._stacked&&Yi(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(X(n)){const s=this._cachedMeta;this._data=_b(n,s)}else if(i!==n){if(i){Yl(i,this);const s=this._cachedMeta;Yi(s),s._parsed=[]}n&&Object.isExtensible(n)&&cv(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const o=n._stacked;n._stacked=vr(n.vScale,n),n.stack!==i.stack&&(s=!0,Yi(n),n.stack=i.stack),this._resyncElements(t),(s||o!==n._stacked)&&(lc(this,n._parsed),n._stacked=vr(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:r}=i,a=o.axis;let l=t===0&&n===s.length?!0:i._sorted,c=t>0&&i._parsed[t-1],u,h,d;if(this._parsing===!1)i._parsed=s,i._sorted=!0,d=s;else{ft(s[t])?d=this.parseArrayData(i,s,t,n):X(s[t])?d=this.parseObjectData(i,s,t,n):d=this.parsePrimitiveData(i,s,t,n);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)i._parsed[u+t]=h=d[u],l&&(f()&&(l=!1),c=h);i._sorted=l}r&&lc(this,d)}parsePrimitiveData(t,n,i,s){const{iScale:o,vScale:r}=t,a=o.axis,l=r.axis,c=o.getLabels(),u=o===r,h=new Array(s);let d,f,p;for(d=0,f=s;d<f;++d)p=d+i,h[d]={[a]:u||o.parse(c[p],p),[l]:r.parse(n[p],p)};return h}parseArrayData(t,n,i,s){const{xScale:o,yScale:r}=t,a=new Array(s);let l,c,u,h;for(l=0,c=s;l<c;++l)u=l+i,h=n[u],a[l]={x:o.parse(h[0],u),y:r.parse(h[1],u)};return a}parseObjectData(t,n,i,s){const{xScale:o,yScale:r}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,h,d,f;for(u=0,h=s;u<h;++u)d=u+i,f=n[d],c[u]={x:o.parse(kn(f,a),d),y:r.parse(kn(f,l),d)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,o=this._cachedMeta,r=n[t.axis],a={keys:jh(s,!0),values:n._stacks[t.axis]._visualValues};return rc(a,r,o.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const o=i[n.axis];let r=o===null?NaN:o;const a=s&&i._stacks[n.axis];s&&a&&(s.values=a,r=rc(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,o=i._sorted&&t===i.iScale,r=s.length,a=this._getOtherScale(t),l=Sb(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=yb(a);let d,f;function p(){f=s[d];const g=f[a.axis];return!_t(f[t.axis])||u>g||h<g}for(d=0;d<r&&!(!p()&&(this.updateRangeFromParsed(c,t,f,l),o));++d);if(o){for(d=r-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(c,t,f,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,o,r;for(s=0,o=n.length;s<o;++s)r=n[s][t.axis],_t(r)&&i.push(r);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=bb(j(this.options.clip,vb(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],o=n.chartArea,r=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(t,o,a,l),u=a;u<a+l;++u){const h=s[u];h.hidden||(h.active&&c?r.push(h):h.draw(t,o))}for(u=0;u<r.length;++u)r[u].draw(t,o)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const r=this._cachedMeta.data[t];o=r.$context||(r.$context=kb(this.getContext(),t,r)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=Ab(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",o=this._cachedDataOpts,r=t+"-"+n,a=o[r],l=this.enableOptionSharing&&Ss(i);if(a)return cc(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),h=s?[`${t}Hover`,"hover",t,""]:[t,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(pt.elements[t]),p=()=>this.getContext(i,s,n),g=c.resolveNamedOptions(d,f,p,h);return g.$shared&&(g.$shared=l,o[r]=Object.freeze(cc(g,l))),g}_resolveAnimations(t,n,i){const s=this.chart,o=this._cachedDataOpts,r=`animation-${n}`,a=o[r];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(t,i,n))}const c=new Vh(s,l&&l.animations);return l&&l._cacheable&&(o[r]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||_r(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,o=this.getSharedOptions(i),r=this.includeOptions(n,o)||o!==s;return this.updateSharedOptions(o,n,i),{sharedOptions:o,includeOptions:r}}updateElement(t,n,i,s){_r(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!_r(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const o=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=i.length,o=n.length,r=Math.min(o,s);r&&this.parse(0,r),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,n,i=!0){const s=this._cachedMeta,o=s.data,r=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=r;a--)c[a]=c[a-n]};for(l(o),a=t;a<r;++a)o[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,n),i&&this.updateElements(o,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&Yi(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}P(Se,"defaults",{}),P(Se,"datasetElementType",null),P(Se,"dataElementType",null);function Mb(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,o=n.length;s<o;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=wh(i.sort((s,o)=>s-o))}return e._cache.$bar}function Cb(e){const t=e.iScale,n=Mb(t,e.type);let i=t._length,s,o,r,a;const l=()=>{r===32767||r===-32768||(Ss(a)&&(i=Math.min(i,Math.abs(r-a)||i)),a=r)};for(s=0,o=n.length;s<o;++s)r=t.getPixelForValue(n[s]),l();for(a=void 0,s=0,o=t.ticks.length;s<o;++s)r=t.getPixelForTick(s),l();return i}function Eb(e,t,n,i){const s=n.barThickness;let o,r;return $(s)?(o=t.min*n.categoryPercentage,r=n.barPercentage):(o=s*i,r=1),{chunk:o/i,ratio:r,start:t.pixels[e]-o/2}}function Pb(e,t,n,i){const s=t.pixels,o=s[e];let r=e>0?s[e-1]:null,a=e<s.length-1?s[e+1]:null;const l=n.categoryPercentage;r===null&&(r=o-(a===null?t.end-t.start:a-o)),a===null&&(a=o+o-r);const c=o-(o-Math.min(r,a))/2*l;return{chunk:Math.abs(a-r)/2*l/i,ratio:n.barPercentage,start:c}}function Db(e,t,n,i){const s=n.parse(e[0],i),o=n.parse(e[1],i),r=Math.min(s,o),a=Math.max(s,o);let l=r,c=a;Math.abs(r)>Math.abs(a)&&(l=a,c=r),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:o,min:r,max:a}}function qh(e,t,n,i){return ft(e)?Db(e,t,n,i):t[n.axis]=n.parse(e,i),t}function uc(e,t,n,i){const s=e.iScale,o=e.vScale,r=s.getLabels(),a=s===o,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=t[c],h={},h[s.axis]=a||s.parse(r[c],c),l.push(qh(d,h,o,c));return l}function xr(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function Tb(e,t,n){return e!==0?Ve(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function Ib(e){let t,n,i,s,o;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",o="start"):(s="start",o="end"),{start:n,end:i,reverse:t,top:s,bottom:o}}function Ob(e,t,n,i){let s=t.borderSkipped;const o={};if(!s){e.borderSkipped=o;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:r,end:a,reverse:l,top:c,bottom:u}=Ib(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=c:(n._bottom||0)===i?s=u:(o[hc(u,r,a,l)]=!0,s=c)),o[hc(s,r,a,l)]=!0,e.borderSkipped=o}function hc(e,t,n,i){return i?(e=Rb(e,t,n),e=dc(e,n,t)):e=dc(e,t,n),e}function Rb(e,t,n){return e===t?n:e===n?t:e}function dc(e,t,n){return e==="start"?t:e==="end"?n:e}function Lb(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class bo extends Se{parsePrimitiveData(t,n,i,s){return uc(t,n,i,s)}parseArrayData(t,n,i,s){return uc(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:o,vScale:r}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=o.axis==="x"?a:l,u=r.axis==="x"?a:l,h=[];let d,f,p,g;for(d=i,f=i+s;d<f;++d)g=n[d],p={},p[o.axis]=o.parse(kn(g,c),d),h.push(qh(kn(g,u),p,r,d));return h}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const o=i._custom;o&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,o=this.getParsed(t),r=o._custom,a=xr(r)?"["+r.start+", "+r.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const o=s==="reset",{index:r,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,s);for(let f=n;f<n+i;f++){const p=this.getParsed(f),g=o||$(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),v=this._calculateBarIndexPixels(f,u),b=(p._stacks||{})[a.axis],_={horizontal:c,base:g.base,enableBorderRadius:!b||xr(p._custom)||r===b._top||r===b._bottom,x:c?g.head:v.center,y:c?v.center:g.head,height:c?v.size:Math.abs(g.size),width:c?Math.abs(g.size):v.size};d&&(_.options=h||this.resolveDataElementOptions(f,t[f].active?"active":s));const x=_.options||t[f].options;Ob(_,x,b,r),Lb(_,x,u.ratio),this.updateElement(t[f],f,_,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),o=i.options.stacked,r=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[i.axis],c=u=>{const h=u._parsed.find(f=>f[i.axis]===l),d=h&&h[u.vScale.axis];if($(d)||isNaN(d))return!0};for(const u of s)if(!(n!==void 0&&c(u))&&((o===!1||r.indexOf(u.stack)===-1||o===void 0&&u.stack===void 0)&&r.push(u.stack),u.index===t))break;return r.length||r.push(void 0),r}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[j(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,i){const s=this._getStacks(t,i),o=n!==void 0?s.indexOf(n):-1;return o===-1?s.length-1:o}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let o,r;for(o=0,r=n.data.length;o<r;++o)s.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const a=t.barThickness;return{min:a||Cb(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:o,minBarLength:r}}=this,a=o||0,l=this.getParsed(t),c=l._custom,u=xr(c);let h=l[n.axis],d=0,f=i?this.applyStack(n,l,i):h,p,g;f!==h&&(d=f-h,f=h),u&&(h=c.barStart,f=c.barEnd-c.barStart,h!==0&&Ve(h)!==Ve(c.barEnd)&&(d=0),d+=h);const v=!$(o)&&!u?o:d;let b=n.getPixelForValue(v);if(this.chart.getDataVisibility(t)?p=n.getPixelForValue(d+f):p=b,g=p-b,Math.abs(g)<r){g=Tb(g,n,a)*r,h===a&&(b-=g/2);const _=n.getPixelForDecimal(0),x=n.getPixelForDecimal(1),w=Math.min(_,x),y=Math.max(_,x);b=Math.max(Math.min(b,y),w),p=b+g,i&&!u&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(p)-n.getValueForPixel(b))}if(b===n.getPixelForValue(a)){const _=Ve(g)*n.getLineWidthForValue(a)/2;b+=_,g-=_}return{size:g,base:b,head:p,center:p+g/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,o=s.skipNull,r=j(s.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(n.grouped){const u=o?this._getStackCount(t):n.stackCount,h=s.barThickness==="flex"?Pb(t,n,s,u*c):Eb(t,n,s,u*c),d=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(j(d,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+f;a=h.start+h.chunk*p+h.chunk/2,l=Math.min(r,h.chunk*h.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(r,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let o=0;for(;o<s;++o)this.getParsed(o)[n.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}P(bo,"id","bar"),P(bo,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),P(bo,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class _o extends Se{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,s){const o=super.parsePrimitiveData(t,n,i,s);for(let r=0;r<o.length;r++)o[r]._custom=this.resolveDataElementOptions(r+i).radius;return o}parseArrayData(t,n,i,s){const o=super.parseArrayData(t,n,i,s);for(let r=0;r<o.length;r++){const a=n[i+r];o[r]._custom=j(a[2],this.resolveDataElementOptions(r+i).radius)}return o}parseObjectData(t,n,i,s){const o=super.parseObjectData(t,n,i,s);for(let r=0;r<o.length;r++){const a=n[i+r];o[r]._custom=j(a&&a.r&&+a.r,this.resolveDataElementOptions(r+i).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=n,r=this.getParsed(t),a=s.getLabelForValue(r.x),l=o.getLabelForValue(r.y),c=r._custom;return{label:i[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,s){const o=s==="reset",{iScale:r,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,s),u=r.axis,h=a.axis;for(let d=n;d<n+i;d++){const f=t[d],p=!o&&this.getParsed(d),g={},v=g[u]=o?r.getPixelForDecimal(.5):r.getPixelForValue(p[u]),b=g[h]=o?a.getBasePixel():a.getPixelForValue(p[h]);g.skip=isNaN(v)||isNaN(b),c&&(g.options=l||this.resolveDataElementOptions(d,f.active?"active":s),o&&(g.options.radius=0)),this.updateElement(f,d,g,s)}}resolveDataElementOptions(t,n){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return n!=="active"&&(s.radius=0),s.radius+=j(i&&i._custom,o),s}}P(_o,"id","bubble"),P(_o,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),P(_o,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Bb(e,t,n){let i=1,s=1,o=0,r=0;if(t<ct){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(x,w,y)=>Ms(x,a,l,!0)?1:Math.max(w,w*n,y,y*n),p=(x,w,y)=>Ms(x,a,l,!0)?-1:Math.min(w,w*n,y,y*n),g=f(0,c,h),v=f(wt,u,d),b=p(tt,c,h),_=p(tt+wt,u,d);i=(g-b)/2,s=(v-_)/2,o=-(g+b)/2,r=-(v+_)/2}return{ratioX:i,ratioY:s,offsetX:o,offsetY:r}}class zn extends Se{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let o=l=>+i[l];if(X(i[t])){const{key:l="value"}=this._parsing;o=c=>+kn(i[c],l)}let r,a;for(r=t,a=t+n;r<a;++r)s._parsed[r]=o(r)}}_getRotation(){return Ae(this.options.rotation-90)}_getCircumference(){return Ae(this.options.circumference)}_getRotationExtents(){let t=ct,n=-ct;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,o=s._getRotation(),r=s._getCircumference();t=Math.min(t,o),n=Math.max(n,o+r)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,o=s.data,r=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-r)/2,0),l=Math.min(Xm(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:p,offsetY:g}=Bb(h,u,l),v=(i.width-r)/d,b=(i.height-r)/f,_=Math.max(Math.min(v,b)/2,0),x=vh(this.options.radius,_),w=Math.max(x*l,0),y=(x-w)/this._getVisibleDatasetWeightTotal();this.offsetX=p*x,this.offsetY=g*x,s.total=this.calculateTotal(),this.outerRadius=x-y*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-y*c,0),this.updateElements(o,0,o.length,t)}_circumference(t,n){const i=this.options,s=this._cachedMeta,o=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/ct)}updateElements(t,n,i,s){const o=s==="reset",r=this.chart,a=r.chartArea,c=r.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=o&&c.animateScale,f=d?0:this.innerRadius,p=d?0:this.outerRadius,{sharedOptions:g,includeOptions:v}=this._getSharedOptions(n,s);let b=this._getRotation(),_;for(_=0;_<n;++_)b+=this._circumference(_,o);for(_=n;_<n+i;++_){const x=this._circumference(_,o),w=t[_],y={x:u+this.offsetX,y:h+this.offsetY,startAngle:b,endAngle:b+x,circumference:x,outerRadius:p,innerRadius:f};v&&(y.options=g||this.resolveDataElementOptions(_,w.active?"active":s)),b+=x,this.updateElement(w,_,y,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,s;for(s=0;s<n.length;s++){const o=t._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?ct*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=Vs(n._parsed[t],i.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let n=0;const i=this.chart;let s,o,r,a,l;if(!t){for(s=0,o=i.data.datasets.length;s<o;++s)if(i.isDatasetVisible(s)){r=i.getDatasetMeta(s),t=r.data,a=r.controller;break}}if(!t)return 0;for(s=0,o=t.length;s<o;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,s=t.length;i<s;++i){const o=this.resolveDataElementOptions(i);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(j(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}P(zn,"id","doughnut"),P(zn,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),P(zn,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),P(zn,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data,{labels:{pointStyle:i,textAlign:s,color:o,useBorderRadius:r,borderRadius:a}}=t.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((l,c)=>{const h=t.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:h.backgroundColor,fontColor:o,hidden:!t.getDataVisibility(c),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:s,pointStyle:i,borderRadius:r&&(a||h.borderRadius),index:c}}):[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class xo extends Se{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:o}=n,r=this.chart._animationsDisabled;let{start:a,count:l}=Sh(n,s,r);this._drawStart=a,this._drawCount=l,Mh(n)&&(a=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=s;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:c},t),this.updateElements(s,a,l,t)}updateElements(t,n,i,s){const o=s==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,s),d=r.axis,f=a.axis,{spanGaps:p,segment:g}=this.options,v=Li(p)?p:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||o||s==="none",_=n+i,x=t.length;let w=n>0&&this.getParsed(n-1);for(let y=0;y<x;++y){const A=t[y],k=b?A:{};if(y<n||y>=_){k.skip=!0;continue}const C=this.getParsed(y),T=$(C[f]),B=k[d]=r.getPixelForValue(C[d],y),F=k[f]=o||T?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,C,l):C[f],y);k.skip=isNaN(B)||isNaN(F)||T,k.stop=y>0&&Math.abs(C[d]-w[d])>v,g&&(k.parsed=C,k.raw=c.data[y]),h&&(k.options=u||this.resolveDataElementOptions(y,A.active?"active":s)),b||this.updateElement(A,y,k,s),w=C}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const o=s[0].size(this.resolveDataElementOptions(0)),r=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,r)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}P(xo,"id","line"),P(xo,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),P(xo,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ps extends Se{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=Vs(n._parsed[t].r,i.options.locale);return{label:s[t]||"",value:o}}parseObjectData(t,n,i,s){return Rh.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(s/2,0),r=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),a=(o-r)/t.getVisibleDatasetCount();this.outerRadius=o-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,i,s){const o=s==="reset",r=this.chart,l=r.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,d=c.getIndexAngle(0)-.5*tt;let f=d,p;const g=360/this.countVisibleElements();for(p=0;p<n;++p)f+=this._computeAngle(p,s,g);for(p=n;p<n+i;p++){const v=t[p];let b=f,_=f+this._computeAngle(p,s,g),x=r.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;f=_,o&&(l.animateScale&&(x=0),l.animateRotate&&(b=_=d));const w={x:u,y:h,innerRadius:0,outerRadius:x,startAngle:b,endAngle:_,options:this.resolveDataElementOptions(p,v.active?"active":s)};this.updateElement(v,p,w,s)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?Ae(this.resolveDataElementOptions(t,n).angle||i):0}}P(ps,"id","polarArea"),P(ps,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),P(ps,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((o,r)=>{const l=t.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Gr extends zn{}P(Gr,"id","pie"),P(Gr,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class yo extends Se{getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,s){return Rh.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta,i=n.dataset,s=n.data||[],o=n.iScale.getLabels();if(i.points=s,t!=="resize"){const r=this.resolveDatasetElementOptions(t);this.options.showLine||(r.borderWidth=0);const a={_loop:!0,_fullLoop:o.length===s.length,options:r};this.updateElement(i,void 0,a,t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,i,s){const o=this._cachedMeta.rScale,r=s==="reset";for(let a=n;a<n+i;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":s),u=o.getPointPositionForValue(a,this.getParsed(a).r),h=r?o.xCenter:u.x,d=r?o.yCenter:u.y,f={x:h,y:d,angle:u.angle,skip:isNaN(h)||isNaN(d),options:c};this.updateElement(l,a,f,s)}}}P(yo,"id","radar"),P(yo,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),P(yo,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class wo extends Se{getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=n,r=this.getParsed(t),a=s.getLabelForValue(r.x),l=o.getLabelForValue(r.y);return{label:i[t]||"",value:"("+a+", "+l+")"}}update(t){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:o,count:r}=Sh(n,i,s);if(this._drawStart=o,this._drawCount=r,Mh(n)&&(o=0,r=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:c},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,o,r,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,i,s){const o=s==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,s),h=this.getSharedOptions(u),d=this.includeOptions(s,h),f=r.axis,p=a.axis,{spanGaps:g,segment:v}=this.options,b=Li(g)?g:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||o||s==="none";let x=n>0&&this.getParsed(n-1);for(let w=n;w<n+i;++w){const y=t[w],A=this.getParsed(w),k=_?y:{},C=$(A[p]),T=k[f]=r.getPixelForValue(A[f],w),B=k[p]=o||C?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,A,l):A[p],w);k.skip=isNaN(T)||isNaN(B)||C,k.stop=w>0&&Math.abs(A[f]-x[f])>b,v&&(k.parsed=A,k.raw=c.data[w]),d&&(k.options=h||this.resolveDataElementOptions(w,y.active?"active":s)),_||this.updateElement(y,w,k,s),x=A}this.updateSharedOptions(h,s,u)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const o=n[0].size(this.resolveDataElementOptions(0)),r=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,o,r)/2}}P(wo,"id","scatter"),P(wo,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),P(wo,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Fb=Object.freeze({__proto__:null,BarController:bo,BubbleController:_o,DoughnutController:zn,LineController:xo,PieController:Gr,PolarAreaController:ps,RadarController:yo,ScatterController:wo});function On(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ja{constructor(t){P(this,"options");this.options=t||{}}static override(t){Object.assign(ja.prototype,t)}init(){}formats(){return On()}parse(){return On()}format(){return On()}add(){return On()}diff(){return On()}startOf(){return On()}endOf(){return On()}}var zb={_date:ja};function Nb(e,t,n,i){const{controller:s,data:o,_sorted:r}=e,a=s._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&r&&o.length){const c=a._reversePixels?av:sn;if(i){if(s._sharedOptions){const u=o[0],h=typeof u.getRange=="function"&&u.getRange(t);if(h){const d=c(o,t,n-h),f=c(o,t,n+h);return{lo:d.lo,hi:f.hi}}}}else{const u=c(o,t,n);if(l){const{vScale:h}=s._cachedMeta,{_parsed:d}=e,f=d.slice(0,u.lo+1).reverse().findIndex(g=>!$(g[h.axis]));u.lo-=Math.max(0,f);const p=d.slice(u.hi).findIndex(g=>!$(g[h.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:o.length-1}}function ar(e,t,n,i,s){const o=e.getSortedVisibleDatasetMetas(),r=n[t];for(let a=0,l=o.length;a<l;++a){const{index:c,data:u}=o[a],{lo:h,hi:d}=Nb(o[a],t,r,s);for(let f=h;f<=d;++f){const p=u[f];p.skip||i(p,c,f)}}}function Wb(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const o=t?Math.abs(i.x-s.x):0,r=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function yr(e,t,n,i,s){const o=[];return!s&&!e.isPointInArea(t)||ar(e,n,t,function(a,l,c){!s&&!on(a,e.chartArea,0)||a.inRange(t.x,t.y,i)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function Hb(e,t,n,i){let s=[];function o(r,a,l){const{startAngle:c,endAngle:u}=r.getProps(["startAngle","endAngle"],i),{angle:h}=xh(r,{x:t.x,y:t.y});Ms(h,c,u)&&s.push({element:r,datasetIndex:a,index:l})}return ar(e,n,t,o),s}function Vb(e,t,n,i,s,o){let r=[];const a=Wb(n);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(t.x,t.y,s);if(i&&!f)return;const p=u.getCenterPoint(s);if(!(!!o||e.isPointInArea(p))&&!f)return;const v=a(t,p);v<l?(r=[{element:u,datasetIndex:h,index:d}],l=v):v===l&&r.push({element:u,datasetIndex:h,index:d})}return ar(e,n,t,c),r}function wr(e,t,n,i,s,o){return!o&&!e.isPointInArea(t)?[]:n==="r"&&!i?Hb(e,t,n,s):Vb(e,t,n,i,s,o)}function fc(e,t,n,i,s){const o=[],r=n==="x"?"inXRange":"inYRange";let a=!1;return ar(e,n,t,(l,c,u)=>{l[r]&&l[r](t[n],s)&&(o.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,s))}),i&&!a?[]:o}var jb={modes:{index(e,t,n,i){const s=Ln(t,e),o=n.axis||"x",r=n.includeInvisible||!1,a=n.intersect?yr(e,s,o,i,r):wr(e,s,o,!1,i,r),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,n,i){const s=Ln(t,e),o=n.axis||"xy",r=n.includeInvisible||!1;let a=n.intersect?yr(e,s,o,i,r):wr(e,s,o,!1,i,r);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,n,i){const s=Ln(t,e),o=n.axis||"xy",r=n.includeInvisible||!1;return yr(e,s,o,i,r)},nearest(e,t,n,i){const s=Ln(t,e),o=n.axis||"xy",r=n.includeInvisible||!1;return wr(e,s,o,n.intersect,i,r)},x(e,t,n,i){const s=Ln(t,e);return fc(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=Ln(t,e);return fc(e,s,"y",n.intersect,i)}}};const Yh=["left","top","right","bottom"];function Ui(e,t){return e.filter(n=>n.pos===t)}function pc(e,t){return e.filter(n=>Yh.indexOf(n.pos)===-1&&n.box.axis===t)}function $i(e,t){return e.sort((n,i)=>{const s=t?i:n,o=t?n:i;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function qb(e){const t=[];let n,i,s,o,r,a;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:o,options:{stack:r,stackWeight:a=1}}=s,t.push({index:n,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:r&&o+r,stackWeight:a});return t}function Yb(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:o}=n;if(!i||!Yh.includes(s))continue;const r=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return t}function Ub(e,t){const n=Yb(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let o,r,a;for(o=0,r=e.length;o<r;++o){a=e[o];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&t.availableWidth,a.height=s):(a.width=i,a.height=u?u*s:l&&t.availableHeight)}return n}function $b(e){const t=qb(e),n=$i(t.filter(c=>c.box.fullSize),!0),i=$i(Ui(t,"left"),!0),s=$i(Ui(t,"right")),o=$i(Ui(t,"top"),!0),r=$i(Ui(t,"bottom")),a=pc(t,"x"),l=pc(t,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:s.concat(l).concat(r).concat(a),chartArea:Ui(t,"chartArea"),vertical:i.concat(s).concat(l),horizontal:o.concat(r).concat(a)}}function gc(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function Uh(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Xb(e,t,n,i){const{pos:s,box:o}=n,r=e.maxPadding;if(!X(s)){n.size&&(e[s]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?o.height:o.width),n.size=h.size/h.count,e[s]+=n.size}o.getPadding&&Uh(r,o.getPadding());const a=Math.max(0,t.outerWidth-gc(r,e,"left","right")),l=Math.max(0,t.outerHeight-gc(r,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Gb(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function Zb(e,t){const n=t.maxPadding;function i(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(r=>{o[r]=Math.max(t[r],n[r])}),o}return i(e?["left","right"]:["top","bottom"])}function is(e,t,n,i){const s=[];let o,r,a,l,c,u;for(o=0,r=e.length,c=0;o<r;++o){a=e[o],l=a.box,l.update(a.width||t.w,a.height||t.h,Zb(a.horizontal,t));const{same:h,other:d}=Xb(t,n,a,i);c|=h&&s.length,u=u||d,l.fullSize||s.push(a)}return c&&is(s,t,n,i)||u}function io(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function mc(e,t,n,i){const s=n.padding;let{x:o,y:r}=t;for(const a of e){const l=a.box,c=i[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=t.w*u,d=c.size||l.height;Ss(c.start)&&(r=c.start),l.fullSize?io(l,s.left,r,n.outerWidth-s.right-s.left,d):io(l,t.left+c.placed,r,h,d),c.start=r,c.placed+=h,r=l.bottom}else{const h=t.h*u,d=c.size||l.width;Ss(c.start)&&(o=c.start),l.fullSize?io(l,o,s.top,d,n.outerHeight-s.bottom-s.top):io(l,o,t.top+c.placed,d,h),c.start=o,c.placed+=h,o=l.right}}t.x=o,t.y=r}var zt={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=Wt(e.options.layout.padding),o=Math.max(t-s.width,0),r=Math.max(n-s.height,0),a=$b(e.boxes),l=a.vertical,c=a.horizontal;st(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,v)=>v.box.options&&v.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/u,hBoxMaxHeight:r/2}),d=Object.assign({},s);Uh(d,Wt(i));const f=Object.assign({maxPadding:d,w:o,h:r,x:s.left,y:s.top},s),p=Ub(l.concat(c),h);is(a.fullSize,f,h,p),is(l,f,h,p),is(c,f,h,p)&&is(l,f,h,p),Gb(f),mc(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,mc(a.rightAndBottom,f,h,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},st(a.chartArea,g=>{const v=g.box;Object.assign(v,e.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class $h{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class Kb extends $h{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Ao="$chartjs",Jb={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},vc=e=>e===null||e==="";function Qb(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[Ao]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",vc(s)){const o=tc(e,"width");o!==void 0&&(e.width=o)}if(vc(i))if(e.style.height==="")e.height=e.width/(t||2);else{const o=tc(e,"height");o!==void 0&&(e.height=o)}return e}const Xh=tb?{passive:!0}:!1;function t_(e,t,n){e&&e.addEventListener(t,n,Xh)}function e_(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,Xh)}function n_(e,t){const n=Jb[e.type]||e.type,{x:i,y:s}=Ln(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Vo(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function i_(e,t,n){const i=e.canvas,s=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||Vo(a.addedNodes,i),r=r&&!Vo(a.removedNodes,i);r&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function s_(e,t,n){const i=e.canvas,s=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||Vo(a.removedNodes,i),r=r&&!Vo(a.addedNodes,i);r&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Es=new Map;let bc=0;function Gh(){const e=window.devicePixelRatio;e!==bc&&(bc=e,Es.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function o_(e,t){Es.size||window.addEventListener("resize",Gh),Es.set(e,t)}function r_(e){Es.delete(e),Es.size||window.removeEventListener("resize",Gh)}function a_(e,t,n){const i=e.canvas,s=i&&Va(i);if(!s)return;const o=kh((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),r=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||o(c,u)});return r.observe(s),o_(e,o),r}function Ar(e,t,n){n&&n.disconnect(),t==="resize"&&r_(e)}function l_(e,t,n){const i=e.canvas,s=kh(o=>{e.ctx!==null&&n(n_(o,e))},e);return t_(i,t,s),s}class c_ extends $h{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(Qb(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[Ao])return!1;const i=n[Ao].initial;["height","width"].forEach(o=>{const r=i[o];$(r)?n.removeAttribute(o):n.setAttribute(o,r)});const s=i.style||{};return Object.keys(s).forEach(o=>{n.style[o]=s[o]}),n.width=n.width,delete n[Ao],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),r={attach:i_,detach:s_,resize:a_}[n]||l_;s[n]=r(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:Ar,detach:Ar,resize:Ar}[n]||e_)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return Qv(t,n,i,s)}isAttached(t){const n=t&&Va(t);return!!(n&&n.isConnected)}}function u_(e){return!Ha()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?Kb:c_}var uo;let cn=(uo=class{constructor(){P(this,"x");P(this,"y");P(this,"active",!1);P(this,"options");P(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return Li(this.x)&&Li(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(o=>{s[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),s}},P(uo,"defaults",{}),P(uo,"defaultRoutes"),uo);function h_(e,t){const n=e.options.ticks,i=d_(e),s=Math.min(n.maxTicksLimit||i,i),o=n.major.enabled?p_(t):[],r=o.length,a=o[0],l=o[r-1],c=[];if(r>s)return g_(t,c,o,r/s),c;const u=f_(o,t,s);if(r>0){let h,d;const f=r>1?Math.round((l-a)/(r-1)):null;for(so(t,c,u,$(f)?0:a-f,a),h=0,d=r-1;h<d;h++)so(t,c,u,o[h],o[h+1]);return so(t,c,u,l,$(f)?t.length:l+f),c}return so(t,c,u),c}function d_(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function f_(e,t,n){const i=m_(e),s=t.length/n;if(!i)return Math.max(s,1);const o=nv(i);for(let r=0,a=o.length-1;r<a;r++){const l=o[r];if(l>s)return l}return Math.max(s,1)}function p_(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function g_(e,t,n,i){let s=0,o=n[0],r;for(i=Math.ceil(i),r=0;r<e.length;r++)r===o&&(t.push(e[r]),s++,o=n[s*i])}function so(e,t,n,i,s){const o=j(i,0),r=Math.min(j(s,e.length),e.length);let a=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),u=o;u<0;)a++,u=Math.round(o+a*n);for(c=Math.max(o,0);c<r;c++)c===u&&(t.push(e[c]),a++,u=Math.round(o+a*n))}function m_(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const v_=e=>e==="left"?"right":e==="right"?"left":e,_c=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,xc=(e,t)=>Math.min(t||e,e);function yc(e,t){const n=[],i=e.length/t,s=e.length;let o=0;for(;o<s;o+=i)n.push(e[Math.floor(o)]);return n}function b_(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),o=e._startPixel,r=e._endPixel,a=1e-6;let l=e.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(l-o,r-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(s-1))/2,l+=s<t?c:-c,l<o-a||l>r+a)))return l}function __(e,t){st(e,n=>{const i=n.gc,s=i.length/2;let o;if(s>t){for(o=0;o<s;++o)delete n.data[i[o]];i.splice(0,s)}})}function Xi(e){return e.drawTicks?e.tickLength:0}function wc(e,t){if(!e.display)return 0;const n=Ct(e.font,t),i=Wt(e.padding);return(ft(e.text)?e.text.length:1)*n.lineHeight+i.height}function x_(e,t){return Mn(e,{scale:t,type:"scale"})}function y_(e,t,n){return Mn(e,{tick:n,index:t,type:"tick"})}function w_(e,t,n){let i=La(e);return(n&&t!=="right"||!n&&t==="right")&&(i=v_(i)),i}function A_(e,t,n,i){const{top:s,left:o,bottom:r,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let h=0,d,f,p;const g=r-s,v=a-o;if(e.isHorizontal()){if(f=Bt(i,o,a),X(n)){const b=Object.keys(n)[0],_=n[b];p=u[b].getPixelForValue(_)+g-t}else n==="center"?p=(c.bottom+c.top)/2+g-t:p=_c(e,n,t);d=a-o}else{if(X(n)){const b=Object.keys(n)[0],_=n[b];f=u[b].getPixelForValue(_)-v+t}else n==="center"?f=(c.left+c.right)/2-v+t:f=_c(e,n,t);p=Bt(i,r,s),h=n==="left"?-wt:wt}return{titleX:f,titleY:p,maxWidth:d,rotation:h}}class oi extends cn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=te(t,Number.POSITIVE_INFINITY),n=te(n,Number.NEGATIVE_INFINITY),i=te(i,Number.POSITIVE_INFINITY),s=te(s,Number.NEGATIVE_INFINITY),{min:te(t,i),max:te(n,s),minDefined:_t(t),maxDefined:_t(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:o}=this.getUserBounds(),r;if(s&&o)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)r=a[l].controller.getMinMax(this,t),s||(n=Math.min(n,r.min)),o||(i=Math.max(i,r.max));return n=o&&n>i?i:n,i=s&&n>i?n:i,{min:te(n,te(i,n)),max:te(i,te(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){at(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:o,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Tv(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?yc(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=h_(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){at(this.options.afterUpdate,[this])}beforeSetDimensions(){at(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){at(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),at(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){at(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,o;for(i=0,s=t.length;i<s;i++)o=t[i],o.label=at(n.callback,[o.value,i,t],this)}afterTickToLabelConversion(){at(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){at(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=xc(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,o=n.maxRotation;let r=s,a,l,c;if(!this._isVisible()||!n.display||s>=o||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=Pt(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/i:f/(i-1),h+6>a&&(a=f/(i-(t.offset?.5:1)),l=this.maxHeight-Xi(t.grid)-n.padding-wc(t.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),r=Oa(Math.min(Math.asin(Pt((u.highest.height+6)/a,-1,1)),Math.asin(Pt(l/c,-1,1))-Math.asin(Pt(d/c,-1,1)))),r=Math.max(s,Math.min(o,r))),this.labelRotation=r}afterCalculateLabelRotation(){at(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){at(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:o}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){const l=wc(s,n.options.font);if(a?(t.width=this.maxWidth,t.height=Xi(o)+l):(t.height=this.maxHeight,t.width=Xi(o)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=i.padding*2,p=Ae(this.labelRotation),g=Math.cos(p),v=Math.sin(p);if(a){const b=i.mirror?0:v*h.width+g*d.height;t.height=Math.min(this.maxHeight,t.height+b+f)}else{const b=i.mirror?0:g*h.width+v*d.height;t.width=Math.min(this.maxWidth,t.width+b+f)}this._calculatePadding(c,u,v,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:o,padding:r},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=s*t.width,f=i*n.height):(d=i*t.height,f=s*n.width):o==="start"?f=n.width:o==="end"?d=t.width:o!=="inner"&&(d=t.width/2,f=n.width/2),this.paddingLeft=Math.max((d-u+r)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+r)*this.width/(this.width-h),0)}else{let u=n.height/2,h=t.height/2;o==="start"?(u=0,h=t.height):o==="end"&&(u=n.height,h=0),this.paddingTop=u+r,this.paddingBottom=h+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){at(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)$(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=yc(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:o}=this,r=[],a=[],l=Math.floor(n/xc(n,i));let c=0,u=0,h,d,f,p,g,v,b,_,x,w,y;for(h=0;h<n;h+=l){if(p=t[h].label,g=this._resolveTickFontOptions(h),s.font=v=g.string,b=o[v]=o[v]||{data:{},gc:[]},_=g.lineHeight,x=w=0,!$(p)&&!ft(p))x=Wo(s,b.data,b.gc,x,p),w=_;else if(ft(p))for(d=0,f=p.length;d<f;++d)y=p[d],!$(y)&&!ft(y)&&(x=Wo(s,b.data,b.gc,x,y),w+=_);r.push(x),a.push(w),c=Math.max(x,c),u=Math.max(w,u)}__(o,n);const A=r.indexOf(c),k=a.indexOf(u),C=T=>({width:r[T]||0,height:a[T]||0});return{first:C(0),last:C(n-1),widest:C(A),highest:C(k),widths:r,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return rv(this._alignToPixels?In(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=y_(this.getContext(),t,i))}return this.$context||(this.$context=x_(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Ae(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),o=this._getLabelSizes(),r=t.autoSkipPadding||0,a=o?o.widest.width+r:0,l=o?o.highest.height+r:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:o,position:r,border:a}=s,l=o.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=Xi(o),f=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,v=g/2,b=function(S){return In(i,S,g)};let _,x,w,y,A,k,C,T,B,F,z,J;if(r==="top")_=b(this.bottom),k=this.bottom-d,T=_-v,F=b(t.top)+v,J=t.bottom;else if(r==="bottom")_=b(this.top),F=t.top,J=b(t.bottom)-v,k=_+v,T=this.top+d;else if(r==="left")_=b(this.right),A=this.right-d,C=_-v,B=b(t.left)+v,z=t.right;else if(r==="right")_=b(this.left),B=t.left,z=b(t.right)-v,A=_+v,C=this.left+d;else if(n==="x"){if(r==="center")_=b((t.top+t.bottom)/2+.5);else if(X(r)){const S=Object.keys(r)[0],M=r[S];_=b(this.chart.scales[S].getPixelForValue(M))}F=t.top,J=t.bottom,k=_+v,T=k+d}else if(n==="y"){if(r==="center")_=b((t.left+t.right)/2);else if(X(r)){const S=Object.keys(r)[0],M=r[S];_=b(this.chart.scales[S].getPixelForValue(M))}A=_-v,C=A-d,B=t.left,z=t.right}const ot=j(s.ticks.maxTicksLimit,h),W=Math.max(1,Math.ceil(h/ot));for(x=0;x<h;x+=W){const S=this.getContext(x),M=o.setContext(S),R=a.setContext(S),I=M.lineWidth,N=M.color,K=R.dash||[],et=R.dashOffset,xt=M.tickWidth,Dt=M.tickColor,Rt=M.tickBorderDash||[],At=M.tickBorderDashOffset;w=b_(this,x,l),w!==void 0&&(y=In(i,w,I),c?A=C=B=z=y:k=T=F=J=y,f.push({tx1:A,ty1:k,tx2:C,ty2:T,x1:B,y1:F,x2:z,y2:J,width:I,color:N,borderDash:K,borderDashOffset:et,tickWidth:xt,tickColor:Dt,tickBorderDash:Rt,tickBorderDashOffset:At}))}return this._ticksLength=h,this._borderValue=_,f}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:o}=i,r=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=o,d=Xi(i.grid),f=d+u,p=h?-u:f,g=-Ae(this.labelRotation),v=[];let b,_,x,w,y,A,k,C,T,B,F,z,J="middle";if(s==="top")A=this.bottom-p,k=this._getXAxisLabelAlignment();else if(s==="bottom")A=this.top+p,k=this._getXAxisLabelAlignment();else if(s==="left"){const W=this._getYAxisLabelAlignment(d);k=W.textAlign,y=W.x}else if(s==="right"){const W=this._getYAxisLabelAlignment(d);k=W.textAlign,y=W.x}else if(n==="x"){if(s==="center")A=(t.top+t.bottom)/2+f;else if(X(s)){const W=Object.keys(s)[0],S=s[W];A=this.chart.scales[W].getPixelForValue(S)+f}k=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")y=(t.left+t.right)/2-f;else if(X(s)){const W=Object.keys(s)[0],S=s[W];y=this.chart.scales[W].getPixelForValue(S)}k=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?J="top":l==="end"&&(J="bottom"));const ot=this._getLabelSizes();for(b=0,_=a.length;b<_;++b){x=a[b],w=x.label;const W=o.setContext(this.getContext(b));C=this.getPixelForTick(b)+o.labelOffset,T=this._resolveTickFontOptions(b),B=T.lineHeight,F=ft(w)?w.length:1;const S=F/2,M=W.color,R=W.textStrokeColor,I=W.textStrokeWidth;let N=k;r?(y=C,k==="inner"&&(b===_-1?N=this.options.reverse?"left":"right":b===0?N=this.options.reverse?"right":"left":N="center"),s==="top"?c==="near"||g!==0?z=-F*B+B/2:c==="center"?z=-ot.highest.height/2-S*B+B:z=-ot.highest.height+B/2:c==="near"||g!==0?z=B/2:c==="center"?z=ot.highest.height/2-S*B:z=ot.highest.height-F*B,h&&(z*=-1),g!==0&&!W.showLabelBackdrop&&(y+=B/2*Math.sin(g))):(A=C,z=(1-F)*B/2);let K;if(W.showLabelBackdrop){const et=Wt(W.backdropPadding),xt=ot.heights[b],Dt=ot.widths[b];let Rt=z-et.top,At=0-et.left;switch(J){case"middle":Rt-=xt/2;break;case"bottom":Rt-=xt;break}switch(k){case"center":At-=Dt/2;break;case"right":At-=Dt;break;case"inner":b===_-1?At-=Dt:b>0&&(At-=Dt/2);break}K={left:At,top:Rt,width:Dt+et.width,height:xt+et.height,color:W.backdropColor}}v.push({label:w,font:T,textOffset:z,options:{rotation:g,color:M,strokeColor:R,strokeWidth:I,textAlign:N,textBaseline:J,translation:[y,A],backdrop:K}})}return v}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Ae(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:o}}=this.options,r=this._getLabelSizes(),a=t+o,l=r.widest.width;let c,u;return n==="left"?s?(u=this.right+o,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+o,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:o,height:r}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,o,r),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(o=>o.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,r;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(o=0,r=s.length;o<r;++o){const l=s[o];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,o=i.setContext(this.getContext()),r=i.display?o.width:0;if(!r)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=In(t,this.left,r)-r/2,u=In(t,this.right,a)+a/2,h=d=l):(h=In(t,this.top,r)-r/2,d=In(t,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,d),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&sr(i,s);const o=this.getLabelItems(t);for(const r of o){const a=r.options,l=r.font,c=r.label,u=r.textOffset;ni(i,c,0,u,l,a)}s&&or(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const o=Ct(i.font),r=Wt(i.padding),a=i.align;let l=o.lineHeight/2;n==="bottom"||n==="center"||X(n)?(l+=r.bottom,ft(i.text)&&(l+=o.lineHeight*(i.text.length-1))):l+=r.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=A_(this,l,n,a);ni(t,i.text,0,0,o,{color:i.color,maxWidth:h,rotation:d,textAlign:w_(a,n,s),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=j(t.grid&&t.grid.z,-1),s=j(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==oi.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let o,r;for(o=0,r=n.length;o<r;++o){const a=n[o];a[i]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Ct(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class oo{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;M_(n)&&(i=this.register(n));const s=this.items,o=t.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in s||(s[o]=t,k_(t,r,i),this.override&&pt.override(t.id,t.overrides)),r}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in pt[s]&&(delete pt[s][i],this.override&&delete ei[i])}}function k_(e,t,n){const i=ks(Object.create(null),[n?pt.get(n):{},pt.get(t),e.defaults]);pt.set(t,i),e.defaultRoutes&&S_(t,e.defaultRoutes),e.descriptors&&pt.describe(t,e.descriptors)}function S_(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),o=[e].concat(i).join("."),r=t[n].split("."),a=r.pop(),l=r.join(".");pt.route(o,s,l,a)})}function M_(e){return"id"in e&&"defaults"in e}class C_{constructor(){this.controllers=new oo(Se,"datasets",!0),this.elements=new oo(cn,"elements"),this.plugins=new oo(Object,"plugins"),this.scales=new oo(oi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const o=i||this._getRegistryForType(s);i||o.isForType(s)||o===this.plugins&&s.id?this._exec(t,o,s):st(s,r=>{const a=i||this._getRegistryForType(r);this._exec(t,a,r)})})}_exec(t,n,i){const s=Ia(t);at(i["before"+s],[],i),n[t](i),at(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Re=new C_;class E_{constructor(){this._init=void 0}notify(t,n,i,s){if(n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=s?this._descriptors(t).filter(s):this._descriptors(t),r=this._notify(o,t,n,i);return n==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),r}_notify(t,n,i,s){s=s||{};for(const o of t){const r=o.plugin,a=r[i],l=[n,s,o.options];if(at(a,l,r)===!1&&s.cancelable)return!1}return!0}invalidate(){$(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=j(i.options&&i.options.plugins,{}),o=P_(i);return s===!1&&!n?[]:T_(t,o,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(o,r)=>o.filter(a=>!r.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function P_(e){const t={},n=[],i=Object.keys(Re.plugins.items);for(let o=0;o<i.length;o++)n.push(Re.getPlugin(i[o]));const s=e.plugins||[];for(let o=0;o<s.length;o++){const r=s[o];n.indexOf(r)===-1&&(n.push(r),t[r.id]=!0)}return{plugins:n,localIds:t}}function D_(e,t){return!t&&e===!1?null:e===!0?{}:e}function T_(e,{plugins:t,localIds:n},i,s){const o=[],r=e.getContext();for(const a of t){const l=a.id,c=D_(i[l],s);c!==null&&o.push({plugin:a,options:I_(e.config,{plugin:a,local:n[l]},c,r)})}return o}function I_(e,{plugin:t,local:n},i,s){const o=e.pluginScopeKeys(t),r=e.getOptionScopes(i,o);return n&&t.defaults&&r.push(t.defaults),e.createResolver(r,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Zr(e,t){const n=pt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function O_(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function R_(e,t){return e===t?"_index_":"_value_"}function Ac(e){if(e==="x"||e==="y"||e==="r")return e}function L_(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Kr(e,...t){if(Ac(e))return e;for(const n of t){const i=n.axis||L_(n.position)||e.length>1&&Ac(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function kc(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function B_(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return kc(e,"x",n[0])||kc(e,"y",n[0])}return{}}function F_(e,t){const n=ei[e.type]||{scales:{}},i=t.scales||{},s=Zr(e.type,t),o=Object.create(null);return Object.keys(i).forEach(r=>{const a=i[r];if(!X(a))return console.error(`Invalid scale configuration for scale: ${r}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const l=Kr(r,a,B_(r,e),pt.scales[a.type]),c=R_(l,s),u=n.scales||{};o[r]=us(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(r=>{const a=r.type||e.type,l=r.indexAxis||Zr(a,t),u=(ei[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=O_(h,l),f=r[d+"AxisID"]||d;o[f]=o[f]||Object.create(null),us(o[f],[{axis:d},i[f],u[h]])})}),Object.keys(o).forEach(r=>{const a=o[r];us(a,[pt.scales[a.type],pt.scale])}),o}function Zh(e){const t=e.options||(e.options={});t.plugins=j(t.plugins,{}),t.scales=F_(e,t)}function Kh(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function z_(e){return e=e||{},e.data=Kh(e.data),Zh(e),e}const Sc=new Map,Jh=new Set;function ro(e,t){let n=Sc.get(e);return n||(n=t(),Sc.set(e,n),Jh.add(n)),n}const Gi=(e,t,n)=>{const i=kn(t,n);i!==void 0&&e.add(i)};class N_{constructor(t){this._config=z_(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Kh(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Zh(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ro(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return ro(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return ro(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return ro(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:o}=this,r=this._cachedScopes(t,i),a=r.get(n);if(a)return a;const l=new Set;n.forEach(u=>{t&&(l.add(t),u.forEach(h=>Gi(l,t,h))),u.forEach(h=>Gi(l,s,h)),u.forEach(h=>Gi(l,ei[o]||{},h)),u.forEach(h=>Gi(l,pt,h)),u.forEach(h=>Gi(l,$r,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Jh.has(n)&&r.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,ei[n]||{},pt.datasets[n]||{},{type:n},pt,$r]}resolveNamedOptions(t,n,i,s=[""]){const o={$shared:!0},{resolver:r,subPrefixes:a}=Mc(this._resolverCache,t,s);let l=r;if(H_(r,n)){o.$shared=!1,i=Sn(i)?i():i;const c=this.createResolver(t,i,a);l=Bi(r,i,c)}for(const c of n)o[c]=l[c];return o}createResolver(t,n,i=[""],s){const{resolver:o}=Mc(this._resolverCache,t,i);return X(n)?Bi(o,n,void 0,s):o}}function Mc(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let o=i.get(s);return o||(o={resolver:za(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,o)),o}const W_=e=>X(e)&&Object.getOwnPropertyNames(e).some(t=>Sn(e[t]));function H_(e,t){const{isScriptable:n,isIndexable:i}=Dh(e);for(const s of t){const o=n(s),r=i(s),a=(r||o)&&e[s];if(o&&(Sn(a)||W_(a))||r&&ft(a))return!0}return!1}var V_="4.5.1";const j_=["top","bottom","left","right","chartArea"];function Cc(e,t){return e==="top"||e==="bottom"||j_.indexOf(e)===-1&&t==="x"}function Ec(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function Pc(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),at(n&&n.onComplete,[e],t)}function q_(e){const t=e.chart,n=t.options.animation;at(n&&n.onProgress,[e],t)}function Qh(e){return Ha()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const ko={},Dc=e=>{const t=Qh(e);return Object.values(ko).filter(n=>n.canvas===t).pop()};function Y_(e,t,n){const i=Object.keys(e);for(const s of i){const o=+s;if(o>=t){const r=e[s];delete e[s],(n>0||o>t)&&(e[o+n]=r)}}}function U_(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}class ze{static register(...t){Re.add(...t),Tc()}static unregister(...t){Re.remove(...t),Tc()}constructor(t,n){const i=this.config=new N_(n),s=Qh(t),o=Dc(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const r=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||u_(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,r.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=$m(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new E_,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=uv(h=>this.update(h),r.resizeDelay||0),this._dataChanges=[],ko[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ke.listen(this,"complete",Pc),Ke.listen(this,"progress",q_),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:o}=this;return $(t)?n&&o?o:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Re}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ql(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Zl(this.canvas,this.ctx),this}stop(){return Ke.stop(this),this}resize(t,n){Ke.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(s,t,n,o),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,Ql(this,a,!0)&&(this.notifyPlugins("resize",{size:r}),at(i.onResize,[this,r],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};st(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((r,a)=>(r[a]=!1,r),{});let o=[];n&&(o=o.concat(Object.keys(n).map(r=>{const a=n[r],l=Kr(r,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),st(o,r=>{const a=r.options,l=a.id,c=Kr(l,a),u=j(a.type,r.dtype);(a.position===void 0||Cc(a.position,c)!==Cc(r.dposition))&&(a.position=r.dposition),s[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const d=Re.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,t)}),st(s,(r,a)=>{r||delete i[a]}),st(i,r=>{zt.configure(this,r,r.options),zt.addBox(this,r)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,o)=>s.index-o.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(Ec("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const o=n[i];let r=this.getDatasetMeta(i);const a=o.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(i),r=this.getDatasetMeta(i)),r.type=a,r.indexAxis=o.indexAxis||Zr(a,this.options),r.order=o.order||0,r.index=i,r.label=""+o.label,r.visible=this.isDatasetVisible(i),r.controller)r.controller.updateIndex(i),r.controller.linkScales();else{const l=Re.getController(a),{datasetElementType:c,dataElementType:u}=pt.datasets[a];Object.assign(l,{dataElementType:Re.getElement(u),datasetElementType:c&&Re.getElement(c)}),r.controller=new l(this,i),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){st(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!s&&o.indexOf(h)===-1;h.buildOrUpdateElements(d),r=Math.max(+h.getMaxOverflow(),r)}r=this._minPadding=i.layout.autoPadding?r:0,this._updateLayout(r),s||st(o,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Ec("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){st(this.scales,t=>{zt.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Hl(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:o}of n){const r=i==="_removeElements"?-o:o;Y_(t,s,r)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=o=>new Set(t.filter(r=>r[0]===o).map((r,a)=>a+","+r.splice(1).join(","))),s=i(0);for(let o=1;o<n;o++)if(!Hl(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;zt.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],st(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Sn(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ke.has(this)?this.attached&&!Ke.running(this)&&Ke.start(this):(this.draw(),Pc({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,o;for(s=0,o=n.length;s<o;++s){const r=n[s];(!t||r.visible)&&i.push(r)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=Hh(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&sr(n,s),t.controller.draw(),s&&or(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return on(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const o=jb.modes[n];return typeof o=="function"?o(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(o=>o&&o._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Mn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",o=this.getDatasetMeta(t),r=o.controller._resolveAnimations(void 0,s);Ss(n)?(o.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),r.update(o,{visible:i}),this.update(a=>a.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Ke.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Zl(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete ko[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(o,r)=>{n.addEventListener(this,o,r),t[o]=r},s=(o,r,a)=>{o.offsetX=r,o.offsetY=a,this._eventHandler(o)};st(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},s=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},o=(l,c)=>{this.canvas&&this.resize(l,c)};let r;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",o),i("detach",r)};r=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():r()}unbindEvents(){st(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},st(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let o,r,a,l;for(n==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){r=t[a];const c=r&&this.getDatasetMeta(r.datasetIndex).controller;c&&c[s+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:o,index:r})=>{const a=this.getDatasetMeta(o);if(!a)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:a.data[r],index:r}});!Fo(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,o=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),r=o(n,t),a=i?t:o(t,n);r.length&&this.updateHoverStyle(r,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=r=>(r.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const o=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:o}=this,r=n,a=this._getActiveElements(t,s,i,r),l=Qm(t),c=U_(t,this._lastEvent,i,l);i&&(this._lastEvent=null,at(o.onHover,[t,a,this],this),l&&at(o.onClick,[t,a,this],this));const u=!Fo(a,s);return(u||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,u}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}}P(ze,"defaults",pt),P(ze,"instances",ko),P(ze,"overrides",ei),P(ze,"registry",Re),P(ze,"version",V_),P(ze,"getChart",Dc);function Tc(){return st(ze.instances,e=>e._plugins.invalidate())}function $_(e,t,n){const{startAngle:i,x:s,y:o,outerRadius:r,innerRadius:a,options:l}=t,{borderWidth:c,borderJoinStyle:u}=l,h=Math.min(c/r,Ft(i-n));if(e.beginPath(),e.arc(s,o,r-c/2,i+h/2,n-h/2),a>0){const d=Math.min(c/a,Ft(i-n));e.arc(s,o,a+c/2,n-d/2,i+d/2,!0)}else{const d=Math.min(c/2,r*Ft(i-n));if(u==="round")e.arc(s,o,d,n-tt/2,i+tt/2,!0);else if(u==="bevel"){const f=2*d*d,p=-f*Math.cos(n+tt/2)+s,g=-f*Math.sin(n+tt/2)+o,v=f*Math.cos(i+tt/2)+s,b=f*Math.sin(i+tt/2)+o;e.lineTo(p,g),e.lineTo(v,b)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function X_(e,t,n){const{startAngle:i,pixelMargin:s,x:o,y:r,outerRadius:a,innerRadius:l}=t;let c=s/a;e.beginPath(),e.arc(o,r,a,i-c,n+c),l>s?(c=s/l,e.arc(o,r,l,n+c,i-c,!0)):e.arc(o,r,s,n+wt,i-wt),e.closePath(),e.clip()}function G_(e){return Fa(e,["outerStart","outerEnd","innerStart","innerEnd"])}function Z_(e,t,n,i){const s=G_(e.options.borderRadius),o=(n-t)/2,r=Math.min(o,i*t/2),a=l=>{const c=(n-Math.min(o,l))*i/2;return Pt(l,0,Math.min(o,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:Pt(s.innerStart,0,r),innerEnd:Pt(s.innerEnd,0,r)}}function di(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function jo(e,t,n,i,s,o){const{x:r,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+i+n-c,0),d=u>0?u+i+n+c:0;let f=0;const p=s-l;if(i){const W=u>0?u-i:0,S=h>0?h-i:0,M=(W+S)/2,R=M!==0?p*M/(M+i):p;f=(p-R)/2}const g=Math.max(.001,p*h-n/tt)/h,v=(p-g)/2,b=l+v+f,_=s-v-f,{outerStart:x,outerEnd:w,innerStart:y,innerEnd:A}=Z_(t,d,h,_-b),k=h-x,C=h-w,T=b+x/k,B=_-w/C,F=d+y,z=d+A,J=b+y/F,ot=_-A/z;if(e.beginPath(),o){const W=(T+B)/2;if(e.arc(r,a,h,T,W),e.arc(r,a,h,W,B),w>0){const I=di(C,B,r,a);e.arc(I.x,I.y,w,B,_+wt)}const S=di(z,_,r,a);if(e.lineTo(S.x,S.y),A>0){const I=di(z,ot,r,a);e.arc(I.x,I.y,A,_+wt,ot+Math.PI)}const M=(_-A/d+(b+y/d))/2;if(e.arc(r,a,d,_-A/d,M,!0),e.arc(r,a,d,M,b+y/d,!0),y>0){const I=di(F,J,r,a);e.arc(I.x,I.y,y,J+Math.PI,b-wt)}const R=di(k,b,r,a);if(e.lineTo(R.x,R.y),x>0){const I=di(k,T,r,a);e.arc(I.x,I.y,x,b-wt,T)}}else{e.moveTo(r,a);const W=Math.cos(T)*h+r,S=Math.sin(T)*h+a;e.lineTo(W,S);const M=Math.cos(B)*h+r,R=Math.sin(B)*h+a;e.lineTo(M,R)}e.closePath()}function K_(e,t,n,i,s){const{fullCircles:o,startAngle:r,circumference:a}=t;let l=t.endAngle;if(o){jo(e,t,n,i,l,s);for(let c=0;c<o;++c)e.fill();isNaN(a)||(l=r+(a%ct||ct))}return jo(e,t,n,i,l,s),e.fill(),l}function J_(e,t,n,i,s){const{fullCircles:o,startAngle:r,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d,borderRadius:f}=l,p=l.borderAlign==="inner";if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=d,p?(e.lineWidth=c*2,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let g=t.endAngle;if(o){jo(e,t,n,i,g,s);for(let v=0;v<o;++v)e.stroke();isNaN(a)||(g=r+(a%ct||ct))}p&&X_(e,t,g),l.selfJoin&&g-r>=tt&&f===0&&u!=="miter"&&$_(e,t,g),o||(jo(e,t,n,i,g,s),e.stroke())}class ss extends cn{constructor(n){super();P(this,"circumference");P(this,"endAngle");P(this,"fullCircles");P(this,"innerRadius");P(this,"outerRadius");P(this,"pixelMargin");P(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const o=this.getProps(["x","y"],s),{angle:r,distance:a}=xh(o,{x:n,y:i}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:h,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),f=(this.options.spacing+this.options.borderWidth)/2,p=j(d,c-l),g=Ms(r,l,c)&&l!==c,v=p>=ct||g,b=nn(a,u+f,h+f);return v&&b}getCenterPoint(n){const{x:i,y:s,startAngle:o,endAngle:r,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,h=(o+r)/2,d=(a+l+u+c)/2;return{x:i+Math.cos(h)*d,y:s+Math.sin(h)*d}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,o=(i.offset||0)/4,r=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>ct?Math.floor(s/ct):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*o,Math.sin(l)*o);const c=1-Math.sin(Math.min(tt,s||0)),u=o*c;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,K_(n,this,u,r,a),J_(n,this,u,r,a),n.restore()}}P(ss,"id","arc"),P(ss,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),P(ss,"defaultRoutes",{backgroundColor:"backgroundColor"}),P(ss,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function td(e,t,n=t){e.lineCap=j(n.borderCapStyle,t.borderCapStyle),e.setLineDash(j(n.borderDash,t.borderDash)),e.lineDashOffset=j(n.borderDashOffset,t.borderDashOffset),e.lineJoin=j(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=j(n.borderWidth,t.borderWidth),e.strokeStyle=j(n.borderColor,t.borderColor)}function Q_(e,t,n){e.lineTo(n.x,n.y)}function tx(e){return e.stepped?wv:e.tension||e.cubicInterpolationMode==="monotone"?Av:Q_}function ed(e,t,n={}){const i=e.length,{start:s=0,end:o=i-1}=n,{start:r,end:a}=t,l=Math.max(s,r),c=Math.min(o,a),u=s<r&&o<r||s>a&&o>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!u?i+c-l:c-l}}function ex(e,t,n,i){const{points:s,options:o}=t,{count:r,start:a,loop:l,ilen:c}=ed(s,n,i),u=tx(o);let{move:h=!0,reverse:d}=i||{},f,p,g;for(f=0;f<=c;++f)p=s[(a+(d?c-f:f))%r],!p.skip&&(h?(e.moveTo(p.x,p.y),h=!1):u(e,g,p,d,o.stepped),g=p);return l&&(p=s[(a+(d?c:0))%r],u(e,g,p,d,o.stepped)),!!l}function nx(e,t,n,i){const s=t.points,{count:o,start:r,ilen:a}=ed(s,n,i),{move:l=!0,reverse:c}=i||{};let u=0,h=0,d,f,p,g,v,b;const _=w=>(r+(c?a-w:w))%o,x=()=>{g!==v&&(e.lineTo(u,v),e.lineTo(u,g),e.lineTo(u,b))};for(l&&(f=s[_(0)],e.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=s[_(d)],f.skip)continue;const w=f.x,y=f.y,A=w|0;A===p?(y<g?g=y:y>v&&(v=y),u=(h*u+w)/++h):(x(),e.lineTo(w,y),p=A,h=0,g=v=y),b=y}x()}function Jr(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?nx:ex}function ix(e){return e.stepped?eb:e.tension||e.cubicInterpolationMode==="monotone"?nb:Bn}function sx(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),td(e,t.options),e.stroke(s)}function ox(e,t,n,i){const{segments:s,options:o}=t,r=Jr(t);for(const a of s)td(e,o,a.style),e.beginPath(),r(e,t,a,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const rx=typeof Path2D=="function";function ax(e,t,n,i){rx&&!t.options.segment?sx(e,t,n,i):ox(e,t,n,i)}class xn extends cn{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;$v(this._points,i,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=lb(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,s=t[n],o=this.points,r=Wh(this,{property:n,start:s,end:s});if(!r.length)return;const a=[],l=ix(i);let c,u;for(c=0,u=r.length;c<u;++c){const{start:h,end:d}=r[c],f=o[h],p=o[d];if(f===p){a.push(f);continue}const g=Math.abs((s-f[n])/(p[n]-f[n])),v=l(f,p,g,i.stepped);v[n]=t[n],a.push(v)}return a.length===1?a[0]:a}pathSegment(t,n,i){return Jr(this)(t,this,n,i)}path(t,n,i){const s=this.segments,o=Jr(this);let r=this._loop;n=n||0,i=i||this.points.length-n;for(const a of s)r&=o(t,this,a,{start:n,end:n+i-1});return!!r}draw(t,n,i,s){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),ax(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}P(xn,"id","line"),P(xn,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),P(xn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),P(xn,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Ic(e,t,n,i){const s=e.options,{[n]:o}=e.getProps([n],i);return Math.abs(t-o)<s.radius+s.hitRadius}class So extends cn{constructor(n){super();P(this,"parsed");P(this,"skip");P(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const o=this.options,{x:r,y:a}=this.getProps(["x","y"],s);return Math.pow(n-r,2)+Math.pow(i-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(n,i){return Ic(this,n,"x",i)}inYRange(n,i){return Ic(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!on(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,Xr(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}P(So,"id","point"),P(So,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),P(So,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function nd(e,t){const{x:n,y:i,base:s,width:o,height:r}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return e.horizontal?(h=r/2,a=Math.min(n,s),l=Math.max(n,s),c=i-h,u=i+h):(h=o/2,a=n-h,l=n+h,c=Math.min(i,s),u=Math.max(i,s)),{left:a,top:c,right:l,bottom:u}}function yn(e,t,n,i){return e?0:Pt(t,n,i)}function lx(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,o=Ph(i);return{t:yn(s.top,o.top,0,n),r:yn(s.right,o.right,0,t),b:yn(s.bottom,o.bottom,0,n),l:yn(s.left,o.left,0,t)}}function cx(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,o=Xn(s),r=Math.min(t,n),a=e.borderSkipped,l=i||X(s);return{topLeft:yn(!l||a.top||a.left,o.topLeft,0,r),topRight:yn(!l||a.top||a.right,o.topRight,0,r),bottomLeft:yn(!l||a.bottom||a.left,o.bottomLeft,0,r),bottomRight:yn(!l||a.bottom||a.right,o.bottomRight,0,r)}}function ux(e){const t=nd(e),n=t.right-t.left,i=t.bottom-t.top,s=lx(e,n/2,i/2),o=cx(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:o},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,o.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(s.b,s.r))}}}}function kr(e,t,n,i){const s=t===null,o=n===null,a=e&&!(s&&o)&&nd(e,i);return a&&(s||nn(t,a.left,a.right))&&(o||nn(n,a.top,a.bottom))}function hx(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function dx(e,t){e.rect(t.x,t.y,t.w,t.h)}function Sr(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-i,r=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+o,h:e.h+r,radius:e.radius}}class Mo extends cn{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:o,outer:r}=ux(this),a=hx(r.radius)?Cs:dx;t.save(),(r.w!==o.w||r.h!==o.h)&&(t.beginPath(),a(t,Sr(r,n,o)),t.clip(),a(t,Sr(o,-n,r)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,Sr(o,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return kr(this,t,n,i)}inXRange(t,n){return kr(this,t,null,n)}inYRange(t,n){return kr(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(n+s)/2:n,y:o?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}P(Mo,"id","bar"),P(Mo,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),P(Mo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var fx=Object.freeze({__proto__:null,ArcElement:ss,BarElement:Mo,LineElement:xn,PointElement:So});const Qr=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Oc=Qr.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function id(e){return Qr[e%Qr.length]}function sd(e){return Oc[e%Oc.length]}function px(e,t){return e.borderColor=id(t),e.backgroundColor=sd(t),++t}function gx(e,t){return e.backgroundColor=e.data.map(()=>id(t++)),t}function mx(e,t){return e.backgroundColor=e.data.map(()=>sd(t++)),t}function vx(e){let t=0;return(n,i)=>{const s=e.getDatasetMeta(i).controller;s instanceof zn?t=gx(n,t):s instanceof ps?t=mx(n,t):s&&(t=px(n,t))}}function Rc(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function bx(e){return e&&(e.borderColor||e.backgroundColor)}function _x(){return pt.borderColor!=="rgba(0,0,0,0.1)"||pt.backgroundColor!=="rgba(0,0,0,0.1)"}var xx={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=e.config,{elements:o}=s,r=Rc(i)||bx(s)||o&&Rc(o)||_x();if(!n.forceOverride&&r)return;const a=vx(e);i.forEach(a)}};function yx(e,t,n,i,s){const o=s.samples||i;if(o>=n)return e.slice(t,t+n);const r=[],a=(n-2)/(o-2);let l=0;const c=t+n-1;let u=t,h,d,f,p,g;for(r[l++]=e[u],h=0;h<o-2;h++){let v=0,b=0,_;const x=Math.floor((h+1)*a)+1+t,w=Math.min(Math.floor((h+2)*a)+1,n)+t,y=w-x;for(_=x;_<w;_++)v+=e[_].x,b+=e[_].y;v/=y,b/=y;const A=Math.floor(h*a)+1+t,k=Math.min(Math.floor((h+1)*a)+1,n)+t,{x:C,y:T}=e[u];for(f=p=-1,_=A;_<k;_++)p=.5*Math.abs((C-v)*(e[_].y-T)-(C-e[_].x)*(b-T)),p>f&&(f=p,d=e[_],g=_);r[l++]=d,u=g}return r[l++]=e[c],r}function wx(e,t,n,i){let s=0,o=0,r,a,l,c,u,h,d,f,p,g;const v=[],b=t+n-1,_=e[t].x,w=e[b].x-_;for(r=t;r<t+n;++r){a=e[r],l=(a.x-_)/w*i,c=a.y;const y=l|0;if(y===u)c<p?(p=c,h=r):c>g&&(g=c,d=r),s=(o*s+a.x)/++o;else{const A=r-1;if(!$(h)&&!$(d)){const k=Math.min(h,d),C=Math.max(h,d);k!==f&&k!==A&&v.push({...e[k],x:s}),C!==f&&C!==A&&v.push({...e[C],x:s})}r>0&&A!==f&&v.push(e[A]),v.push(a),u=y,o=0,p=g=c,h=d=f=r}}return v}function od(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Lc(e){e.data.datasets.forEach(t=>{od(t)})}function Ax(e,t){const n=t.length;let i=0,s;const{iScale:o}=e,{min:r,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(i=Pt(sn(t,o.axis,r).lo,0,n-1)),c?s=Pt(sn(t,o.axis,a).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var kx={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){Lc(e);return}const i=e.width;e.data.datasets.forEach((s,o)=>{const{_data:r,indexAxis:a}=s,l=e.getDatasetMeta(o),c=r||s.data;if(ns([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=e.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:h,count:d}=Ax(l,c);const f=n.threshold||4*i;if(d<=f){od(s);return}$(r)&&(s._data=c,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(n.algorithm){case"lttb":p=yx(c,h,d,i,n);break;case"min-max":p=wx(c,h,d,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=p})},destroy(e){Lc(e)}};function Sx(e,t,n){const i=e.segments,s=e.points,o=t.points,r=[];for(const a of i){let{start:l,end:c}=a;c=lr(l,c,s);const u=ta(n,s[l],s[c],a.loop);if(!t.segments){r.push({source:a,target:u,start:s[l],end:s[c]});continue}const h=Wh(t,u);for(const d of h){const f=ta(n,o[d.start],o[d.end],d.loop),p=Nh(a,s,f);for(const g of p)r.push({source:g,target:d,start:{[n]:Bc(u,f,"start",Math.max)},end:{[n]:Bc(u,f,"end",Math.min)}})}}return r}function ta(e,t,n,i){if(i)return;let s=t[e],o=n[e];return e==="angle"&&(s=Ft(s),o=Ft(o)),{property:e,start:s,end:o}}function Mx(e,t){const{x:n=null,y:i=null}=e||{},s=t.points,o=[];return t.segments.forEach(({start:r,end:a})=>{a=lr(r,a,s);const l=s[r],c=s[a];i!==null?(o.push({x:l.x,y:i}),o.push({x:c.x,y:i})):n!==null&&(o.push({x:n,y:l.y}),o.push({x:n,y:c.y}))}),o}function lr(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function Bc(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function rd(e,t){let n=[],i=!1;return ft(e)?(i=!0,n=e):n=Mx(e,t),n.length?new xn({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function Fc(e){return e&&e.fill!==!1}function Cx(e,t,n){let s=e[t].fill;const o=[t];let r;if(!n)return s;for(;s!==!1&&o.indexOf(s)===-1;){if(!_t(s))return s;if(r=e[s],!r)return!1;if(r.visible)return s;o.push(s),s=r.fill}return!1}function Ex(e,t,n){const i=Ix(e);if(X(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return _t(s)&&Math.floor(s)===s?Px(i[0],t,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Px(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function Dx(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:X(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function Tx(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:X(e)?i=e.value:i=t.getBaseValue(),i}function Ix(e){const t=e.options,n=t.fill;let i=j(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Ox(e){const{scale:t,index:n,line:i}=e,s=[],o=i.segments,r=i.points,a=Rx(t,n);a.push(rd({x:null,y:t.bottom},i));for(let l=0;l<o.length;l++){const c=o[l];for(let u=c.start;u<=c.end;u++)Lx(s,r[u],a)}return new xn({points:s,options:{}})}function Rx(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const o=i[s];if(o.index===t)break;o.hidden||n.unshift(o.dataset)}return n}function Lx(e,t,n){const i=[];for(let s=0;s<n.length;s++){const o=n[s],{first:r,last:a,point:l}=Bx(o,t,"x");if(!(!l||r&&a)){if(r)i.unshift(l);else if(e.push(l),!a)break}}e.push(...i)}function Bx(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const s=i[n],o=e.segments,r=e.points;let a=!1,l=!1;for(let c=0;c<o.length;c++){const u=o[c],h=r[u.start][n],d=r[u.end][n];if(nn(s,h,d)){a=s===h,l=s===d;break}}return{first:a,last:l,point:i}}class ad{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:s,y:o,radius:r}=this;return n=n||{start:0,end:ct},t.arc(s,o,r,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:s}=this,o=t.angle;return{x:n+Math.cos(o)*s,y:i+Math.sin(o)*s,angle:o}}}function Fx(e){const{chart:t,fill:n,line:i}=e;if(_t(n))return zx(t,n);if(n==="stack")return Ox(e);if(n==="shape")return!0;const s=Nx(e);return s instanceof ad?s:rd(s,i)}function zx(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function Nx(e){return(e.scale||{}).getPointPositionForValue?Hx(e):Wx(e)}function Wx(e){const{scale:t={},fill:n}=e,i=Dx(n,t);if(_t(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function Hx(e){const{scale:t,fill:n}=e,i=t.options,s=t.getLabels().length,o=i.reverse?t.max:t.min,r=Tx(n,t,o),a=[];if(i.grid.circular){const l=t.getPointPositionForValue(0,o);return new ad({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(r)})}for(let l=0;l<s;++l)a.push(t.getPointPositionForValue(l,r));return a}function Mr(e,t,n){const i=Fx(t),{chart:s,index:o,line:r,scale:a,axis:l}=t,c=r.options,u=c.fill,h=c.backgroundColor,{above:d=h,below:f=h}=u||{},p=s.getDatasetMeta(o),g=Hh(s,p);i&&r.points.length&&(sr(e,n),Vx(e,{line:r,target:i,above:d,below:f,area:n,scale:a,axis:l,clip:g}),or(e))}function Vx(e,t){const{line:n,target:i,above:s,below:o,area:r,scale:a,clip:l}=t,c=n._loop?"angle":t.axis;e.save();let u=o;o!==s&&(c==="x"?(zc(e,i,r.top),Cr(e,{line:n,target:i,color:s,scale:a,property:c,clip:l}),e.restore(),e.save(),zc(e,i,r.bottom)):c==="y"&&(Nc(e,i,r.left),Cr(e,{line:n,target:i,color:o,scale:a,property:c,clip:l}),e.restore(),e.save(),Nc(e,i,r.right),u=s)),Cr(e,{line:n,target:i,color:u,scale:a,property:c,clip:l}),e.restore()}function zc(e,t,n){const{segments:i,points:s}=t;let o=!0,r=!1;e.beginPath();for(const a of i){const{start:l,end:c}=a,u=s[l],h=s[lr(l,c,s)];o?(e.moveTo(u.x,u.y),o=!1):(e.lineTo(u.x,n),e.lineTo(u.x,u.y)),r=!!t.pathSegment(e,a,{move:r}),r?e.closePath():e.lineTo(h.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Nc(e,t,n){const{segments:i,points:s}=t;let o=!0,r=!1;e.beginPath();for(const a of i){const{start:l,end:c}=a,u=s[l],h=s[lr(l,c,s)];o?(e.moveTo(u.x,u.y),o=!1):(e.lineTo(n,u.y),e.lineTo(u.x,u.y)),r=!!t.pathSegment(e,a,{move:r}),r?e.closePath():e.lineTo(n,h.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function Cr(e,t){const{line:n,target:i,property:s,color:o,scale:r,clip:a}=t,l=Sx(n,i,s);for(const{source:c,target:u,start:h,end:d}of l){const{style:{backgroundColor:f=o}={}}=c,p=i!==!0;e.save(),e.fillStyle=f,jx(e,r,a,p&&ta(s,h,d)),e.beginPath();const g=!!n.pathSegment(e,c);let v;if(p){g?e.closePath():Wc(e,i,d,s);const b=!!i.pathSegment(e,u,{move:g,reverse:!0});v=g&&b,v||Wc(e,i,h,s)}e.closePath(),e.fill(v?"evenodd":"nonzero"),e.restore()}}function jx(e,t,n,i){const s=t.chart.chartArea,{property:o,start:r,end:a}=i||{};if(o==="x"||o==="y"){let l,c,u,h;o==="x"?(l=r,c=s.top,u=a,h=s.bottom):(l=s.left,c=r,u=s.right,h=a),e.beginPath(),n&&(l=Math.max(l,n.left),u=Math.min(u,n.right),c=Math.max(c,n.top),h=Math.min(h,n.bottom)),e.rect(l,c,u-l,h-c),e.clip()}}function Wc(e,t,n,i){const s=t.interpolate(n,i);s&&e.lineTo(s.x,s.y)}var qx={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,s=[];let o,r,a,l;for(r=0;r<i;++r)o=e.getDatasetMeta(r),a=o.dataset,l=null,a&&a.options&&a instanceof xn&&(l={visible:e.isDatasetVisible(r),index:r,fill:Ex(a,r,i),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,s.push(l);for(r=0;r<i;++r)l=s[r],!(!l||l.fill===!1)&&(l.fill=Cx(s,r,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let r=s.length-1;r>=0;--r){const a=s[r].$filler;a&&(a.line.updateControlPoints(o,a.axis),i&&a.fill&&Mr(e.ctx,a,o))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const o=i[s].$filler;Fc(o)&&Mr(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!Fc(i)||n.drawTime!=="beforeDatasetDraw"||Mr(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Hc=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},Yx=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Vc extends cn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=at(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=Ct(i.font),o=s.size,r=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Hc(i,o);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(r,o,a,l)+10):(u=this.maxHeight,c=this._fitCols(r,s,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:o,maxWidth:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+a;let h=t;o.textAlign="left",o.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((p,g)=>{const v=i+n/2+o.measureText(p.text).width;(g===0||c[c.length-1]+v+2*a>r)&&(h+=u,c[c.length-(g>0?0:1)]=0,f+=u,d++),l[g]={left:0,top:f,row:d,width:v,height:s},c[c.length-1]+=v+a}),h}_fitCols(t,n,i,s){const{ctx:o,maxHeight:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=r-t;let h=a,d=0,f=0,p=0,g=0;return this.legendItems.forEach((v,b)=>{const{itemWidth:_,itemHeight:x}=Ux(i,n,o,v,s);b>0&&f+x+2*a>u&&(h+=d+a,c.push({width:d,height:f}),p+=d+a,g++,d=f=0),l[b]={left:p,top:f,col:g,width:_,height:x},d=Math.max(d,_),f+=x+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:o}}=this,r=xi(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=Bt(i,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Bt(i,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+t+s,c.left=r.leftForLtr(r.x(l),c.width),l+=c.width+s}else{let a=0,l=Bt(i,this.top+t+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Bt(i,this.top+t+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=r.leftForLtr(r.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;sr(t,this),this._draw(),or(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:o,labels:r}=t,a=pt.color,l=xi(t.rtl,this.left,this.width),c=Ct(r.font),{padding:u}=r,h=c.size,d=h/2;let f;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:v}=Hc(r,h),b=function(A,k,C){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;s.save();const T=j(C.lineWidth,1);if(s.fillStyle=j(C.fillStyle,a),s.lineCap=j(C.lineCap,"butt"),s.lineDashOffset=j(C.lineDashOffset,0),s.lineJoin=j(C.lineJoin,"miter"),s.lineWidth=T,s.strokeStyle=j(C.strokeStyle,a),s.setLineDash(j(C.lineDash,[])),r.usePointStyle){const B={radius:g*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:T},F=l.xPlus(A,p/2),z=k+d;Eh(s,B,F,z,r.pointStyleWidth&&p)}else{const B=k+Math.max((h-g)/2,0),F=l.leftForLtr(A,p),z=Xn(C.borderRadius);s.beginPath(),Object.values(z).some(J=>J!==0)?Cs(s,{x:F,y:B,w:p,h:g,radius:z}):s.rect(F,B,p,g),s.fill(),T!==0&&s.stroke()}s.restore()},_=function(A,k,C){ni(s,C.text,A,k+v/2,c,{strikethrough:C.hidden,textAlign:l.textAlign(C.textAlign)})},x=this.isHorizontal(),w=this._computeTitleHeight();x?f={x:Bt(o,this.left+u,this.right-i[0]),y:this.top+u+w,line:0}:f={x:this.left+u,y:Bt(o,this.top+w+u,this.bottom-n[0].height),line:0},Bh(this.ctx,t.textDirection);const y=v+u;this.legendItems.forEach((A,k)=>{s.strokeStyle=A.fontColor,s.fillStyle=A.fontColor;const C=s.measureText(A.text).width,T=l.textAlign(A.textAlign||(A.textAlign=r.textAlign)),B=p+d+C;let F=f.x,z=f.y;l.setWidth(this.width),x?k>0&&F+B+u>this.right&&(z=f.y+=y,f.line++,F=f.x=Bt(o,this.left+u,this.right-i[f.line])):k>0&&z+y>this.bottom&&(F=f.x=F+n[f.line].width+u,f.line++,z=f.y=Bt(o,this.top+w+u,this.bottom-n[f.line].height));const J=l.x(F);if(b(J,z,A),F=hv(T,F+p+d,x?F+B:this.right,t.rtl),_(l.x(F),z,A),x)f.x+=B+u;else if(typeof A.text!="string"){const ot=c.lineHeight;f.y+=ld(A,ot)+u}else f.y+=y}),Fh(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=Ct(n.font),s=Wt(n.padding);if(!n.display)return;const o=xi(t.rtl,this.left,this.width),r=this.ctx,a=n.position,l=i.size/2,c=s.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=Bt(t.align,h,this.right-d);else{const p=this.columnSizes.reduce((g,v)=>Math.max(g,v.height),0);u=c+Bt(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}const f=Bt(a,h,h+d);r.textAlign=o.textAlign(La(a)),r.textBaseline="middle",r.strokeStyle=n.color,r.fillStyle=n.color,r.font=i.string,ni(r,n.text,f,u,i)}_computeTitleHeight(){const t=this.options.title,n=Ct(t.font),i=Wt(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,o;if(nn(t,this.left,this.right)&&nn(n,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(s=o[i],nn(t,s.left,s.left+s.width)&&nn(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!Gx(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,o=Yx(s,i);s&&!o&&at(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!o&&at(n.onHover,[t,i,this],this)}else i&&at(n.onClick,[t,i,this],this)}}function Ux(e,t,n,i,s){const o=$x(i,e,t,n),r=Xx(s,i,t.lineHeight);return{itemWidth:o,itemHeight:r}}function $x(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((o,r)=>o.length>r.length?o:r)),t+n.size/2+i.measureText(s).width}function Xx(e,t,n){let i=e;return typeof t.text!="string"&&(i=ld(t,n)),i}function ld(e,t){const n=e.text?e.text.length:0;return t*n}function Gx(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Zx={id:"legend",_element:Vc,start(e,t,n){const i=e.legend=new Vc({ctx:e.ctx,options:n,chart:e});zt.configure(e,i,n),zt.addBox(e,i)},stop(e){zt.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;zt.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:o,useBorderRadius:r,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Wt(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:r&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class qa extends cn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=ft(i.text)?i.text.length:1;this._padding=Wt(i.padding);const o=s*Ct(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:o,options:r}=this,a=r.align;let l=0,c,u,h;return this.isHorizontal()?(u=Bt(a,i,o),h=n+t,c=o-i):(r.position==="left"?(u=i+t,h=Bt(a,s,n),l=tt*-.5):(u=o-t,h=Bt(a,n,s),l=tt*.5),c=s-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=Ct(n.font),o=i.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);ni(t,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:La(n.align),textBaseline:"middle",translation:[r,a]})}}function Kx(e,t){const n=new qa({ctx:e.ctx,options:t,chart:e});zt.configure(e,n,t),zt.addBox(e,n),e.titleBlock=n}var Jx={id:"title",_element:qa,start(e,t,n){Kx(e,n)},stop(e){const t=e.titleBlock;zt.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;zt.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ao=new WeakMap;var Qx={id:"subtitle",start(e,t,n){const i=new qa({ctx:e.ctx,options:n,chart:e});zt.configure(e,i,n),zt.addBox(e,i),ao.set(e,i)},stop(e){zt.removeBox(e,ao.get(e)),ao.delete(e)},beforeUpdate(e,t,n){const i=ao.get(e);zt.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const os={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,o=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),s+=l.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:s/o}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,o,r,a;for(o=0,r=e.length;o<r;++o){const l=e[o].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Ur(t,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Ie(e,t){return t&&(ft(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Je(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function ty(e,t){const{element:n,datasetIndex:i,index:s}=t,o=e.getDatasetMeta(i).controller,{label:r,value:a}=o.getLabelAndValue(s);return{chart:e,label:r,parsed:o.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:a,dataset:o.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function jc(e,t){const n=e.chart.ctx,{body:i,footer:s,title:o}=e,{boxWidth:r,boxHeight:a}=t,l=Ct(t.bodyFont),c=Ct(t.titleFont),u=Ct(t.footerFont),h=o.length,d=s.length,f=i.length,p=Wt(t.padding);let g=p.height,v=0,b=i.reduce((w,y)=>w+y.before.length+y.lines.length+y.after.length,0);if(b+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),b){const w=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*w+(b-f)*l.lineHeight+(b-1)*t.bodySpacing}d&&(g+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let _=0;const x=function(w){v=Math.max(v,n.measureText(w).width+_)};return n.save(),n.font=c.string,st(e.title,x),n.font=l.string,st(e.beforeBody.concat(e.afterBody),x),_=t.displayColors?r+2+t.boxPadding:0,st(i,w=>{st(w.before,x),st(w.lines,x),st(w.after,x)}),_=0,n.font=u.string,st(e.footer,x),n.restore(),v+=p.width,{width:v,height:g}}function ey(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function ny(e,t,n,i){const{x:s,width:o}=i,r=n.caretSize+n.caretPadding;if(e==="left"&&s+o+r>t.width||e==="right"&&s-o-r<0)return!0}function iy(e,t,n,i){const{x:s,width:o}=n,{width:r,chartArea:{left:a,right:l}}=e;let c="center";return i==="center"?c=s<=(a+l)/2?"left":"right":s<=o/2?c="left":s>=r-o/2&&(c="right"),ny(c,e,t,n)&&(c="center"),c}function qc(e,t,n){const i=n.yAlign||t.yAlign||ey(e,n);return{xAlign:n.xAlign||t.xAlign||iy(e,t,n,i),yAlign:i}}function sy(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function oy(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function Yc(e,t,n,i){const{caretSize:s,caretPadding:o,cornerRadius:r}=e,{xAlign:a,yAlign:l}=n,c=s+o,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Xn(r);let p=sy(t,a);const g=oy(t,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,d)+s:a==="right"&&(p+=Math.max(h,f)+s),{x:Pt(p,0,i.width-t.width),y:Pt(g,0,i.height-t.height)}}function lo(e,t,n){const i=Wt(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function Uc(e){return Ie([],Je(e))}function ry(e,t,n){return Mn(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function $c(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const cd={beforeTitle:Ze,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Ze,beforeBody:Ze,beforeLabel:Ze,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return $(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ze,afterBody:Ze,beforeFooter:Ze,footer:Ze,afterFooter:Ze};function Yt(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?cd[t].call(n,i):s}class ea extends cn{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,o=new Vh(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=ry(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=Yt(i,"beforeTitle",this,t),o=Yt(i,"title",this,t),r=Yt(i,"afterTitle",this,t);let a=[];return a=Ie(a,Je(s)),a=Ie(a,Je(o)),a=Ie(a,Je(r)),a}getBeforeBody(t,n){return Uc(Yt(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return st(t,o=>{const r={before:[],lines:[],after:[]},a=$c(i,o);Ie(r.before,Je(Yt(a,"beforeLabel",this,o))),Ie(r.lines,Yt(a,"label",this,o)),Ie(r.after,Je(Yt(a,"afterLabel",this,o))),s.push(r)}),s}getAfterBody(t,n){return Uc(Yt(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=Yt(i,"beforeFooter",this,t),o=Yt(i,"footer",this,t),r=Yt(i,"afterFooter",this,t);let a=[];return a=Ie(a,Je(s)),a=Ie(a,Je(o)),a=Ie(a,Je(r)),a}_createItems(t){const n=this._active,i=this.chart.data,s=[],o=[],r=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(ty(this.chart,n[l]));return t.filter&&(a=a.filter((u,h,d)=>t.filter(u,h,d,i))),t.itemSort&&(a=a.sort((u,h)=>t.itemSort(u,h,i))),st(a,u=>{const h=$c(t.callbacks,u);s.push(Yt(h,"labelColor",this,u)),o.push(Yt(h,"labelPointStyle",this,u)),r.push(Yt(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=r,this.dataPoints=a,a}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let o,r=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{const a=os[i.position].call(this,s,this._eventPosition);r=this._createItems(i),this.title=this.getTitle(r,i),this.beforeBody=this.getBeforeBody(r,i),this.body=this.getBody(r,i),this.afterBody=this.getAfterBody(r,i),this.footer=this.getFooter(r,i);const l=this._size=jc(this,i),c=Object.assign({},a,l),u=qc(this.chart,i,c),h=Yc(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,o={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=r,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const o=this.getCaretPosition(t,i,s);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:o}=this,{caretSize:r,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Xn(a),{x:d,y:f}=t,{width:p,height:g}=n;let v,b,_,x,w,y;return o==="center"?(w=f+g/2,s==="left"?(v=d,b=v-r,x=w+r,y=w-r):(v=d+p,b=v+r,x=w-r,y=w+r),_=v):(s==="left"?b=d+Math.max(l,u)+r:s==="right"?b=d+p-Math.max(c,h)-r:b=this.caretX,o==="top"?(x=f,w=x-r,v=b-r,_=b+r):(x=f+g,w=x+r,v=b+r,_=b-r),y=x),{x1:v,x2:b,x3:_,y1:x,y2:w,y3:y}}drawTitle(t,n,i){const s=this.title,o=s.length;let r,a,l;if(o){const c=xi(i.rtl,this.x,this.width);for(t.x=lo(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",r=Ct(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=r.string,l=0;l<o;++l)n.fillText(s[l],c.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+a,l+1===o&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,n,i,s,o){const r=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=o,u=Ct(o.bodyFont),h=lo(this,"left",o),d=s.x(h),f=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+f;if(o.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=s.leftForLtr(d,c)+c/2,b=p+l/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Xr(t,g,v,b),t.strokeStyle=r.borderColor,t.fillStyle=r.backgroundColor,Xr(t,g,v,b)}else{t.lineWidth=X(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,t.strokeStyle=r.borderColor,t.setLineDash(r.borderDash||[]),t.lineDashOffset=r.borderDashOffset||0;const g=s.leftForLtr(d,c),v=s.leftForLtr(s.xPlus(d,1),c-2),b=Xn(r.borderRadius);Object.values(b).some(_=>_!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Cs(t,{x:g,y:p,w:c,h:l,radius:b}),t.fill(),t.stroke(),t.fillStyle=r.backgroundColor,t.beginPath(),Cs(t,{x:v,y:p+1,w:c-2,h:l-2,radius:b}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(g,p,c,l),t.strokeRect(g,p,c,l),t.fillStyle=r.backgroundColor,t.fillRect(v,p+1,c-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:o,bodyAlign:r,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=Ct(i.bodyFont);let d=h.lineHeight,f=0;const p=xi(i.rtl,this.x,this.width),g=function(C){n.fillText(C,p.x(t.x+f),t.y+d/2),t.y+=d+o},v=p.textAlign(r);let b,_,x,w,y,A,k;for(n.textAlign=r,n.textBaseline="middle",n.font=h.string,t.x=lo(this,v,i),n.fillStyle=i.bodyColor,st(this.beforeBody,g),f=a&&v!=="right"?r==="center"?c/2+u:c+2+u:0,w=0,A=s.length;w<A;++w){for(b=s[w],_=this.labelTextColors[w],n.fillStyle=_,st(b.before,g),x=b.lines,a&&x.length&&(this._drawColorBox(n,t,w,p,i),d=Math.max(h.lineHeight,l)),y=0,k=x.length;y<k;++y)g(x[y]),d=h.lineHeight;st(b.after,g)}f=0,d=h.lineHeight,st(this.afterBody,g),t.y-=o}drawFooter(t,n,i){const s=this.footer,o=s.length;let r,a;if(o){const l=xi(i.rtl,this.x,this.width);for(t.x=lo(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",r=Ct(i.footerFont),n.fillStyle=i.footerColor,n.font=r.string,a=0;a<o;++a)n.fillText(s[a],l.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:o,yAlign:r}=this,{x:a,y:l}=t,{width:c,height:u}=i,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:p}=Xn(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+h,l),r==="top"&&this.drawCaret(t,n,i,s),n.lineTo(a+c-d,l),n.quadraticCurveTo(a+c,l,a+c,l+d),r==="center"&&o==="right"&&this.drawCaret(t,n,i,s),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),r==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),r==="center"&&o==="left"&&this.drawCaret(t,n,i,s),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){const r=os[t.position].call(this,this._active,this._eventPosition);if(!r)return;const a=this._size=jc(this,t),l=Object.assign({},r,this._size),c=qc(n,t,l),u=Yc(t,l,c,n);(s._to!==u.x||o._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const r=Wt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,s,n),Bh(t,n.textDirection),o.y+=r.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),Fh(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),o=!Fo(i,s),r=this._positionChanged(s,n);(o||r)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],r=this._getActiveElements(t,o,n,i),a=this._positionChanged(r,t),l=n||!Fo(r,o)||a;return l&&(this._active=r,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,i,s){const o=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const r=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&r.reverse(),r}_positionChanged(t,n){const{caretX:i,caretY:s,options:o}=this,r=os[o.position].call(this,t,n);return r!==!1&&(i!==r.x||s!==r.y)}}P(ea,"positioners",os);var ay={id:"tooltip",_element:ea,positioners:os,afterInit(e,t,n){n&&(e.tooltip=new ea({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:cd},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},ly=Object.freeze({__proto__:null,Colors:xx,Decimation:kx,Filler:qx,Legend:Zx,SubTitle:Qx,Title:Jx,Tooltip:ay});const cy=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function uy(e,t,n,i){const s=e.indexOf(t);if(s===-1)return cy(e,t,n,i);const o=e.lastIndexOf(t);return s!==o?n:s}const hy=(e,t)=>e===null?null:Pt(Math.round(e),0,t);function Xc(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class na extends oi{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:o}of n)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if($(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:uy(i,t,j(n,t),this._addedLabels),hy(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let o=this.getLabels();o=t===0&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let r=t;r<=n;r++)s.push({value:r});return s}getLabelForValue(t){return Xc.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}P(na,"id","category"),P(na,"defaults",{ticks:{callback:Xc}});function dy(e,t){const n=[],{bounds:s,step:o,min:r,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=e,f=o||1,p=u-1,{min:g,max:v}=t,b=!$(r),_=!$(a),x=!$(c),w=(v-g)/(h+1);let y=jl((v-g)/p/f)*f,A,k,C,T;if(y<1e-14&&!b&&!_)return[{value:g},{value:v}];T=Math.ceil(v/y)-Math.floor(g/y),T>p&&(y=jl(T*y/p/f)*f),$(l)||(A=Math.pow(10,l),y=Math.ceil(y*A)/A),s==="ticks"?(k=Math.floor(g/y)*y,C=Math.ceil(v/y)*y):(k=g,C=v),b&&_&&o&&sv((a-r)/o,y/1e3)?(T=Math.round(Math.min((a-r)/y,u)),y=(a-r)/T,k=r,C=a):x?(k=b?r:k,C=_?a:C,T=c-1,y=(C-k)/T):(T=(C-k)/y,hs(T,Math.round(T),y/1e3)?T=Math.round(T):T=Math.ceil(T));const B=Math.max(ql(y),ql(k));A=Math.pow(10,$(l)?B:l),k=Math.round(k*A)/A,C=Math.round(C*A)/A;let F=0;for(b&&(d&&k!==r?(n.push({value:r}),k<r&&F++,hs(Math.round((k+F*y)*A)/A,r,Gc(r,w,e))&&F++):k<r&&F++);F<T;++F){const z=Math.round((k+F*y)*A)/A;if(_&&z>a)break;n.push({value:z})}return _&&d&&C!==a?n.length&&hs(n[n.length-1].value,a,Gc(a,w,e))?n[n.length-1].value=a:n.push({value:a}):(!_||C===a)&&n.push({value:C}),n}function Gc(e,t,{horizontal:n,minRotation:i}){const s=Ae(i),o=(n?Math.sin(s):Math.cos(s))||.001,r=.75*t*(""+e).length;return Math.min(t/o,r)}class qo extends oi{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return $(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:o}=this;const r=l=>s=n?s:l,a=l=>o=i?o:l;if(t){const l=Ve(s),c=Ve(o);l<0&&c<0?a(0):l>0&&c>0&&r(0)}if(s===o){let l=o===0?1:Math.abs(o*.05);a(o+l),t||r(s-l)}this.min=s,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,r=dy(s,o);return t.bounds==="ticks"&&_h(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return Vs(t,this.chart.options.locale,this.options.ticks.format)}}class ia extends qo{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=_t(t)?t:0,this.max=_t(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=Ae(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}P(ia,"id","linear"),P(ia,"defaults",{ticks:{callback:ir.formatters.numeric}});const Ps=e=>Math.floor(bn(e)),Rn=(e,t)=>Math.pow(10,Ps(e)+t);function Zc(e){return e/Math.pow(10,Ps(e))===1}function Kc(e,t,n){const i=Math.pow(10,n),s=Math.floor(e/i);return Math.ceil(t/i)-s}function fy(e,t){const n=t-e;let i=Ps(n);for(;Kc(e,t,i)>10;)i++;for(;Kc(e,t,i)<10;)i--;return Math.min(i,Ps(e))}function py(e,{min:t,max:n}){t=te(e.min,t);const i=[],s=Ps(t);let o=fy(t,n),r=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),l=s>o?Math.pow(10,s):0,c=Math.round((t-l)*r)/r,u=Math.floor((t-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,o)),d=te(e.min,Math.round((l+u+h*Math.pow(10,o))*r)/r);for(;d<n;)i.push({value:d,major:Zc(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(o++,h=2,r=o>=0?1:r),d=Math.round((l+u+h*Math.pow(10,o))*r)/r;const f=te(e.max,d);return i.push({value:f,major:Zc(f),significand:h}),i}class sa extends oi{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=qo.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return _t(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=_t(t)?Math.max(0,t):null,this.max=_t(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!_t(this._userMin)&&(this.min=t===Rn(this.min,0)?Rn(this.min,-1):Rn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const o=a=>i=t?i:a,r=a=>s=n?s:a;i===s&&(i<=0?(o(1),r(10)):(o(Rn(i,-1)),r(Rn(s,1)))),i<=0&&o(Rn(s,-1)),s<=0&&r(Rn(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=py(n,this);return t.bounds==="ticks"&&_h(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Vs(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=bn(t),this._valueRange=bn(this.max)-bn(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(bn(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}P(sa,"id","logarithmic"),P(sa,"defaults",{ticks:{callback:ir.formatters.logarithmic,major:{enabled:!0}}});function oa(e){const t=e.ticks;if(t.display&&e.display){const n=Wt(t.backdropPadding);return j(t.font&&t.font.size,pt.font.size)+n.height}return 0}function gy(e,t,n){return n=ft(n)?n:[n],{w:yv(e,t.string,n),h:n.length*t.lineHeight}}function Jc(e,t,n,i,s){return e===i||e===s?{start:t-n/2,end:t+n/2}:e<i||e>s?{start:t-n,end:t}:{start:t,end:t+n}}function my(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],s=[],o=e._pointLabels.length,r=e.options.pointLabels,a=r.centerPointLabels?tt/o:0;for(let l=0;l<o;l++){const c=r.setContext(e.getPointLabelContext(l));s[l]=c.padding;const u=e.getPointPosition(l,e.drawingArea+s[l],a),h=Ct(c.font),d=gy(e.ctx,h,e._pointLabels[l]);i[l]=d;const f=Ft(e.getIndexAngle(l)+a),p=Math.round(Oa(f)),g=Jc(p,u.x,d.w,0,180),v=Jc(p,u.y,d.h,90,270);vy(n,t,f,g,v)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=xy(e,i,s)}function vy(e,t,n,i,s){const o=Math.abs(Math.sin(n)),r=Math.abs(Math.cos(n));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/o,e.l=Math.min(e.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/o,e.r=Math.max(e.r,t.r+a)),s.start<t.t?(l=(t.t-s.start)/r,e.t=Math.min(e.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/r,e.b=Math.max(e.b,t.b+l))}function by(e,t,n){const i=e.drawingArea,{extra:s,additionalAngle:o,padding:r,size:a}=n,l=e.getPointPosition(t,i+s+r,o),c=Math.round(Oa(Ft(l.angle+wt))),u=Ay(l.y,a.h,c),h=yy(c),d=wy(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function _y(e,t){if(!t)return!0;const{left:n,top:i,right:s,bottom:o}=e;return!(on({x:n,y:i},t)||on({x:n,y:o},t)||on({x:s,y:i},t)||on({x:s,y:o},t))}function xy(e,t,n){const i=[],s=e._pointLabels.length,o=e.options,{centerPointLabels:r,display:a}=o.pointLabels,l={extra:oa(o)/2,additionalAngle:r?tt/s:0};let c;for(let u=0;u<s;u++){l.padding=n[u],l.size=t[u];const h=by(e,u,l);i.push(h),a==="auto"&&(h.visible=_y(h,c),h.visible&&(c=h))}return i}function yy(e){return e===0||e===180?"center":e<180?"left":"right"}function wy(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function Ay(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function ky(e,t,n){const{left:i,top:s,right:o,bottom:r}=n,{backdropColor:a}=t;if(!$(a)){const l=Xn(t.borderRadius),c=Wt(t.backdropPadding);e.fillStyle=a;const u=i-c.left,h=s-c.top,d=o-i+c.width,f=r-s+c.height;Object.values(l).some(p=>p!==0)?(e.beginPath(),Cs(e,{x:u,y:h,w:d,h:f,radius:l}),e.fill()):e.fillRect(u,h,d,f)}}function Sy(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let s=t-1;s>=0;s--){const o=e._pointLabelItems[s];if(!o.visible)continue;const r=i.setContext(e.getPointLabelContext(s));ky(n,r,o);const a=Ct(r.font),{x:l,y:c,textAlign:u}=o;ni(n,e._pointLabels[s],l,c+a.lineHeight/2,a,{color:r.color,textAlign:u,textBaseline:"middle"})}}function ud(e,t,n,i){const{ctx:s}=e;if(n)s.arc(e.xCenter,e.yCenter,t,0,ct);else{let o=e.getPointPosition(0,t);s.moveTo(o.x,o.y);for(let r=1;r<i;r++)o=e.getPointPosition(r,t),s.lineTo(o.x,o.y)}}function My(e,t,n,i,s){const o=e.ctx,r=t.circular,{color:a,lineWidth:l}=t;!r&&!i||!a||!l||n<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(s.dash||[]),o.lineDashOffset=s.dashOffset,o.beginPath(),ud(e,n,r,i),o.closePath(),o.stroke(),o.restore())}function Cy(e,t,n){return Mn(e,{label:n,index:t,type:"pointLabel"})}class rs extends qo{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Wt(oa(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=_t(t)&&!isNaN(t)?t:0,this.max=_t(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/oa(this.options))}generateTickLabels(t){qo.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const s=at(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?my(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,s){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,s))}getIndexAngle(t){const n=ct/(this._pointLabels.length||1),i=this.options.startAngle||0;return Ft(t*n+Ae(i))}getDistanceFromCenterForValue(t){if($(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if($(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return Cy(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const s=this.getIndexAngle(t)-wt+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:s,bottom:o}=this._pointLabelItems[t];return{left:n,top:i,right:s,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),ud(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:s,border:o}=n,r=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&Sy(this,r),s.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const d=this.getContext(h),f=s.setContext(d),p=o.setContext(d);My(this,f,l,r,p)}}),i.display){for(t.save(),a=r-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:d}=u;!d||!h||(t.lineWidth=d,t.strokeStyle=h,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let o,r;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=Ct(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,r=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const h=Wt(c.backdropPadding);t.fillRect(-r/2-h.left,-o-u.size/2-h.top,r+h.width,u.size+h.height)}ni(t,a.label,0,-o,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}P(rs,"id","radialLinear"),P(rs,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ir.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),P(rs,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),P(rs,"descriptors",{angleLines:{_fallback:"grid"}});const cr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},$t=Object.keys(cr);function Qc(e,t){return e-t}function tu(e,t){if($(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:o}=e._parseOpts;let r=t;return typeof i=="function"&&(r=i(r)),_t(r)||(r=typeof i=="string"?n.parse(r,i):n.parse(r)),r===null?null:(s&&(r=s==="week"&&(Li(o)||o===!0)?n.startOf(r,"isoWeek",o):n.startOf(r,s)),+r)}function eu(e,t,n,i){const s=$t.length;for(let o=$t.indexOf(e);o<s-1;++o){const r=cr[$t[o]],a=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((n-t)/(a*r.size))<=i)return $t[o]}return $t[s-1]}function Ey(e,t,n,i,s){for(let o=$t.length-1;o>=$t.indexOf(n);o--){const r=$t[o];if(cr[r].common&&e._adapter.diff(s,i,r)>=t-1)return r}return $t[n?$t.indexOf(n):0]}function Py(e){for(let t=$t.indexOf(e)+1,n=$t.length;t<n;++t)if(cr[$t[t]].common)return $t[t]}function nu(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=Ra(n,t),o=n[i]>=t?n[i]:n[s];e[o]=!0}}function Dy(e,t,n,i){const s=e._adapter,o=+s.startOf(t[0].value,i),r=t[t.length-1].value;let a,l;for(a=o;a<=r;a=+s.add(a,1,i))l=n[a],l>=0&&(t[l].major=!0);return t}function iu(e,t,n){const i=[],s={},o=t.length;let r,a;for(r=0;r<o;++r)a=t[r],s[a]=r,i.push({value:a,major:!1});return o===0||!n?i:Dy(e,i,s,n)}class Ds extends oi{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new zb._date(t.adapters.date);s.init(n),us(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:tu(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:o,minDefined:r,maxDefined:a}=this.getUserBounds();function l(c){!r&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(o=Math.max(o,c.max))}(!r||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=_t(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),o=_t(o)&&!isNaN(o)?o:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,r=this.max,a=lv(s,o,r);return this._unit=n.unit||(i.autoSkip?eu(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):Ey(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Py(this._unit),this.initOffsets(s),t.reverse&&a.reverse(),iu(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,o;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const r=t.length<3?.5:.25;n=Pt(n,0,r),i=Pt(i,0,r),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,o=s.time,r=o.unit||eu(o.minUnit,n,i,this._getLabelCapacity(n)),a=j(s.ticks.stepSize,1),l=r==="week"?o.isoWeekday:!1,c=Li(l)||l===!0,u={};let h=n,d,f;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":r),t.diff(i,n,r)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+r);const p=s.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<i;d=+t.add(d,a,r),f++)nu(u,d,p);return(d===i||s.bounds==="ticks"||f===1)&&nu(u,d,p),Object.keys(u).sort(Qc).map(g=>+g)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,o=this._unit,r=n||s[o];return this._adapter.format(t,r)}_tickFormatFunction(t,n,i,s){const o=this.options,r=o.ticks.callback;if(r)return at(r,[t,n,i],this);const a=o.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],d=i[n],f=c&&h&&d&&d.major;return this._adapter.format(t,s||(f?h:u))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=Ae(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(s),r=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*o+a*r,h:i*r+a*o}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,o=this._tickFormatFunction(t,0,iu(this,[t],this._majorUnit),s),r=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(tu(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return wh(t.sort(Qc))}}P(Ds,"id","time"),P(Ds,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function co(e,t,n){let i=0,s=e.length-1,o,r,a,l;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=sn(e,"pos",t)),{pos:o,time:a}=e[i],{pos:r,time:l}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=sn(e,"time",t)),{time:o,pos:a}=e[i],{time:r,pos:l}=e[s]);const c=r-o;return c?a+(l-a)*(t-o)/c:a}class ra extends Ds{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=co(n,this.min),this._tableRange=co(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],o=[];let r,a,l,c,u;for(r=0,a=t.length;r<a;++r)c=t[r],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(r=0,a=s.length;r<a;++r)u=s[r+1],l=s[r-1],c=s[r],Math.round((u+l)/2)!==c&&o.push({time:c,pos:r/(a-1)});return o}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,o)=>s-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(co(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return co(this._table,i*this._tableRange+this._minPos,!0)}}P(ra,"id","timeseries"),P(ra,"defaults",Ds.defaults);var Ty=Object.freeze({__proto__:null,CategoryScale:na,LinearScale:ia,LogarithmicScale:sa,RadialLinearScale:rs,TimeScale:Ds,TimeSeriesScale:ra});const Iy=[Fb,fx,ly,Ty];ze.register(...Iy);var Oy=ut('<div class="lv_graph svelte-1e5htbq"><div class="lv_graphTitle svelte-1e5htbq"><p class="svelte-1e5htbq">Las letras <span class="lv_destaColor svelte-1e5htbq" style="background-color: #FF8296;">romÃ¡nticas</span> caen un 34% y las de <span class="lv_destaColor svelte-1e5htbq" style="background-color: #8D3184; color: #fff;">sexo, violencia y drogas</span> crecen un 39% desde 1958</p></div> <div class="lv_graphWrapper svelte-1e5htbq"><p class="lv_axisNote svelte-1e5htbq">Presencia media anual de contenido romÃ¡ntico y explÃ­cito en las letras (0-1)</p> <canvas></canvas> <div class="label label-romanticas svelte-1e5htbq">RomÃ¡nticas</div> <div class="label label-explicit svelte-1e5htbq">De sexo, drogas<br/>y violencia</div></div></div>');function Ry(e,t){Ce(t,!1);let n=H();Pe(()=>{const r=m(n).getContext("2d"),a=new ze(r,{type:"line",data:{labels:[1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],datasets:[{label:"RomÃ¡nticas",data:[.596,.631,.53,.599,.545,.518,.623,.513,.522,.547,.473,.51,.511,.526,.426,.405,.496,.478,.557,.562,.58,.56,.575,.63,.529,.538,.581,.482,.585,.621,.617,.543,.6,.599,.541,.499,.445,.483,.44,.528,.478,.59,.518,.468,.513,.428,.344,.431,.378,.412,.393,.413,.476,.449,.42,.479,.465,.48,.47,.456,.439,.433,.422,.475,.388],borderColor:"rgb(255 130 150)",borderWidth:2,pointRadius:0,pointHoverRadius:5,tension:.2,fill:!1},{label:"De sexo, drogas y violencia",data:[.003,0,.002,0,0,.006,0,.006999999999999999,.006999999999999999,.007000000000000001,.009000000000000001,.011000000000000001,.003,.015,.009000000000000001,.015,.008,.013000000000000001,0,.011000000000000001,.009,.021,.013999999999999999,.015,.003,.015,.03,.006000000000000001,.013000000000000001,.012,.017,.038,.026000000000000002,.042,.08,.08900000000000001,.138,.09,.128,.115,.131,.063,.129,.158,.17300000000000001,.19399999999999998,.237,.207,.19,.162,.20199999999999999,.17600000000000002,.195,.207,.175,.187,.201,.226,.34,.37200000000000005,.44,.35300000000000004,.37300000000000005,.41,.34],borderColor:"rgb(141 49 132)",borderWidth:2,pointRadius:0,pointHoverRadius:5,tension:.3,fill:!1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1}},scales:{x:{grid:{display:!1},ticks:{callback(l){const c=Number(this.getLabelForValue(l));return[1958,1970,1980,1990,2e3,2010,2022].includes(c)?c:""},font:l=>{const c=Number(l.tick.label);return{size:13,weight:c===1958||c===2022?"bold":"normal"}},autoSkip:!1,maxRotation:0,minRotation:0}},y:{beginAtZero:!0,border:{display:!1},grid:{color:l=>l.tick&&l.tick.value===.7?"rgba(0, 0, 0, 0)":"rgba(0, 0, 0, 0.09)"},ticks:{font:{size:12},callback:l=>l===.7?"":l}}}}});return()=>a.destroy()}),Ye();var i=Oy(),s=O(E(i),2),o=O(E(s),2);ge(o,r=>L(n,r),()=>m(n)),nt(e,i),Ee()}var Ly=ut("<span> </span> ",1),By=ut("<span> </span> ",1),Fy=ut('<div class="ks1s_sctContainer svelte-ts73ux"><div class="ks1s_timeline svelte-ts73ux"><div class="ks1s_timelineWrapper svelte-ts73ux"><div class="ks1s_timelineTrack svelte-ts73ux"><div class="ks1s_timelineDot svelte-ts73ux"></div></div> <div class="ks1s_timelineYears svelte-ts73ux"><span class="ks1s_year ks1s_yearLeft svelte-ts73ux"></span> <span class="ks1s_year ks1s_yearRight svelte-ts73ux"></span></div></div></div> <div class="ks1s_sctWrapper svelte-ts73ux"><div class="ks1s_scrollyBackground svelte-ts73ux" id="scrollyBackground-ks1s"></div> <article class="ks1s_art ks1s_scrollyForeground svelte-ts73ux"><section class="ks1s_step svelte-ts73ux" id="step-ks1s1" data-scene="1"><div class="ks1s_stepContent svelte-ts73ux"><div class="ks1s_cardWrapper svelte-ts73ux"><div class="ks1s_lyrics ks1s_lyrics1 svelte-ts73ux"></div> <div class="ks1s_transl svelte-ts73ux"><p></p></div> <div class="ks1s_songData svelte-ts73ux"><div class="ks1s_songTitle svelte-ts73ux"></div> <div class="ks1s_songArtist svelte-ts73ux"></div> <div class="ks1s_songButtons svelte-ts73ux"><button class="ks1s_replayBtn svelte-ts73ux" aria-label="Replay canciÃ³n 1"><img class="ks1s_btnIcon svelte-ts73ux" alt=""/></button></div></div></div></div></section> <section class="ks1s_step svelte-ts73ux" id="step-ks1s2" data-scene="2"><div class="ks1s_stepContent svelte-ts73ux"><div class="ks1s_cardWrapper svelte-ts73ux"><div class="ks1s_lyrics ks1s_lyrics2 svelte-ts73ux"></div> <div class="ks1s_transl svelte-ts73ux"><p></p></div> <div class="ks1s_songData ks1s_songData2 svelte-ts73ux"><div class="ks1s_songTitle svelte-ts73ux"></div> <div class="ks1s_songArtist svelte-ts73ux"></div> <div class="ks1s_songButtons svelte-ts73ux"><button class="ks1s_replayBtn svelte-ts73ux" aria-label="Replay canciÃ³n 2"><img class="ks1s_btnIcon svelte-ts73ux" alt=""/></button></div></div></div></div></section> <section class="ks1s_step ks1s_step--sentinel svelte-ts73ux" id="step-ks1s3" data-scene="3"></section></article></div></div> <audio preload="metadata" class="svelte-ts73ux"></audio> <audio preload="metadata" class="svelte-ts73ux"></audio>',1);function zy(e,t){Ce(t,!1);const n=()=>Qn(Ne,"$audioMuted",i),[i,s]=Vi(),o="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3",r=[{w:'"You',t:.5},{w:"say",t:1},{w:"you want a",t:1.5},{w:"revolution",t:2},{w:"Well",t:2.5},{w:"you know",t:3},{w:"we all want",t:3.5},{w:"to change ",t:3.5},{w:'the world"',t:4.5}],a="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-6.mp3",l=[{w:'"This',t:.5},{w:"is America",t:1},{w:"Don't catch you slippin' now.",t:1.5},{w:"Look how I'm livin' now.",t:2.5},{w:"Police be trippin' now.",t:3.5},{w:"Yeah, this is America.",t:4},{w:"Guns in my area",t:4.5},{w:'I got the strap."',t:5}];let c=null,u=H(),h=H(),d=H(0),f=H(0),p=H(0),g=!1;function v(){const q=new IntersectionObserver(kt=>{kt.forEach(se=>{if(se.isIntersecting){const be=+se.target.getAttribute("data-scene");console.log("KS1S - Escena activa:",be),be!==c&&(c=be,be===1?(b(),g||(g=!0,k())):be===2&&_())}})},{rootMargin:"0px 0px -30% 0px",threshold:.5}),Q=new IntersectionObserver(kt=>{kt.forEach(se=>{se.isIntersecting&&(console.log("KS1S - Centinela alcanzado (top), pausando canciones"),m(u)&&!m(u).paused&&m(u).pause(),m(h)&&!m(h).paused&&m(h).pause())})},{rootMargin:"0px 0px -99% 0px",threshold:0}),rt=document.getElementById("step-ks1s1"),vt=document.getElementById("step-ks1s2");rt&&q.observe(rt),vt&&q.observe(vt);const dt=document.getElementById("step-ks1s3");dt&&Q.observe(dt)}async function b(){if(console.log("KS1S - Activando canciÃ³n 1"),m(h)&&!m(h).paused&&m(h).pause(),!!m(u))try{const q=vs();let Q=!1;if(ne.subscribe(rt=>{Q=rt})(),!Q){console.log("KS1S - Audio no habilitado, no se reproduce");return}if(q&&q.state==="suspended"){console.log("KS1S - Audio estÃ¡ muteado globalmente, no se reproduce");return}St(u,m(u).currentTime=0),await m(u).play(),console.log("KS1S - CanciÃ³n 1 reproduciendo")}catch(q){console.log("KS1S - Error al reproducir canciÃ³n 1:",q)}}async function _(){if(console.log("KS1S - Activando canciÃ³n 2"),m(u)&&!m(u).paused&&m(u).pause(),!!m(h))try{const q=vs();let Q=!1;if(ne.subscribe(rt=>{Q=rt})(),!Q){console.log("KS1S - Audio no habilitado, no se reproduce");return}if(q&&q.state==="suspended"){console.log("KS1S - Audio estÃ¡ muteado globalmente, no se reproduce");return}St(h,m(h).currentTime=0),await m(h).play(),console.log("KS1S - CanciÃ³n 2 reproduciendo")}catch(q){console.log("KS1S - Error al reproducir canciÃ³n 2:",q)}}function x(){L(d,m(u).currentTime)}function w(){L(f,m(h).currentTime)}function y(){m(u)&&(St(u,m(u).currentTime=0),m(u).play())}function A(){m(h)&&(St(h,m(h).currentTime=0),m(h).play())}function k(){if(!g){L(p,0);return}const q=document.getElementById("step-ks1s1"),Q=document.getElementById("step-ks1s2");if(!q||!Q)return;const rt=q.getBoundingClientRect(),vt=Q.getBoundingClientRect(),dt=window.innerHeight,kt=rt.top+rt.height/2,se=vt.top+vt.height/2,be=dt/2,hd=dt;if(kt>=be)L(p,0);else if(se<=be)L(p,1);else{const dd=be-kt;L(p,Math.min(1,Math.max(0,dd/hd)))}}Pe(()=>{v();const q=()=>{g&&k()};return window.addEventListener("scroll",q,{passive:!0}),window.addEventListener("resize",q),()=>{window.removeEventListener("scroll",q),window.removeEventListener("resize",q)}}),yt(()=>(m(u),n()),()=>{m(u)&&St(u,m(u).muted=n())}),yt(()=>(m(h),n()),()=>{m(h)&&St(h,m(h).muted=n())}),Wi(),Ye();var C=Fy(),T=We(C),B=E(T),F=E(B),z=E(F),J=E(z),ot=O(z,2),W=E(ot);W.textContent="1968";var S=O(W,2);S.textContent="2018";var M=O(B,2),R=O(E(M),2),I=E(R),N=E(I),K=E(N),et=E(K);ue(et,5,()=>r,ce,(q,Q,rt)=>{var vt=Ly(),dt=We(vt),kt=E(dt),se=O(dt,1,!0);bt(()=>{he(dt,1,`ks1s_word ${m(d),m(Q),V(()=>m(d)>=m(Q).t?"ks1s_on":"ks1s_off")??""}`,"svelte-ts73ux"),Mt(kt,(m(Q),V(()=>m(Q).w))),Mt(se,V(()=>rt<r.length-1?" ":""))}),nt(q,vt)});var xt=O(et,2),Dt=E(xt);Dt.textContent="Dices que quieres la revoluciÃ³n. Bueno, ya sabes. Todos queremos cambiar el mundo.";var Rt=O(xt,2),At=E(Rt);At.textContent="Revolution";var Kt=O(At,2);Kt.textContent="The Beatles";var $e=O(Kt,2),me=E($e),Te=E(me),mt=O(I,2),qt=E(mt),ji=E(qt),Cn=E(ji);ue(Cn,5,()=>l,ce,(q,Q,rt)=>{var vt=By(),dt=We(vt),kt=E(dt),se=O(dt,1,!0);bt(()=>{he(dt,1,`ks1s_word ${m(f),m(Q),V(()=>m(f)>=m(Q).t?"ks1s_on":"ks1s_off")??""}`,"svelte-ts73ux"),Mt(kt,(m(Q),V(()=>m(Q).w))),Mt(se,V(()=>rt<l.length-1?" ":""))}),nt(q,vt)});var En=O(Cn,2),ri=E(En);ri.textContent="Esto es EE.UU. Que no te pille desprevenido. Mira cÃ³mo vivo ahora. La policÃ­a estÃ¡ flipada. SÃ­, esto es EE.UU. Armas en mi zona. Llevo una pistola.";var ai=O(En,2),Xe=E(ai);Xe.textContent="This is America";var Pn=O(Xe,2);Pn.textContent="Childish Gambino";var li=O(Pn,2),ve=E(li),Dn=E(ve),G=O(T,2);lt(G,"src",o),ge(G,q=>L(u,q),()=>m(u));var ht=O(G,2);lt(ht,"src",a),ge(ht,q=>L(h,q),()=>m(h)),bt(()=>{Ii(J,`left: ${m(p)*100}%`),lt(Te,"src",bs),lt(Dn,"src",bs)}),Ot("click",me,y),Ot("click",ve,A),Ot("timeupdate",G,x),Ot("timeupdate",ht,w),nt(e,C),Ee(),s()}var Ny=ut('<div class="lv_graph svelte-1b12nzv"><div class="lv_graphTitle svelte-1b12nzv"><p class="svelte-1b12nzv">Las letras <span class="lv_destaColor svelte-1b12nzv" style="background-color: #F6A63E;">reivindicativas</span> caen a mÃ­nimos en 2022 y las de <span class="lv_destaColor svelte-1b12nzv" style="background-color: #A7BAF3;">ira y rabia</span> ocupan su lugar</p></div> <div class="lv_graphWrapper svelte-1b12nzv"><p class="lv_axisNote svelte-1b12nzv">Presencia media del contenido social y de la ira en las letras (0â€“1)</p> <canvas></canvas> <div class="label label-angry svelte-1b12nzv">Ira</div> <div class="label label-social svelte-1b12nzv">Sociales y <br/>polÃ­ticas</div></div></div>');function Wy(e,t){Ce(t,!1);let n=H();Pe(()=>{const r=m(n).getContext("2d"),a=new ze(r,{type:"line",data:{labels:[1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],datasets:[{label:"Ira",data:[.012000000000000002,.025,.024000000000000004,.009000000000000001,.031,.042,.016,.055,.07200000000000001,.043,.034,.064,.047,.075,.06,.059000000000000004,.045,.067,.025,.035,.040999999999999995,.057,.07,.052000000000000005,.077,.09,.053,.07400000000000001,.07200000000000001,.069,.063,.08,.07300000000000001,.06,.057999999999999996,.084,.08900000000000001,.094,.114,.09200000000000001,.128,.08,.139,.146,.155,.136,.162,.113,.114,.128,.114,.10099999999999999,.14,.109,.126,.09,.10800000000000001,.128,.162,.207,.16699999999999998,.128,.128,.161,.10800000000000001],borderColor:"rgb(167 186 243)",borderWidth:2,pointRadius:0,pointHoverRadius:5,tension:.2,fill:!1},{label:"Sociales y polÃ­ticas",data:[.046,.033,.09300000000000001,.036000000000000004,.051,.057999999999999996,.073,.087,.11900000000000001,.14300000000000002,.142,.135,.17,.20199999999999999,.152,.157,.095,.145,.076,.08800000000000001,.125,.122,.105,.081,.156,.136,.115,.11599999999999999,.114,.096,.11599999999999999,.141,.10400000000000001,.12300000000000001,.103,.136,.11599999999999999,.127,.099,.092,.11599999999999999,.10300000000000001,.132,.096,.086,.085,.08900000000000001,.065,.067,.057999999999999996,.087,.046,.043,.046000000000000006,.042,.076,.053,.045,.027999999999999997,.052000000000000005,.029000000000000005,.031,.023,.016,.016],borderColor:"rgb(246 166 62)",borderWidth:2,pointRadius:0,pointHoverRadius:5,tension:.3,fill:!1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1}},scales:{x:{grid:{display:!1},ticks:{callback(l){const c=Number(this.getLabelForValue(l));return[1958,1970,1980,1990,2e3,2010,2022].includes(c)?c:""},font:l=>{const c=Number(l.tick.label);return{size:13,weight:c===1958||c===2022?"bold":"normal"}},autoSkip:!1,maxRotation:0,minRotation:0}},y:{beginAtZero:!0,border:{display:!1},grid:{color:l=>l.tick&&l.tick.value===.7?"rgba(0, 0, 0, 0)":"rgba(0, 0, 0, 0.09)"},ticks:{font:{size:12},callback:l=>l===.7?"":l}}}}});return()=>a.destroy()}),Ye();var i=Ny(),s=O(E(i),2),o=O(E(s),2);ge(o,r=>L(n,r),()=>m(n)),nt(e,i),Ee()}const Hy="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAABHklEQVR4AezWYQ6CMAwFYPUkelL1pHoT7fuxZCFkoV3bvZAaCgGybl+LgdvlJL+CsDWyOlIdCapAPVpBhTWnrY6YSxc0sDoSVFhz2urIoHSvwb2wW94dAeIpq/1JpG6ekIYA4ItdZnhBtohHJgJzeUCWIzwgFIhZCA1iBrKHQL5lYfmP0CFQPS2EEqGF0CI0kB6BcXfZ4e2dFTLdeNM+WuNsC+8ehaAj726d+AS5ynlWyFTj7SgEWXoMHq0PLrKEBoI102K0EFqMBUKJsULoMDMQKswshAbjAaHAeEH2MLiWFp4QLLq9Z/DGx3laeEOwcGBwTI0ISCqgTVaQVomgozptdURdsuAB1ZHgAqvTV0fUJQseUB0JLrA6/Wk68gcAAP//K+RbdwAAAAZJREFUAwCTckVl/jS3jQAAAABJRU5ErkJggg==",Vy="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAABOUlEQVR4AezW0Q3CMAwE0MAGbAAjsAFsApPBBozACmwAG8AGcEatlJ9KSXq2o8ooLkUodp9dqV2nhXwC0tsgYyIxEaUOxK2l1NjmtDGR5tYpbYyJKDW2OW1MpLl1KV2wd4ugLuuJ3HD1J8QTQcVYQ84AjIuKsYZ8oNggxkXDWEMEoILxgKhgvCB0DBMiF1cbtNvMGyJwCqYHCAXTC2Q2phRyR6WvQbxRI1/Fz5lSSJ7c+vxVUrAUckSylUHsUCNfUjP/PXleCplMQPxDXiLlVhpTFiNkQy+QWYheILMRPUAoCG8IDeEJoSK8IHSEB0QF4QE5SNEhqp4Tw57JL+vnyBVXskdQEciXrCFS8yEHdnhA2IZ/voD826B3qM4cE6lumfKGmIhyg6vTx0SqW6a8ISai3ODq9IuZyA8AAP//GMUOuQAAAAZJREFUAwDf0DtlRLaNfgAAAABJRU5ErkJggg==";var jy=ut('<div><div class="ks_circle svelte-rgam3o"></div></div>'),qy=ut("<span> </span>"),Yy=ut('<button class="ks_arrow ks_arrowLeft svelte-rgam3o" aria-label="CanciÃ³n anterior"><img class="ks_arrowIcon svelte-rgam3o" alt=""/></button>'),Uy=ut("<span> </span> ",1),$y=ut('<div class="ks_slide svelte-rgam3o"><div class="ks_cardWrapper svelte-rgam3o"><div class="ks_lyrics svelte-rgam3o"></div> <div class="ks_transl svelte-rgam3o"><p class="svelte-rgam3o"> </p></div> <div class="ks_songData svelte-rgam3o"><div class="ks_songTitle svelte-rgam3o"> </div> <div class="ks_songArtist svelte-rgam3o"> </div> <div class="ks_songButtons svelte-rgam3o"><button class="ks_replayBtn svelte-rgam3o" aria-label="Replay canciÃ³n"><img class="ks_btnIcon svelte-rgam3o" alt=""/></button></div></div></div></div>'),Xy=ut("<button></button>"),Gy=ut('<button class="ks_arrow ks_arrowRight svelte-rgam3o" aria-label="Siguiente canciÃ³n"><img class="ks_arrowIcon svelte-rgam3o" alt=""/></button>'),Zy=ut('<audio preload="metadata" class="svelte-rgam3o"></audio>'),Ky=ut('<div class="ks_container svelte-rgam3o"><div class="ks_timeline svelte-rgam3o"><div class="ks_timelineWrapper svelte-rgam3o"><div class="ks_timelineTrack svelte-rgam3o"></div> <div class="ks_timelineYears svelte-rgam3o"></div></div></div> <div class="ks_sliderWrapper svelte-rgam3o"><!> <div class="ks_slideContainer svelte-rgam3o"><!> <div class="ks_indicators svelte-rgam3o"></div></div> <!></div></div> <div id="ks-sentinel" class="ks_sentinel svelte-rgam3o"></div> <!>',1);function Jy(e,t){Ce(t,!1);const n=()=>Qn(Ne,"$audioMuted",i),[i,s]=Vi(),o=[{src:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",lyrics:[{w:`"I'm about to`,t:.5},{w:"give you",t:1},{w:"all of my",t:1.5},{w:"money.",t:2.5},{w:"And all I'm",t:3},{w:"askin",t:3.5},{w:"in return, honey.",t:4},{w:"Is to give me",t:5},{w:"my propers",t:5},{w:'when you get home"',t:5.5}],transl:"Estoy a punto de darte todo mi dinero. Y lo Ãºnico que te pido a cambio, cariÃ±o. Es que me muestres respeto cuando llegues a casa",title:"Respect",artist:"Aretha Franklin",year:"1967"},{src:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3",lyrics:[{w:`"Workin' `,t:.5},{w:"9 to 5.",t:1},{w:"What a way",t:1.3},{w:"to make",t:1.6},{w:"a livin'.",t:2.5},{w:"Barely",t:3},{w:"gettin' by.",t:3.5},{w:"It's all takin'",t:4.5},{w:`and no givin'"`,t:5}],transl:"Trabajando de 9 a 5. QuÃ© manera de ganarse la vida. Apenas sobreviviendo. Es todo tomar y no dar.",title:"9 to 5",artist:"Dolly Parton",year:"1980"},{src:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3",lyrics:[{w:'"I guess',t:.5},{w:"I just lost",t:.8},{w:"my husband,",t:1},{w:"I don't know",t:1.3},{w:"where he went.",t:2},{w:"So I'm gonna",t:3},{w:"drink my money,",t:3.5},{w:"I'm not gonna",t:3.7},{w:"pay",t:4},{w:'his rent"',t:5}],transl:"Supongo que acabo de perder a mi marido, no sÃ© dÃ³nde ha ido. AsÃ­ que me voy a beberme mi dinero, no voy a pagarle el alquiler (no).",title:"So What",artist:"Pink",year:"2008"},{src:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3",lyrics:[{w:'"If you got',t:.5},{w:"beauty",t:1},{w:"just raise",t:1.3},{w:"'em up.",t:1.6},{w:"'Cause every inch",t:2.2},{w:"of you is perfect",t:2.6},{w:"From the bottom",t:3.5},{w:"to the top.",t:4}],transl:"Si tienes belleza, arriba esas manos. Porque cada centÃ­metro de ti es perfecto, de abajo arriba.",title:"All about that bass",artist:"Meghan Trainor",year:"2014"},{src:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3",lyrics:[{w:`"And I'm so sick`,t:.5},{w:"of them coming",t:1},{w:"at me again.",t:1.3},{w:"'Cause if I was",t:1.6},{w:"a man",t:2.2},{w:"Then I'd be",t:2.6},{w:"the man",t:3.5},{w:"I'd be",t:4},{w:"the man",t:4.5},{w:"I'd be",t:4},{w:'the man"',t:4.5}],transl:"Y estoy tan harta de que vengan a por mÃ­ otra vez. Porque si fuera un hombre, serÃ­a el hombre, serÃ­a el hombre, serÃ­a el hombre",title:"The man",artist:"Taylor Swift",year:"2019"}];let r=H(0),a=!1,l=H([]),c=H([0,0,0,0]),u=H();function h(){const S=new IntersectionObserver(I=>{I.forEach(N=>{N.isIntersecting&&!a&&(a=!0,console.log("Slider visible, activando primera canciÃ³n"),d(0))})},{threshold:.6}),M=new IntersectionObserver(I=>{I.forEach(N=>{N.isIntersecting&&(console.log("Centinela alcanzado (top), pausando todas las canciones"),m(l).forEach(K=>{K&&!K.paused&&K.pause()}))})},{rootMargin:"0px 0px -99% 0px",threshold:0});m(u)&&S.observe(m(u));const R=document.getElementById("ks-sentinel");R&&M.observe(R)}async function d(S){console.log("Activando canciÃ³n",S),m(l).forEach((R,I)=>{R&&!R.paused&&I!==S&&R.pause()});const M=m(l)[S];if(M)try{const R=vs();let I=!1;if(ne.subscribe(N=>{I=N})(),!I){console.log("Audio no habilitado, no se reproduce");return}if(R&&R.state==="suspended"){console.log("Audio estÃ¡ muteado globalmente, no se reproduce");return}M.currentTime=0,await M.play(),console.log("CanciÃ³n",S,"reproduciendo")}catch(R){console.log("Error al reproducir canciÃ³n",S,":",R)}}function f(S){m(l)[S]&&St(c,m(c)[S]=m(l)[S].currentTime)}function p(S){const M=m(l)[S];M&&(M.currentTime=0,M.play())}function g(){m(r)>0&&(Ga(r,-1),d(m(r)))}function v(){m(r)<o.length-1&&(Ga(r),d(m(r)))}Pe(()=>(h(),()=>{m(l).forEach(S=>{S&&!S.paused&&S.pause()})})),yt(()=>(m(l),n()),()=>{m(l).length>0&&m(l).forEach(S=>{S&&(S.muted=n())})}),Wi(),Ye();var b=Ky(),_=We(b),x=E(_),w=E(x),y=E(w);ue(y,5,()=>o,ce,(S,M,R)=>{var I=jy();let N;bt(K=>{N=he(I,1,"ks_timelinePoint svelte-rgam3o",null,N,K),Ii(I,`left: ${V(()=>R/(o.length-1)*100)??""}%`)},[()=>({ks_active:R===m(r)})]),nt(S,I)});var A=O(y,2);ue(A,5,()=>o,ce,(S,M,R)=>{var I=qy();let N;var K=E(I);bt(et=>{N=he(I,1,"ks_year svelte-rgam3o",null,N,et),Ii(I,`left: ${V(()=>R/(o.length-1)*100)??""}%`),Mt(K,(m(M),V(()=>m(M).year)))},[()=>({ks_yearActive:R===m(r)})]),nt(S,I)});var k=O(x,2),C=E(k);{var T=S=>{var M=Yy(),R=E(M);bt(()=>lt(R,"src",Hy)),Ot("click",M,g),nt(S,M)};bi(C,S=>{m(r)>0&&S(T)})}var B=O(C,2),F=E(B);ue(F,1,()=>o,ce,(S,M,R)=>{var I=xf(),N=We(I);{var K=et=>{var xt=$y(),Dt=E(xt),Rt=E(Dt);ue(Rt,5,()=>(m(M),V(()=>m(M).lyrics)),ce,(ai,Xe,Pn)=>{var li=Uy(),ve=We(li),Dn=E(ve),G=O(ve,1,!0);bt(()=>{he(ve,1,`ks_word ${m(c),m(Xe),V(()=>m(c)[R]>=m(Xe).t?"ks_on":"ks_off")??""}`,"svelte-rgam3o"),Mt(Dn,(m(Xe),V(()=>m(Xe).w))),Mt(G,(m(M),V(()=>Pn<m(M).lyrics.length-1?" ":"")))}),nt(ai,li)});var At=O(Rt,2),Kt=E(At),$e=E(Kt),me=O(At,2),Te=E(me),mt=E(Te),qt=O(Te,2),ji=E(qt),Cn=O(qt,2),En=E(Cn),ri=E(En);bt(()=>{Mt($e,(m(M),V(()=>m(M).transl))),Mt(mt,(m(M),V(()=>m(M).title))),Mt(ji,(m(M),V(()=>m(M).artist))),lt(ri,"src",bs)}),Ot("click",En,()=>p(R)),nt(et,xt)};bi(N,et=>{R===m(r)&&et(K)})}nt(S,I)});var z=O(F,2);ue(z,5,()=>o,ce,(S,M,R)=>{var I=Xy();let N;lt(I,"aria-label",`Ir a canciÃ³n ${R+1}`),bt(K=>N=he(I,1,"ks_dot svelte-rgam3o",null,N,K),[()=>({ks_dotActive:R===m(r)})]),Ot("click",I,()=>{L(r,R),d(R)}),nt(S,I)});var J=O(B,2);{var ot=S=>{var M=Gy(),R=E(M);bt(()=>lt(R,"src",Vy)),Ot("click",M,v),nt(S,M)};bi(J,S=>{m(r),V(()=>m(r)<o.length-1)&&S(ot)})}ge(_,S=>L(u,S),()=>m(u));var W=O(_,4);ue(W,1,()=>o,ce,(S,M,R)=>{var I=Zy();ge(I,(N,K)=>St(l,m(l)[K]=N),N=>{var K;return(K=m(l))==null?void 0:K[N]},()=>[R]),bt(()=>lt(I,"src",(m(M),V(()=>m(M).src)))),Ot("timeupdate",I,()=>f(R)),nt(S,I)}),nt(e,b),Ee(),s()}const Qy="/lyrics/assets/spotify-DMvnVpBU.png";var t1=ut(`<main><div class="lv_mainWrapper svelte-1n46o8q"><!> <!> <div class="lv_textContainer svelte-1n46o8q"><div class="lv_textIntro svelte-1n46o8q"><p class="lv_mainTitle svelte-1n46o8q"><span class="lv_titleStrong svelte-1n46o8q">Menos amor y mÃ¡s sexo:</span> <span class="lv_titleLight svelte-1n46o8q">asÃ­ han cambiado las letras de la mÃºsica pop</span></p> <p class="lv_entradilla svelte-1n46o8q">El anÃ¡lisis de seis dÃ©cadas de la lista Billboard apunta al declive de las canciones reivindicativas y al auge de letras marcadas por la ira</p> <p class="lv_authors svelte-1n46o8q">Laura AragÃ³</p></div> <div class="lv_textBlock"><p id="lv_prevParagraph" class="lv_Par lv_introParagraph lv_prevParagraph svelte-1n46o8q">Entre Elvis Presley y RosalÃ­a caben la revoluciÃ³n sexual, la caÃ­da de las grandes ideologÃ­as, MTV, internet y una forma distinta de cantar las relaciones: menos compromiso de futuro y mÃ¡s intensidad en el presente. En 1961, el <span class="lv_italic svelte-1n46o8q">Canâ€™t Help Falling in Love</span>(No puedo evitar enamorarme) de Elvis Presley sonaba como una declaraciÃ³n grabada en piedra. Elvis cantaba al amor con la solemnidad de quien cree que el futuro serÃ¡ estable. Seis dÃ©cadas despuÃ©s, en <span class="lv_italic svelte-1n46o8q">La noche de anoche fue</span>, Bad Bunny y RosalÃ­a celebran un deseo sin promesas: intimidad expuesta y una relaciÃ³n que existe sÃ³lo mientras dura la noche.</p> <p></p> <p class="lv_Par svelte-1n46o8q">La mÃºsica pop funciona como un medidor, superficial pero eficaz, de las transformaciones sociales. Â¿QuÃ© ha ocurrido entre la balada contenida de Elvis y el reguetÃ³n provocativo en el que RosalÃ­a y Bad Bunny susurraban su deseo a escasos centÃ­metros uno del otro? Entre ambos extremos hay 60 aÃ±os y mÃ¡s de 21.000 canciones que, semana tras semana, han pasado por la lista Billboard, el principal ranking del Ã©xito comercial que publica la revista estadounidense del mismo nombre. La Vanguardia ha seleccionado las 100 canciones anuales mÃ¡s populares de la lista, desde el aÃ±o 1958 hasta el aÃ±o 2022. El resultado son 6.500 letras que, leÃ­das en conjunto, dibujan una transformaciÃ³n en la mÃºsica pop: el retroceso del amor romÃ¡ntico como tema dominante, la normalizaciÃ³n del sexo y las drogas, y el desplome las letras reivindicativas y sociales frente al auge de la rabia y la ira. No es una historia sobre canciones: es una historia sobre cÃ³mo hemos cambiado la forma de querer, desear, protestar y enfadarnos.</p></div> <!> <div class="lv_textBlock"><p class="lv_Par svelte-1n46o8q">El amor ha sido, y sigue siendo todavÃ­a, el eje vertebrador de la mÃºsica pop. En los aÃ±os sesenta ocupaba el centro del relato y, aunque su peso ha disminuido con el tiempo, continÃºa siendo una temÃ¡tica predominante. â€œEl amor se impone porque no disputa ni confronta nada: es un producto cultural inofensivoâ€, explica Arnau Tordera, crÃ­tico musical, filÃ³sofo y excantante de la banda catalana Obeses.</p> <p class="lv_Par svelte-1n46o8q">Del <span class="lv_italic svelte-1n46o8q">Iâ€™ll Never Fall in Love Again</span> (No volverÃ© a enamorarme de nuevo) del galÃ©s Tom Jones en 1967, hasta el <span class="lv_italic svelte-1n46o8q">Someone Like You</span> (Alguien como tÃº) de la britÃ¡nica Adele, pasando por el <span class="lv_italic svelte-1n46o8q">Everything I Do, I Do It For You</span> (Todo lo que hago, lo hago por ti) del canadiense Bryan Adams en 1991. Son solo algunos ejemplos de cÃ³mo el romanticismo prevalece a pesar del tiempo, en cualquiera de sus versiones: idealizaciÃ³n, entrega, lÃ­mites y desamor. O incluso en relatos de violencia machista envueltos de amor mal entendido, como <span class="lv_italic svelte-1n46o8q">Delilah</span>, una pieza de Tom Jones que recrea el arrepentimiento de un hombre que mata a su mujer por celos.</p> <p class="lv_Par svelte-1n46o8q">La diferencia es que ahora el amor no reina en solitario. A partir de los aÃ±os noventa, las letras con referencias explÃ­citas al sexo y las drogas crecen de forma sostenida. Pasan de ser casi inexistentes en la dÃ©cada de los setenta a conformar una categorÃ­a predominante con el inicio del nuevo siglo.</p> <p class="lv_Par svelte-1n46o8q">Hay ejemplos precoces de esta categorÃ­a como <span class="lv_italic svelte-1n46o8q">You Turn me On</span> (Me pones) en 1965, de Ian Whitcomb And Bluesville, o la propuesta de Loen Haywood en 1975 titulada <span class="lv_italic svelte-1n46o8q">I Want'a Do Something Freaky To You</span> (Quiero hacerte algo pervertido). Pero no es hasta la dÃ©cada de los noventa cuando este vocabulario se populariza en el pop mainstream.</p></div> <!> <div class="lv_textBlock"><p class="lv_Par svelte-1n46o8q">Canciones como <span class="lv_italic svelte-1n46o8q">I Touch Myself</span>(Me toco) marcan un punto de inflexiÃ³n. La banda australiana Divinyls colocÃ³ en el centro del pop comercial una concepto que rara vez se pronunciaba en pÃºblico: la masturbaciÃ³n. En 1991, esta propuesta convirtiÃ³ el onanismo femenino en un estribillo pegadizo que alcanzÃ³ el â€˜top 5â€™ en Estados Unidos y desafiÃ³ los cÃ³digos de una industria aÃºn conservadora.</p> <p class="lv_Par svelte-1n46o8q">Pero no fue la primera vez que el pop se acercÃ³ a ese terreno. Durante la dÃ©cada de los 70, otras artistas habÃ­an abordado el deseo en clave mÃ¡s sutil: Raffaella CarrÃ  en <span class="lv_italic svelte-1n46o8q">0303-456</span>, donde el gesto repetido de marcar un nÃºmero en un telÃ©fono de rueda imita el movimiento de la masturbaciÃ³n, y RocÃ­o Jurado en <span class="lv_italic svelte-1n46o8q">Amores a solas</span>.</p> <p class="lv_Par svelte-1n46o8q">Tres dÃ©cadas despuÃ©s, esa franqueza sexual ha dejado de ser una rareza. Canciones como <span class="lv_italic svelte-1n46o8q">Toxic</span>, de Britney Spears, o <span class="lv_italic svelte-1n46o8q">DÃ¡kiti</span>, de Bad Bunny y Jhay Cortez, hablan de deseo y atracciÃ³n centrado en el cuerpo. El sexo pasa a ser un registro habitual. Para Tordera, el cambio tiene que ver con la lÃ³gica de la rapidez: â€œEl sexo es mÃ¡s efectivo porque el amor pide un lectura mÃ¡s pausadaâ€. En un entorno marcado por las redes y la celeridad, aÃ±ade, â€œtÃº no quieres en instante, el amor se cuece a fuego lento, pero sÃ­ puedes tener sexo satisfactorio en esta inmediatezâ€.</p></div> <div class="lv_destacat svelte-1n46o8q"><span class="lv_separador svelte-1n46o8q"></span> <h4 class="svelte-1n46o8q">El auge de la rabia y el retroceso de las canciones reivindicativas</h4> <span class="lv_separador svelte-1n46o8q"></span></div> <div class="lv_textBlock"><p class="lv_Par svelte-1n46o8q" id="lv_prevParagraphB">Ese desplazamiento no solo afecta a la forma de cantar el amor o el deseo. TambiÃ©n reordena el lugar que ocupan los conflictos colectivos en la mÃºsica popular. Durante buena parte del siglo XX, las canciones que hablaban de polÃ­tica, desigualdad o cambio social encontraron un espacio en el pop comercial. No eran mayoritarias, pero lograban colarse en las listas y dialogar con su tiempo. Desde el <span class="lv_italic svelte-1n46o8q">Hey Joe</span> (Ey Joe) popularizado por Jimi Hendrix en la dÃ©cada de 1960, que narra la huida de un hombre tras matar a su pareja, hasta <span class="lv_italic svelte-1n46o8q">I Shot the Sheriff</span> (Yo disparÃ© al sheriff) de Bob Marley en 1973, una denuncia de la violencia policial, o <span class="lv_italic svelte-1n46o8q">Hurricane</span> (HuracÃ¡n) de Bob Dylan en 1976, sobre la condena injusta del boxeador negro Rubin Carter.</p> <p class="lv_Par svelte-1n46o8q">No eran mayoritarias, pero lograban colarse en las listas y dialogar con su tiempo. Ese espacio se ha estrechado con las dÃ©cadas. A medida que el pop se vuelve mÃ¡s inmediato y mÃ¡s centrado en la experiencia individual, las letras reivindicativas pierden peso en la lista Billboard.</p></div> <!> <div class="lv_textBlock"><p class="lv_Par svelte-1n46o8q">Ese giro coincide con un cambio mÃ¡s profundo. El pop de los setenta y ochenta funcionaba como altavoz de debates sociales y polÃ­ticos del momento â€”la guerra y los derechos civilesâ€” en un contexto de audiencias relativamente homogÃ©neas. A partir de los noventa, y con la fragmentaciÃ³n digital, la mÃºsica comercial deja de hablar a un â€œnosotrosâ€. â€œLa ausencia de letras polÃ­ticas testimonia cÃ³mo los artistas han sido absorbidos por el sistemaâ€, resume Arnau Tordera. â€œAhora la rabia se utiliza mÃ¡s como una proyecciÃ³n estÃ©tica que como una reivindicaciÃ³n Ã©ticaâ€.</p></div> <!> <div class="lv_textBlock"><p class="lv_Par svelte-1n46o8q">El conflicto ya no se formula como causa comÃºn, sino como experiencia individual. La ira, a diferencia de la protesta, no necesita contexto ni objetivo. Funciona como una emociÃ³n, adaptable a distintos gÃ©neros y fÃ¡cilmente consumible en un mercado global. En ese desplazamiento, el pop deja de seÃ±alar problemas concretos y pasa a expresar un malestar mÃ¡s abstracto y mÃ¡s individual.</p></div> <!> <div class="lv_textBlock"><p class="lv_Par svelte-1n46o8q">Tanto en <span class="lv_italic svelte-1n46o8q">Revolution</span> de The Beatles (1968) como en <span class="lv_italic svelte-1n46o8q">Talkinâ€™ Bout a Revolution</span> (Hablando sobre una revoluciÃ³n) de Tracy Chapman, la protesta en el pop se articulaba como un malestar colectivo y polÃ­tico. En cambio, el rap de Eminem con canciones como <span class="lv_italic svelte-1n46o8q">Lose Yourself</span>(Perderse a uno mismo) publicada en 2002, grita a travÃ©s de los desafÃ­os personales y las relaciones conflictivas. Casi dos dÃ©cadas despuÃ©s, Billie Eilish convierte su primer Ã¡lbum en un relato generacional donde el conflicto ya no se dirige contra un sistema, sino hacia dentro: ansiedad, vacÃ­o, inseguridad.</p> <p class="lv_Par svelte-1n46o8q">El anÃ¡lisis tambiÃ©n permite seguir cÃ³mo el feminismo se ha manifestado en el pop comercial. En 1967, <span class="lv_italic svelte-1n46o8q">Respect</span> (Respeto) de Aretha Franklin convirtiÃ³ una demanda privada en un mensaje pÃºblico. En 1980, Dolly Parton llevÃ³ esa reivindicaciÃ³n al trabajo domÃ©stico no remunerado con <span class="lv_italic svelte-1n46o8q">9 to 5</span> (De nueve a cinco). A partir de los aÃ±os 2000, el enfoque se desplaza hacia la autonomÃ­a individual: <span class="lv_italic svelte-1n46o8q">So What</span> (Y quÃ©) de Pink plantea la ruptura como independencia; <span class="lv_italic svelte-1n46o8q">All About That Bass</span>(Todo sobre ese bajo) de Meghan Trainor cuestiona los modelos corporales; y <span class="lv_italic svelte-1n46o8q">The Man</span> de Taylor Swift enumera las diferencias de trato entre hombres y mujeres en la industria musical y fuera de ella.</p></div> <!> <div class="lv_textBlock"><p class="lv_Par lv_prevParagraph svelte-1n46o8q">Ese recorrido llega hasta <span class="lv_italic svelte-1n46o8q">Flowers</span> (Flores), de Miley Cyrus, que se convirtiÃ³ en 2023 en un himno sobre el amor propio. La canciÃ³n es una respuesta a una balada romÃ¡ntica previa, de Bruno Mars, <span class="lv_italic svelte-1n46o8q">When I Was Your Man</span> (Cuando era tu hombre), que convertÃ­a la ruptura en un ejercicio de arrepentimiento masculino. Donde Ã©l prometÃ­a flores, ella se las compra sola; donde Ã©l enumeraba lo que no supo dar, ella enumera lo que ya no necesita recibir. El eje se desplaza: la relaciÃ³n deja de ocupar el centro y su propia vida se adueÃ±a de ese espacio.</p> <p class="lv_Par svelte-1n46o8q">La lista Billboard no es un archivo neutral. Es el reflejo de una cultura musical absolutamente dominante, vertebrada por la industria musical estadounidense. Lo que funciona ahÃ­ â€”el deseo inmediato, la autosuficiencia emocional, la rabia sin programaâ€” no se queda en Estados Unidos. Se expande, y se reproduce con variaciones en escenas culturales mÃ¡s pequeÃ±as, como la espaÃ±ola o la catalana.</p> <p class="lv_Par svelte-1n46o8q">Por eso, leer cÃ³mo cambian las canciones mÃ¡s escuchadas del mundo es tambiÃ©n leer cÃ³mo se ordena el imaginario colectivo mÃ¡s allÃ¡ de sus fronteras.</p></div> <div class="lv_lista svelte-1n46o8q"><a href="https://open.spotify.com/playlist/47bSfcafNS07Lggfhe4WZB?si=be2b4a457e494bbf&amp;pt=43d269110283d07cbe7bb5177c660218" target="_blank" rel="noopener noreferrer" class="button-link svelte-1n46o8q"><div class="button-container svelte-1n46o8q"><div class="image-wrapper svelte-1n46o8q"><img alt="" class="svelte-1n46o8q"/></div> <span class="button-text svelte-1n46o8q">Escucha la playlist de este artÃ­culo</span></div></a></div> <section class="lv_metod svelte-1n46o8q"><div class="lv_metodWrapper svelte-1n46o8q"><h4 class="svelte-1n46o8q">CÃ³mo lo calculamos</h4> <div class="lv_metodText svelte-1n46o8q"><span class="lv_methodIcon svelte-1n46o8q"></span> <div class="lv_metodTextWrapper svelte-1n46o8q"><p class="lv_Par svelte-1n46o8q">Se ha utilizado la <a href="https://transactions.ismir.net/articles/236/files/6874afafc1960.pdf" target="_blank" rel="noopener noreferrer">base de datos (MGPHot)</a>, creada para estudiar la evoluciÃ³n de la mÃºsica popular y que recoge todas las canciones del ranking semanal Billboard entre 1958 y 2022. El conjunto analiza 58 atributos relacionados con la vocalidad, la armonÃ­a, el ritmo, los instrumentos, la sonoridad, la composiciÃ³n y las letras. Estas variables han sido evaluadas por especialistas en mÃºsica y anÃ¡lisis cultural siguiendo un protocolo: cada canciÃ³n fue escuchada y puntuada, y las anotaciones se contrastaron y agregaron posteriormente para reducir sesgos individuales y garantizar coherencia entre perÃ­odos histÃ³ricos. No se trata, por tanto, de una clasificaciÃ³n automÃ¡tica basada en palabras clave, sino de una evaluaciÃ³n humana sistemÃ¡tica.</p> <p class="lv_Par svelte-1n46o8q">El anÃ¡lisis de <span class="lv_italic svelte-1n46o8q">La Vanguardia</span> se centra Ãºnicamente en los atributos vinculados a las letras (amor, ira, tristeza, euforia, humor, contenido social y contenido explÃ­cito como sexo o violencia). Cada temÃ¡tica se expresa en una escala continua de 0 a 1, lo que permite captar solapamientos y matices: una misma canciÃ³n puede combinar en distinto grado emociones como amor, deseo o rabia.</p> <p class="lv_Par svelte-1n46o8q">A partir de esta base, se han seleccionado las 100 canciones mÃ¡s populares de cada aÃ±o mediante un sistema de ponderaciÃ³n del ranking semanal, en el que las posiciones mÃ¡s altas aportan mÃ¡s peso que las mÃ¡s bajas. De este modo se construye un corpus de unas 6.500 canciones que representan el nÃºcleo del pop comercial durante casi seis dÃ©cadas.</p> <p class="lv_Par svelte-1n46o8q">Para el anÃ¡lisis temÃ¡tico, se considera que una canciÃ³n pertenece a una categorÃ­a cuando su puntuaciÃ³n en ese atributo supera el umbral de 0,5. En el caso del romanticismo, debido a su gran prevalencia histÃ³rica, se ha aplicado un umbral mÃ¡s exigente (0,6) con el fin de identificar mejor los temas en los que el amor es el eje central y facilitar la visualizaciÃ³n de patrones a lo largo del tiempo.</p> <p class="lv_Par svelte-1n46o8q">La entrevista con Sergio Oramas, cientÃ­fico de datos e investigador implicado en el desarrollo de la base de datos, ha sido clave para orientar y validar el enfoque del anÃ¡lisis.</p></div></div></div></section></div></div></main>`);function e1(e,t){Ce(t,!1);function n(){}let i;function s(y,A){y.forEach(k=>{k.isIntersecting&&(k.target.id==="lv_prevParagraph"?(console.log("ðŸ‘ï¸ Beeswarm entrÃ³ en viewport, iniciando carga..."),A.unobserve(k.target)):k.target.id==="lv_prevParagraphB"&&A.unobserve(k.target))})}Pe(()=>{window.addEventListener("resize",n),typeof IntersectionObserver<"u"&&(i=new IntersectionObserver(s,{threshold:.4}),document.querySelectorAll(".lv_prevParagraph").forEach(A=>{i.observe(A)}))}),wa(()=>{i&&i.disconnect(),window.removeEventListener("resize",n)}),Ye();var o=t1(),r=E(o),a=E(r);qf(a,{});var l=O(a,2);Xf(l,{});var c=O(l,2),u=O(E(c),4);_m(u,{});var h=O(u,4);Ry(h,{});var d=O(h,8);zy(d,{});var f=O(d,4);Wy(f,{});var p=O(f,4);km(p,{});var g=O(p,4);Jy(g,{});var v=O(g,4),b=E(v),_=E(b),x=E(_),w=E(x);bt(()=>lt(w,"src",Qy)),nt(e,o),Ee()}yf(e1,{target:document.getElementById("app")});
